/*! For license information please see track.js.LICENSE.txt */
(()=>{var t={4898:t=>{t.exports=function(){var t=["navigation","request","process","log","user","state","error","manual"],e=function(t,e,n){for(var r=n,i=0,o=t.length;i<o;i++)r=e(r,t[i],i,t);return r},n=function(t,n){return e(t,(function(t,e,r,i){return n(e,r,i)?t.concat(e):t}),[])},r=function(t,n){return e(t,(function(t,e,r,i){return!0===t||e===n}),!1)},i=function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);if(!o)return n;for(var r=0,i=a.length;r<i;r++)Object.prototype.hasOwnProperty.call(t,a[r])&&n.push(a[r]);return n},u=function(t,e){return void 0===t&&(t=1),void 0===e&&(e=1/0),function(n){return"number"==typeof n&&parseInt(""+n,10)===n&&n>=t&&n<=e}},c=function(t){return"function"==typeof t||i(t)&&n(t,(function(t){return"function"==typeof t})).length===t.length},l=function(t){return"string"==typeof t&&!!t.length},f={};f.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:l},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(t){return void 0===t||l(t)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(t){return void 0===t||l(t)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(t){return!0===t||!1===t}},enabledErrorTypes:{defaultValue:function(){return{unhandledExceptions:!0,unhandledRejections:!0}},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(t){if("object"!=typeof t||!t)return!1;var e=s(t),i=s({unhandledExceptions:!0,unhandledRejections:!0});return!(n(e,(function(t){return r(i,t)})).length<e.length||n(s(t),(function(e){return"boolean"!=typeof t[e]})).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:c},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:c},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:c},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(t){return t&&"object"==typeof t&&l(t.notify)&&l(t.sessions)&&0===n(s(t),(function(t){return!r(["notify","sessions"],t)})).length}},autoTrackSessions:{defaultValue:function(t){return!0},message:"should be true|false",validate:function(t){return!0===t||!1===t}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(t){return null===t||i(t)&&n(t,(function(t){return"string"==typeof t})).length===t.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(t){return"string"==typeof t&&t.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number ≤100",validate:function(t){return u(0,100)(t)}},enabledBreadcrumbTypes:{defaultValue:function(){return t},message:"should be null or a list of available breadcrumb types ("+t.join(",")+")",validate:function(n){return null===n||i(n)&&e(n,(function(e,n){return!1===e?e:r(t,n)}),!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(t){return void 0===t||"string"==typeof t}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(t){return null===t||t&&e(s(t),(function(t,e){return t&&r(["id","email","name"],e)}),!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(t){return"object"==typeof t&&null!==t}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(t){return!t||t&&e(["debug","info","warn","error"],(function(e,n){return e&&"function"==typeof t[n]}),!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(t){return i(t)&&t.length===n(t,(function(t){return"string"==typeof t||t&&"function"==typeof t.test})).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(t){return i(t)&&t.length===n(t,(function(t){return t&&"object"==typeof t&&"function"==typeof t.load})).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(t){return i(t)&&t.length===n(t,(function(t){return t&&"object"==typeof t&&"string"==typeof t.name})).length}}};var d=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=function(t,n){return e(t,(function(t,e,r,i){return t.concat(n(e,r,i))}),[])};function p(){return p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.apply(this,arguments)}var v=f.schema,g={releaseStage:d({},v.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:p({},v.appType,{defaultValue:function(){return"browser"}}),logger:d({},v.logger,{defaultValue:function(){return"undefined"!=typeof console&&"function"==typeof console.debug?m():void 0}})},m=function(){var t={},e=console.log;return h(["debug","info","warn","error"],(function(n){var r=console[n];t[n]="function"==typeof r?r.bind(console,"[bugsnag]"):e.bind(console,"[bugsnag]")})),t},y=function(){function t(t,e,n,r){void 0===r&&(r=new Date),this.type=n,this.message=t,this.metadata=e,this.timestamp=r}return t.prototype.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},t}(),b={};!function(t,e){"use strict";"object"==typeof b?b=e():t.StackFrame=e()}(this,(function(){"use strict";function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t){return t.charAt(0).toUpperCase()+t.substring(1)}function n(t){return function(){return this[t]}}var r=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],o=["fileName","functionName","source"],a=r.concat(i,o,["args"]);function s(t){if(t instanceof Object)for(var n=0;n<a.length;n++)t.hasOwnProperty(a[n])&&void 0!==t[a[n]]&&this["set"+e(a[n])](t[a[n]])}s.prototype={getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof s)this.evalOrigin=t;else{if(!(t instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(t)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(t(this.getLineNumber())?":"+this.getLineNumber():"")+(t(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var u=0;u<r.length;u++)s.prototype["get"+e(r[u])]=n(r[u]),s.prototype["set"+e(r[u])]=function(t){return function(e){this[t]=Boolean(e)}}(r[u]);for(var c=0;c<i.length;c++)s.prototype["get"+e(i[c])]=n(i[c]),s.prototype["set"+e(i[c])]=function(e){return function(n){if(!t(n))throw new TypeError(e+" must be a Number");this[e]=Number(n)}}(i[c]);for(var l=0;l<o.length;l++)s.prototype["get"+e(o[l])]=n(o[l]),s.prototype["set"+e(o[l])]=function(t){return function(e){this[t]=String(e)}}(o[l]);return s}));var _={};!function(t,e){"use strict";"object"==typeof _?_=e(b):t.ErrorStackParser=e(t.StackFrame)}(this,(function(t){"use strict";var e=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(n))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(t.replace(/[\(\)]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(t){return!!t.match(n)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),o=this.extractLocation(r?r[1]:i.pop()),a=i.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new t({functionName:a,fileName:s,lineNumber:o[1],columnNumber:o[2],source:e})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(t){return!t.match(r)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t({functionName:e});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=e.match(n),i=r&&r[1]?r[1]:void 0,o=this.extractLocation(e.replace(n,""));return new t({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:e})}),this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),i=[],o=2,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new t({fileName:s[2],lineNumber:s[1],source:r[o]}))}return i},parseOpera10:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),i=[],o=0,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new t({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[o]}))}return i},parseOpera11:function(n){return n.stack.split("\n").filter((function(t){return!!t.match(e)&&!t.match(/^Error created at/)}),this).map((function(e){var n,r=e.split("@"),i=this.extractLocation(r.pop()),o=r.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(n=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new t({functionName:a,args:s,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})}),this)}}}));var w=_,E=function(t,e,n,r){var i=r&&r.redactedKeys?r.redactedKeys:[],o=r&&r.redactedPaths?r.redactedPaths:[];return JSON.stringify(function(t,e,n){var r=[],i=0;function o(t,a){function s(){return a.length>8&&i>25e3}if(i++,a.length>20)return S;if(s())return S;if(null===t||"object"!=typeof t)return t;if(function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return!0;return!1}(r,t))return"[Circular]";if(r.push(t),"function"==typeof t.toJSON)try{i--;var u=o(t.toJSON(),a);return r.pop(),u}catch(t){return C(t)}if((l=t)instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(l))){i--;var c=o({name:t.name,message:t.message},a);return r.pop(),c}var l;if(function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t)){for(var f=[],d=0,h=t.length;d<h;d++){if(s()){f.push(S);break}f.push(o(t[d],a.concat("[]")))}return r.pop(),f}var p={};try{for(var v in t)if(Object.prototype.hasOwnProperty.call(t,v))if(k(n,a.join("."))&&I(e,v))p[v]="[REDACTED]";else{if(s()){p[v]=S;break}p[v]=o(x(t,v),a.concat(v))}}catch(t){}return r.pop(),p}return o(t,[])}(t,i,o),e,n)},S="...";function C(t){return"[Throws: "+(t?t.message:"?")+"]"}function k(t,e){for(var n=0,r=t.length;n<r;n++)if(0===e.indexOf(t[n]))return!0;return!1}function I(t,e){for(var n=0,r=t.length;n<r;n++){if("string"==typeof t[n]&&t[n].toLowerCase()===e.toLowerCase())return!0;if(t[n]&&"function"==typeof t[n].test&&t[n].test(e))return!0}return!1}function x(t,e){try{return t[e]}catch(t){return C(t)}}function T(t,e,n,r){if("string"==typeof n){void 0===r?r=null:null!==r&&"string"!=typeof r&&(r=E(r));var i=e[n];"number"!=typeof i?(t.push({name:n,variant:r}),e[n]=t.length-1):t[i]={name:n,variant:r}}}var O={add:T,clear:function(t,e,n){var r=e[n];"number"==typeof r&&(t[r]=null,delete e[n])},merge:function(t,e,n){if(i(e)){for(var r=0;r<e.length;++r){var o=e[r];null!==o&&"object"==typeof o&&T(t,n,o.name,o.variant)}return t}},toEventApi:function(t){return h(n(t,Boolean),(function(t){var e=t.name,n=t.variant,r={featureFlag:e};return"string"==typeof n&&(r.variant=n),r}))}},A=function(t){return!(!t||!t.stack&&!t.stacktrace&&!t["opera#sourceloc"]||"string"!=typeof(t.stack||t.stacktrace||t["opera#sourceloc"])||t.stack===t.name+": "+t.message)};var L=function(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},R=function(t,e,n){"string"==typeof e&&(n?t[e]&&delete t[e][n]:delete t[e])},D={add:function(t,e,n,r){var i;if(e){var o;if(null===n)return R(t,e);"object"==typeof n&&(o=n),"string"==typeof n&&((i={})[n]=r,o=i),o&&(t[e]||(t[e]={}),t[e]=d({},t[e],o))}},get:function(t,e,n){if("string"==typeof e)return n?t[e]?t[e][n]:void 0:t[e]},clear:R},N={};!function(t,e){"use strict";"object"==typeof N?N=e(b):t.StackGenerator=e(t.StackFrame)}(this,(function(t){return{backtrace:function(e){var n=[],r=10;"object"==typeof e&&"number"==typeof e.maxStackSize&&(r=e.maxStackSize);for(var i=arguments.callee;i&&n.length<r&&i.arguments;){for(var o=new Array(i.arguments.length),a=0;a<o.length;++a)o[a]=i.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?n.push(new t({functionName:RegExp.$1||void 0,args:o})):n.push(new t({args:o}));try{i=i.caller}catch(t){break}}return n}}}));var P=function(){function t(e,n,r,i,o){void 0===r&&(r=[]),void 0===i&&(i=U()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=o,this._handledState=i,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this.errors=[j(e,n,t.__type,r)]}var e=t.prototype;return e.addMetadata=function(t,e,n){return D.add(this._metadata,t,e,n)},e.getMetadata=function(t,e){return D.get(this._metadata,t,e)},e.clearMetadata=function(t,e){return D.clear(this._metadata,t,e)},e.addFeatureFlag=function(t,e){void 0===e&&(e=null),O.add(this._features,this._featuresIndex,t,e)},e.addFeatureFlags=function(t){O.merge(this._features,t,this._featuresIndex)},e.getFeatureFlags=function(){return O.toEventApi(this._features)},e.clearFeatureFlag=function(t){O.clear(this._features,this._featuresIndex,t)},e.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},e.getUser=function(){return this._user},e.setUser=function(t,e,n){this._user={id:t,email:e,name:n}},e.toJSON=function(){return{payloadVersion:"4",exceptions:h(this.errors,(function(t){return d({},t,{message:t.errorMessage})})),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags()}},t}(),M=function(t){return/^global code$/i.test(t)?"global code":t},U=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},B=function(t){return"string"==typeof t?t:""};function j(t,n,r,i){return{errorClass:B(t),errorMessage:B(n),type:r,stacktrace:e(i,(function(t,e){var n=function(t){var e={file:t.fileName,method:M(t.functionName),lineNumber:t.lineNumber,columnNumber:t.columnNumber,code:void 0,inProject:void 0};return e.lineNumber>-1&&!e.file&&!e.method&&(e.file="global code"),e}(e);try{return"{}"===JSON.stringify(n)?t:t.concat(n)}catch(e){return t}}),[])}}function F(t){return t.cause?[t].concat(F(t.cause)):[t]}P.getStacktrace=function(t,e,r){if(A(t))return w.parse(t).slice(e);try{return n(N.backtrace(),(function(t){return-1===(t.functionName||"").indexOf("StackGenerator$$")})).slice(1+r)}catch(t){return[]}},P.create=function(t,e,n,r,i,o){void 0===i&&(i=0);var a,s=z(t,e,r,o),u=s[0],c=s[1];try{var l=P.getStacktrace(u,c>0?1+c+i:0,1+i);a=new P(u.name,u.message,l,n,t)}catch(e){a=new P(u.name,u.message,[],n,t)}if("InvalidError"===u.name&&a.addMetadata(""+r,"non-error parameter",V(t)),u.cause){var f,d=F(u).slice(1),p=h(d,(function(t){var e=L(t)&&A(t)?w.parse(t):[],n=z(t,!0,"error cause")[0];return"InvalidError"===n.name&&a.addMetadata("error cause",V(t)),j(n.name,n.message,P.__type,e)}));(f=a.errors).push.apply(f,p)}return a};var V=function(t){return null===t?"null":void 0===t?"undefined":t},z=function(t,e,n,r){var i,o=0,a=function(t){var e="error cause"===n?"was":"received";r&&r.warn(n+" "+e+' a non-error: "'+t+'"');var i=new Error(n+" "+e+' a non-error. See "'+n+'" tab for more detail.');return i.name="InvalidError",i};if(e)switch(typeof t){case"string":case"number":case"boolean":i=new Error(String(t)),o+=1;break;case"function":i=a("function"),o+=2;break;case"object":null!==t&&L(t)?i=t:null!==t&&K(t)?((i=new Error(t.message||t.errorMessage)).name=t.name||t.errorClass,o+=1):(i=a(null===t?"null":"unsupported object"),o+=2);break;default:i=a("nothing"),o+=2}else L(t)?i=t:(i=a(typeof t),o+=2);if(!A(i))try{throw i}catch(t){A(t)&&(i=t,o=1)}return[i,o]};P.__type="browserjs";var K=function(t){return!("string"!=typeof t.name&&"string"!=typeof t.errorClass||"string"!=typeof t.message&&"string"!=typeof t.errorMessage)},G=P,q=function(t,e,n,r){for(var i=!1,o=t.slice();!i&&o.length;)try{i=!1===o.pop()(e)}catch(t){r.error("Error occurred in "+n+" callback, continuing anyway…"),r.error(t)}return i},H=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},W="object"==typeof window?window:self,J=0;for(var Y in W)Object.hasOwnProperty.call(W,Y)&&J++;var X=navigator.mimeTypes?navigator.mimeTypes.length:0,Z=H((X+navigator.userAgent.length).toString(36)+J.toString(36),4),$=function(){return Z},Q=0,tt=Math.pow(36,4);function et(){return H((Math.random()*tt<<0).toString(36),4)}function nt(){return"c"+(new Date).getTime().toString(36)+H((Q=Q<tt?Q:0,++Q-1).toString(36),4)+$()+(et()+et())}nt.fingerprint=$;var rt=nt,it=function(){function t(){this.id=rt(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var e=t.prototype;return e.getUser=function(){return this._user},e.setUser=function(t,e,n){this._user={id:t,email:e,name:n}},e.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},e._track=function(t){this[t._handledState.unhandled?"_unhandled":"_handled"]+=1},t}(),ot=it,at=O.add,st=O.clear,ut=O.merge,ct=function(){},lt=function(){function i(t,e,n,r){var o=this;void 0===e&&(e=f.schema),void 0===n&&(n=[]),this._notifier=r,this._config={},this._schema=e,this._delivery={sendSession:ct,sendEvent:ct},this._logger={debug:ct,info:ct,warn:ct,error:ct},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=i,this.Event=G,this.Breadcrumb=y,this.Session=ot,this._config=this._configure(t,n),h(n.concat(this._config.plugins),(function(t){t&&o._loadPlugin(t)})),this._depth=1;var a=this,s=this.notify;this.notify=function(){return s.apply(a,arguments)}}var o=i.prototype;return o.addMetadata=function(t,e,n){return D.add(this._metadata,t,e,n)},o.getMetadata=function(t,e){return D.get(this._metadata,t,e)},o.clearMetadata=function(t,e){return D.clear(this._metadata,t,e)},o.addFeatureFlag=function(t,e){void 0===e&&(e=null),at(this._features,this._featuresIndex,t,e)},o.addFeatureFlags=function(t){ut(this._features,t,this._featuresIndex)},o.clearFeatureFlag=function(t){st(this._features,this._featuresIndex,t)},o.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},o.getContext=function(){return this._context},o.setContext=function(t){this._context=t},o._configure=function(t,n){var r=e(n,(function(t,e){return e&&e.configSchema?d({},t,e.configSchema):t}),this._schema),i=e(s(r),(function(e,n){var i=r[n].defaultValue(t[n]);return void 0!==t[n]?r[n].validate(t[n])?r[n].allowPartialObject?e.config[n]=d(i,t[n]):e.config[n]=t[n]:(e.errors[n]=r[n].message,e.config[n]=i):e.config[n]=i,e}),{errors:{},config:{}}),o=i.errors,a=i.config;if(r.apiKey){if(!a.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(a.apiKey)||(o.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=d({},a.metadata),ut(this._features,a.featureFlags,this._featuresIndex),this._user=d({},a.user),this._context=a.context,a.logger&&(this._logger=a.logger),a.onError&&(this._cbs.e=this._cbs.e.concat(a.onError)),a.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(a.onBreadcrumb)),a.onSession&&(this._cbs.s=this._cbs.s.concat(a.onSession)),s(o).length&&this._logger.warn(ft(o,t)),a},o.getUser=function(){return this._user},o.setUser=function(t,e,n){this._user={id:t,email:e,name:n}},o._loadPlugin=function(t){var e=t.load(this);return t.name&&(this._plugins["~"+t.name+"~"]=e),this},o.getPlugin=function(t){return this._plugins["~"+t+"~"]},o._setDelivery=function(t){this._delivery=t(this)},o.startSession=function(){var t=new ot;return t.app.releaseStage=this._config.releaseStage,t.app.version=this._config.appVersion,t.app.type=this._config.appType,t._user=d({},this._user),q(this._cbs.s,t,"onSession",this._logger)?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,t)},o.addOnError=function(t,e){void 0===e&&(e=!1),this._cbs.e[e?"unshift":"push"](t)},o.removeOnError=function(t){this._cbs.e=n(this._cbs.e,(function(e){return e!==t}))},o._addOnSessionPayload=function(t){this._cbs.sp.push(t)},o.addOnSession=function(t){this._cbs.s.push(t)},o.removeOnSession=function(t){this._cbs.s=n(this._cbs.s,(function(e){return e!==t}))},o.addOnBreadcrumb=function(t,e){void 0===e&&(e=!1),this._cbs.b[e?"unshift":"push"](t)},o.removeOnBreadcrumb=function(t){this._cbs.b=n(this._cbs.b,(function(e){return e!==t}))},o.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},o.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},o.leaveBreadcrumb=function(e,n,i){if(e="string"==typeof e?e:"",i="string"==typeof i&&r(t,i)?i:"manual",n="object"==typeof n&&null!==n?n:{},e){var o=new y(e,n,i);q(this._cbs.b,o,"onBreadcrumb",this._logger)?this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback"):(this._breadcrumbs.push(o),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs)))}},o._isBreadcrumbTypeEnabled=function(t){var e=this._config.enabledBreadcrumbTypes;return null===e||r(e,t)},o.notify=function(t,e,n){void 0===n&&(n=ct);var r=G.create(t,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(r,e,n)},o._notify=function(t,e,n){var o=this;if(void 0===n&&(n=ct),t.app=d({},t.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),t.context=t.context||this._context,t._metadata=d({},t._metadata,this._metadata),t._user=d({},t._user,this._user),t.breadcrumbs=this._breadcrumbs.slice(),ut(t._features,this._features,t._featuresIndex),null!==this._config.enabledReleaseStages&&!r(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),n(null,t);var a=t.severity,s=function(t){o._logger.error("Error occurred in onError callback, continuing anyway…"),o._logger.error(t)};!function(t,e,n,r){!function(t,e,n){var r=0,i=function(){if(r>=t.length)return n(null,!0);e(t[r],(function(t,e){return t?n(t):!1===e?n(null,!1):(r++,void i())}))};i()}(t,(function(t,r){if("function"!=typeof t)return r(null);try{if(2!==t.length){var i=t(e);return i&&"function"==typeof i.then?i.then((function(t){return setTimeout((function(){return r(null,t)}))}),(function(t){setTimeout((function(){return n(t),r(null,!0)}))})):r(null,i)}t(e,(function(t,e){if(t)return n(t),r(null);r(null,e)}))}catch(t){n(t),r(null)}}),r)}([].concat(this._cbs.e).concat(e),t,s,(function(e,r){if(e&&s(e),!r)return o._logger.debug("Event not sent due to onError callback"),n(null,t);o._isBreadcrumbTypeEnabled("error")&&i.prototype.leaveBreadcrumb.call(o,t.errors[0].errorClass,{errorClass:t.errors[0].errorClass,errorMessage:t.errors[0].errorMessage,severity:t.severity},"error"),a!==t.severity&&(t._handledState.severityReason={type:"userCallbackSetSeverity"}),t.unhandled!==t._handledState.unhandled&&(t._handledState.severityReason.unhandledOverridden=!0,t._handledState.unhandled=t.unhandled),o._session&&(o._session._track(t),t._session=o._session),o._delivery.sendEvent({apiKey:t.apiKey||o._config.apiKey,notifier:o._notifier,events:[t]},(function(e){return n(e,t)}))}))},i}(),ft=function(t,e){return new Error("Invalid configuration\n"+h(s(t),(function(n){return"  - "+n+" "+t[n]+", got "+dt(e[n])})).join("\n\n"))},dt=function(t){switch(typeof t){case"string":case"number":case"object":return JSON.stringify(t);default:return String(t)}},ht=lt,pt={},vt=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];pt.event=function(t,e){var n=E(t,null,null,{redactedPaths:vt,redactedKeys:e});if(n.length>1e6&&(t.events[0]._metadata={notifier:"WARNING!\nSerialized payload was "+n.length/1e6+"MB (limit = 1MB)\nmetadata was removed"},(n=E(t,null,null,{redactedPaths:vt,redactedKeys:e})).length>1e6))throw new Error("payload exceeded 1MB limit");return n},pt.session=function(t,e){var n=E(t,null,null);if(n.length>1e6)throw new Error("payload exceeded 1MB limit");return n};var gt;gt=function(t,e){return void 0===e&&(e=window),{sendEvent:function(n,r){void 0===r&&(r=function(){});var i=mt(t._config,"notify","4",e),o=new e.XDomainRequest;o.onload=function(){r(null)},o.open("POST",i),setTimeout((function(){try{o.send(pt.event(n,t._config.redactedKeys))}catch(e){t._logger.error(e),r(e)}}),0)},sendSession:function(n,r){void 0===r&&(r=function(){});var i=mt(t._config,"sessions","1",e),o=new e.XDomainRequest;o.onload=function(){r(null)},o.open("POST",i),setTimeout((function(){try{o.send(pt.session(n,t._config.redactedKeys))}catch(e){t._logger.error(e),r(e)}}),0)}}};var mt=function(t,e,n,r){var i=JSON.parse(JSON.stringify(new Date));return yt(t.endpoints[e],r.location.protocol)+"?apiKey="+encodeURIComponent(t.apiKey)+"&payloadVersion="+n+"&sentAt="+encodeURIComponent(i)},yt=gt._matchPageProtocol=function(t,e){return"http:"===e?t.replace(/^https:/,"http:"):t},bt=function(t,e){return void 0===e&&(e=window),{sendEvent:function(n,r){void 0===r&&(r=function(){});try{var i=t._config.endpoints.notify,o=new e.XMLHttpRequest;o.onreadystatechange=function(){o.readyState===e.XMLHttpRequest.DONE&&r(null)},o.open("POST",i),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Bugsnag-Api-Key",n.apiKey||t._config.apiKey),o.setRequestHeader("Bugsnag-Payload-Version","4"),o.setRequestHeader("Bugsnag-Sent-At",(new Date).toISOString()),o.send(pt.event(n,t._config.redactedKeys))}catch(e){t._logger.error(e)}},sendSession:function(n,r){void 0===r&&(r=function(){});try{var i=t._config.endpoints.sessions,o=new e.XMLHttpRequest;o.onreadystatechange=function(){o.readyState===e.XMLHttpRequest.DONE&&r(null)},o.open("POST",i),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Bugsnag-Api-Key",t._config.apiKey),o.setRequestHeader("Bugsnag-Payload-Version","1"),o.setRequestHeader("Bugsnag-Sent-At",(new Date).toISOString()),o.send(pt.session(n,t._config.redactedKeys))}catch(e){t._logger.error(e)}}}},_t=new Date,wt=function(){_t=new Date},Et={name:"appDuration",load:function(t){return t.addOnError((function(t){var e=new Date;t.app.duration=e-_t}),!0),{reset:wt}}},St=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},Ct="object"==typeof window?window:self,kt=0;for(var It in Ct)Object.hasOwnProperty.call(Ct,It)&&kt++;var xt=navigator.mimeTypes?navigator.mimeTypes.length:0,Tt=St((xt+navigator.userAgent.length).toString(36)+kt.toString(36),4),Ot=function(){return Tt},At=0,Lt=Math.pow(36,4);function Rt(){return St((Math.random()*Lt<<0).toString(36),4)}function Dt(){return"c"+(new Date).getTime().toString(36)+St((At=At<Lt?At:0,++At-1).toString(36),4)+Ot()+(Rt()+Rt())}Dt.fingerprint=Ot;var Nt=Dt,Pt="bugsnag-anonymous-id",Mt=function(t,e){return void 0===t&&(t=navigator),void 0===e&&(e=window.screen),{load:function(n){var r={locale:t.browserLanguage||t.systemLanguage||t.userLanguage||t.language,userAgent:t.userAgent};e&&e.orientation&&e.orientation.type?r.orientation=e.orientation.type:r.orientation=document.documentElement.clientWidth>document.documentElement.clientHeight?"landscape":"portrait",n._config.generateAnonymousId&&(r.id=function(){try{var t=window.localStorage,e=t.getItem(Pt);return e&&/^c[a-z0-9]{20,32}$/.test(e)||(e=Nt(),t.setItem(Pt,e)),e}catch(t){}}()),n.addOnSession((function(t){t.device=d({},t.device,r),n._config.collectUserIp||Ut(t)})),n.addOnError((function(t){t.device=d({},t.device,r,{time:new Date}),n._config.collectUserIp||Ut(t)}),!0)},configSchema:{generateAnonymousId:{validate:function(t){return!0===t||!1===t},defaultValue:function(){return!0},message:"should be true|false"}}}},Ut=function(t){var e=t.getUser();e&&e.id||t.setUser(t.device.id)},Bt=function(t){return void 0===t&&(t=window),{load:function(e){e.addOnError((function(e){e.request&&e.request.url||(e.request=d({},e.request,{url:t.location.href}))}),!0)}}},jt={load:function(t){t._sessionDelegate=Ft}},Ft={startSession:function(t,e){var n=t;return n._session=e,n._pausedSession=null,null===n._config.enabledReleaseStages||r(n._config.enabledReleaseStages,n._config.releaseStage)?(n._delivery.sendSession({notifier:n._notifier,device:e.device,app:e.app,sessions:[{id:e.id,startedAt:e.startedAt,user:e._user}]}),n):(n._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),n)},resumeSession:function(t){return t._session?t:t._pausedSession?(t._session=t._pausedSession,t._pausedSession=null,t):t.startSession()},pauseSession:function(t){t._pausedSession=t._session,t._session=null}},Vt={load:function(t){t._config.collectUserIp||t.addOnError((function(t){t._user&&void 0===t._user.id&&delete t._user.id,t._user=d({id:"[REDACTED]"},t._user),t.request=d({clientIp:"[REDACTED]"},t.request)}))},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(t){return!0===t||!1===t}}}},zt={load:function(t){!/^(local-)?dev(elopment)?$/.test(t._config.releaseStage)&&t._isBreadcrumbTypeEnabled("log")&&h(Kt,(function(n){var r=console[n];console[n]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];t.leaveBreadcrumb("Console output",e(o,(function(t,e,n){var r="[Unknown value]";try{r=String(e)}catch(t){}if("[object Object]"===r)try{r=JSON.stringify(e)}catch(t){}return t["["+n+"]"]=r,t}),{severity:0===n.indexOf("group")?"log":n}),"log"),r.apply(console,o)},console[n]._restore=function(){console[n]=r}}))}},Kt=n(["log","debug","info","warn","error"],(function(t){return"undefined"!=typeof console&&"function"==typeof console[t]})),Gt=5e5,qt=function(t,r){return void 0===t&&(t=document),void 0===r&&(r=window),{load:function(i){if(i._config.trackInlineScripts){var o=r.location.href,a="",s=t.attachEvent?"complete"===t.readyState:"loading"!==t.readyState,u=function(){return t.documentElement.outerHTML};a=u();var c=t.onreadystatechange;t.onreadystatechange=function(){"interactive"===t.readyState&&(a=u(),s=!0);try{c.apply(this,arguments)}catch(t){}};var l=null,f=function(t){l=t},d=function(){var e=t.currentScript||l;if(!e&&!s){var n=t.scripts||t.getElementsByTagName("script");e=n[n.length-1]}return e};i.addOnError((function(t){t.errors[0].stacktrace=n(t.errors[0].stacktrace,(function(t){return!/__trace__$/.test(t.method)}));var r=t.errors[0].stacktrace[0];if(!r||!r.file||r.file.replace(/#.*$/,"")===o.replace(/#.*$/,"")){var i=d();if(i){var c=i.innerHTML;t.addMetadata("script","content",c.length<=Gt?c:c.substr(0,Gt)),r&&r.lineNumber&&(r.code=function(t){s&&a||(a=u());var n=["\x3c!-- DOC START --\x3e"].concat(a.split("\n")),r=t-1,i=Math.max(r-3,0),o=Math.min(r+3,n.length);return e(n.slice(i,o),(function(t,e,n){return t[i+1+n]=e.length<=200?e:e.substr(0,200),t}),{})}(r.lineNumber))}}}),!0);var p=h(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],(function(t){return Ht(r,t,(function(t){return v(t,(function(t){return{get:function(){return t[0]},replace:function(e){t[0]=e}}}))}))}))[0];h(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],(function(t){r[t]&&r[t].prototype&&Object.prototype.hasOwnProperty.call(r[t].prototype,"addEventListener")&&(Ht(r[t].prototype,"addEventListener",(function(t){return v(t,Wt)})),Ht(r[t].prototype,"removeEventListener",(function(t){return v(t,Wt,!0)})))}))}function v(t,e,n){return void 0===n&&(n=!1),function(){var r=[].slice.call(arguments);try{var i=e(r),o=i.get();if(n&&t.apply(this,r),"function"!=typeof o)return t.apply(this,r);if(o.__trace__)i.replace(o.__trace__);else{var a=d();o.__trace__=function(){f(a),p((function(){f(null)}),0);var t=o.apply(this,arguments);return f(null),t},o.__trace__.__trace__=o.__trace__,i.replace(o.__trace__)}}catch(t){}if(t.apply)return t.apply(this,r);switch(r.length){case 1:return t(r[0]);case 2:return t(r[0],r[1]);default:return t()}}}},configSchema:{trackInlineScripts:{validate:function(t){return!0===t||!1===t},defaultValue:function(){return!0},message:"should be true|false"}}}};function Ht(t,e,n){var r=t[e];if(!r)return r;var i=n(r);return t[e]=i,r}function Wt(t){var e=!!t[1]&&"function"==typeof t[1].handleEvent;return{get:function(){return e?t[1].handleEvent:t[1]},replace:function(n){e?t[1].handleEvent=n:t[1]=n}}}var Jt=function(t){return void 0===t&&(t=window),{load:function(e){"addEventListener"in t&&e._isBreadcrumbTypeEnabled("user")&&t.addEventListener("click",(function(n){var r,i;try{r=Yt(n.target),i=Xt(n.target,t)}catch(t){r="[hidden]",i="[hidden]",e._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}e.leaveBreadcrumb("UI click",{targetText:r,targetSelector:i},"user")}),!0)}}},Yt=function(t){var e,n,r,i=t.textContent||t.innerText||"";return i||"submit"!==t.type&&"button"!==t.type||(i=t.value),e=i=i.replace(/^\s+|\s+$/g,""),n=140,r="(...)",e&&e.length<=n?e:e.slice(0,n-r.length)+r};function Xt(t,e){var n=[t.tagName];if(t.id&&n.push("#"+t.id),t.className&&t.className.length&&n.push("."+t.className.split(" ").join(".")),!e.document.querySelectorAll||!Array.prototype.indexOf)return n.join("");try{if(1===e.document.querySelectorAll(n.join("")).length)return n.join("")}catch(t){return n.join("")}if(t.parentNode.childNodes.length>1){var r=Array.prototype.indexOf.call(t.parentNode.childNodes,t)+1;n.push(":nth-child("+r+")")}return 1===e.document.querySelectorAll(n.join("")).length?n.join(""):t.parentNode?Xt(t.parentNode,e)+" > "+n.join(""):n.join("")}var Zt;Zt=function(t){void 0===t&&(t=window);var e={load:function(e){if("addEventListener"in t&&e._isBreadcrumbTypeEnabled("navigation")){var n=function(t){return function(){return e.leaveBreadcrumb(t,{},"navigation")}};t.addEventListener("pagehide",n("Page hidden"),!0),t.addEventListener("pageshow",n("Page shown"),!0),t.addEventListener("load",n("Page loaded"),!0),t.document.addEventListener("DOMContentLoaded",n("DOMContentLoaded"),!0),t.addEventListener("load",(function(){return t.addEventListener("popstate",n("Navigated back"),!0)})),t.addEventListener("hashchange",(function(n){var r=n.oldURL?{from:$t(n.oldURL,t),to:$t(n.newURL,t),state:te(t)}:{to:$t(t.location.href,t)};e.leaveBreadcrumb("Hash changed",r,"navigation")}),!0),t.history.replaceState&&Qt(e,t.history,"replaceState",t),t.history.pushState&&Qt(e,t.history,"pushState",t)}}};return e};var $t=function(t,e){var n=e.document.createElement("A");return n.href=t,""+n.pathname+n.search+n.hash},Qt=function(t,e,n,r){var i=e[n];e[n]=function(o,a,s){t.leaveBreadcrumb("History "+n,function(t,e,n,r){var i=$t(t.location.href,t);return{title:n,state:e,prevState:te(t),to:r||i,from:i}}(r,o,a,s),"navigation"),"function"==typeof t.resetEventCount&&t.resetEventCount(),t._config.autoTrackSessions&&t.startSession(),i.apply(e,[o,a].concat(void 0!==s?s:[]))}},te=function(t){try{return t.history.state}catch(t){}},ee="request",ne=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=window);var n={load:function(n){if(n._isBreadcrumbTypeEnabled("request")){var i=[n._config.endpoints.notify,n._config.endpoints.sessions].concat(t);(function(){if("addEventListener"in e.XMLHttpRequest.prototype){var t=e.XMLHttpRequest.prototype.open;e.XMLHttpRequest.prototype.open=function(e,n){var r=this,i=!1,o=function(){return u(e,n)},a=function(){return s(e,n,r.status)};i&&(this.removeEventListener("load",a),this.removeEventListener("error",o)),this.addEventListener("load",a),this.addEventListener("error",o),i=!0,t.apply(this,arguments)}}})(),function(){if("fetch"in e&&!e.fetch.polyfill){var t=e.fetch;e.fetch=function(){var e,n=arguments,r=arguments[0],i=arguments[1],s=null;return r&&"object"==typeof r?(s=r.url,i&&"method"in i?e=i.method:r&&"method"in r&&(e=r.method)):(s=r,i&&"method"in i&&(e=i.method)),void 0===e&&(e="GET"),new Promise((function(r,i){t.apply(void 0,n).then((function(t){o(t,e,s),r(t)})).catch((function(t){a(e,s),i(t)}))}))}}}();var o=function(t,e,r){var i={status:t.status,request:e+" "+r};t.status>=400?n.leaveBreadcrumb("fetch() failed",i,ee):n.leaveBreadcrumb("fetch() succeeded",i,ee)},a=function(t,e){n.leaveBreadcrumb("fetch() error",{request:t+" "+e},ee)}}function s(t,e,o){if(void 0!==e){if("string"!=typeof e||!r(i,e.replace(/\?.*$/,""))){var a={status:o,request:t+" "+e};o>=400?n.leaveBreadcrumb("XMLHttpRequest failed",a,ee):n.leaveBreadcrumb("XMLHttpRequest succeeded",a,ee)}}else n._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.")}function u(t,e){void 0!==e?"string"==typeof e&&r(i,e.replace(/\?.*$/,""))||n.leaveBreadcrumb("XMLHttpRequest error",{request:t+" "+e},ee):n._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.")}}};return n},re={load:function(t){var e=0;t.addOnError((function(n){if(e>=t._config.maxEvents)return t._logger.warn("Cancelling event send due to maxEvents per session limit of "+t._config.maxEvents+" being reached"),!1;e++})),t.resetEventCount=function(){e=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer ≤100",validate:function(t){return u(1,100)(t)}}}},ie={},oe=(ie={load:function(t){t.addOnError((function(t){var n=e(t.errors,(function(t,e){return t.concat(e.stacktrace)}),[]);h(n,(function(t){t.file=oe(t.file)}))}))}})._strip=function(t){return"string"==typeof t?t.replace(/\?.*$/,"").replace(/#.*$/,""):t},ae=function(t){return void 0===t&&(t=window),{load:function(e){if(e._config.autoDetectErrors&&e._config.enabledErrorTypes.unhandledExceptions){var n=t.onerror;t.onerror=function(t,r,i,o,a){if(0===i&&/Script error\.?/.test(t))e._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var s,u={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}};if(a)s=e.Event.create(a,!0,u,"window onerror",1),se(s.errors[0].stacktrace,r,i,o);else if("object"!=typeof t||null===t||r&&"string"==typeof r||i||o||a)s=e.Event.create(t,!0,u,"window onerror",1),se(s.errors[0].stacktrace,r,i,o);else{var c=t.type?"Event: "+t.type:"Error",l=t.message||t.detail||"";(s=e.Event.create({name:c,message:l},!0,u,"window onerror",1)).originalError=t,s.addMetadata("window onerror",{event:t,extraParameters:r})}e._notify(s)}"function"==typeof n&&n.apply(this,arguments)}}}}},se=function(t,e,n,r){t[0]||t.push({});var i=t[0];i.file||"string"!=typeof e||(i.file=e),!i.lineNumber&&ue(n)&&(i.lineNumber=n),i.columnNumber||(ue(r)?i.columnNumber=r:window.event&&ue(window.event.errorCharacter)&&(i.columnNumber=window.event.errorCharacter))},ue=function(t){return"number"==typeof t&&"NaN"!==String.call(t)},ce=function(t){return void 0===t&&(t=window),{load:function(e){if(e._config.autoDetectErrors&&e._config.enabledErrorTypes.unhandledRejections){var n=function(t){var n=t.reason,r=!1;try{t.detail&&t.detail.reason&&(n=t.detail.reason,r=!0)}catch(t){}var i=e.Event.create(n,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,e._logger);r&&h(i.errors[0].stacktrace,le(n)),e._notify(i,(function(t){var e;L(t.originalError)&&!t.originalError.stack&&t.addMetadata("unhandledRejection handler",((e={})[Object.prototype.toString.call(t.originalError)]={name:t.originalError.name,message:t.originalError.message,code:t.originalError.code},e))}))};"addEventListener"in t?t.addEventListener("unhandledrejection",n):t.onunhandledrejection=function(t,e){n({detail:{reason:t,promise:e}})}}}}},le=function(t){return function(e){e.file!==t.toString()&&e.method&&(e.method=e.method.replace(/^\s+/,""))}},fe={},de=d({},f.schema,g),he={_client:null,createClient:function(t){"string"==typeof t&&(t={apiKey:t}),t||(t={});var e,n=[Et,Mt(),(void 0===e&&(e=window),{load:function(t){t.addOnError((function(t){void 0===t.context&&(t.context=e.location.pathname)}),!0)}}),Bt(),re,jt,Vt,ie,ae(),ce(),Zt(),Jt(),ne(),zt,qt()],r=new ht(t,de,n,{name:"Bugsnag JavaScript",version:"7.17.4",url:"https://github.com/bugsnag/bugsnag-js"});return r._setDelivery(window.XDomainRequest?gt:bt),r._logger.debug("Loaded!"),r.leaveBreadcrumb("Bugsnag loaded",{},"state"),r._config.autoTrackSessions?r.startSession():r},start:function(t){return he._client?(he._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),he._client):(he._client=he.createClient(t),he._client)},isStarted:function(){return null!=he._client}};return h(["resetEventCount"].concat(s(ht.prototype)),(function(t){/^_/.test(t)||(he[t]=function(){if(!he._client)return console.log("Bugsnag."+t+"() was called before Bugsnag.start()");he._client._depth+=1;var e=he._client[t].apply(he._client,arguments);return he._client._depth-=1,e})})),(fe=he).Client=ht,fe.Event=G,fe.Session=ot,fe.Breadcrumb=y,fe.default=he,fe}()},1259:(t,e,n)=>{t.exports=n(4898)},5793:(t,e,n)=>{var r;!function(){"use strict";var e="input is invalid type",i="object"==typeof window,o=i?window:{};o.JS_SHA256_NO_WINDOW&&(i=!1);var a=!i&&"object"==typeof self,s=!o.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;s?o=n.g:a&&(o=self);var u=!o.JS_SHA256_NO_COMMON_JS&&t.exports,c=n.amdO,l=!o.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,f="0123456789abcdef".split(""),d=[-2147483648,8388608,32768,128],h=[24,16,8,0],p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v=["hex","array","digest","arrayBuffer"],g=[];!o.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!l||!o.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var m=function(t,e){return function(n){return new E(e,!0).update(n)[t]()}},y=function(t){var e=m("hex",t);s&&(e=b(e,t)),e.create=function(){return new E(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<v.length;++n){var r=v[n];e[r]=m(r,t)}return e},b=function(t,r){var i,a=n(9849),s=n(6523).Buffer,u=r?"sha224":"sha256";return i=s.from&&!o.JS_SHA256_NO_BUFFER_FROM?s.from:function(t){return new s(t)},function(n){if("string"==typeof n)return a.createHash(u).update(n,"utf8").digest("hex");if(null==n)throw new Error(e);return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),Array.isArray(n)||ArrayBuffer.isView(n)||n.constructor===s?a.createHash(u).update(i(n)).digest("hex"):t(n)}},_=function(t,e){return function(n,r){return new S(n,e,!0).update(r)[t]()}},w=function(t){var e=_("hex",t);e.create=function(e){return new S(e,t)},e.update=function(t,n){return e.create(t).update(n)};for(var n=0;n<v.length;++n){var r=v[n];e[r]=_(r,t)}return e};function E(t,e){e?(g[0]=g[16]=g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=0,this.blocks=g):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function S(t,n,r){var i,o=typeof t;if("string"===o){var a,s=[],u=t.length,c=0;for(i=0;i<u;++i)(a=t.charCodeAt(i))<128?s[c++]=a:a<2048?(s[c++]=192|a>>>6,s[c++]=128|63&a):a<55296||a>=57344?(s[c++]=224|a>>>12,s[c++]=128|a>>>6&63,s[c++]=128|63&a):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++i)),s[c++]=240|a>>>18,s[c++]=128|a>>>12&63,s[c++]=128|a>>>6&63,s[c++]=128|63&a);t=s}else{if("object"!==o)throw new Error(e);if(null===t)throw new Error(e);if(l&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||l&&ArrayBuffer.isView(t)))throw new Error(e)}t.length>64&&(t=new E(n,!0).update(t).array());var f=[],d=[];for(i=0;i<64;++i){var h=t[i]||0;f[i]=92^h,d[i]=54^h}E.call(this,n,r),this.update(d),this.oKeyPad=f,this.inner=!0,this.sharedMemory=r}E.prototype.update=function(t){if(!this.finalized){var n,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(e);if(null===t)throw new Error(e);if(l&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||l&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}for(var i,o,a=0,s=t.length,u=this.blocks;a<s;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,this.block=u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),n)for(o=this.start;a<s&&o<64;++a)u[o>>>2]|=t[a]<<h[3&o++];else for(o=this.start;a<s&&o<64;++a)(i=t.charCodeAt(a))<128?u[o>>>2]|=i<<h[3&o++]:i<2048?(u[o>>>2]|=(192|i>>>6)<<h[3&o++],u[o>>>2]|=(128|63&i)<<h[3&o++]):i<55296||i>=57344?(u[o>>>2]|=(224|i>>>12)<<h[3&o++],u[o>>>2]|=(128|i>>>6&63)<<h[3&o++],u[o>>>2]|=(128|63&i)<<h[3&o++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++a)),u[o>>>2]|=(240|i>>>18)<<h[3&o++],u[o>>>2]|=(128|i>>>12&63)<<h[3&o++],u[o>>>2]|=(128|i>>>6&63)<<h[3&o++],u[o>>>2]|=(128|63&i)<<h[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=u[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>>2]|=d[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},E.prototype.hash=function(){var t,e,n,r,i,o,a,s,u,c=this.h0,l=this.h1,f=this.h2,d=this.h3,h=this.h4,v=this.h5,g=this.h6,m=this.h7,y=this.blocks;for(t=16;t<64;++t)e=((i=y[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=y[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,y[t]=y[t-16]+e+y[t-7]+n<<0;for(u=l&f,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,m=(i=y[0]-1413257819)-150054599<<0,d=i+24177077<<0):(o=704751109,m=(i=y[0]-210244248)-1521486534<<0,d=i+143694565<<0),this.first=!1):(e=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(o=c&l)^c&f^u,m=d+(i=m+(n=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&v^~h&g)+p[t]+y[t])<<0,d=i+(e+r)<<0),e=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(a=d&c)^d&l^o,g=f+(i=g+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&h^~m&v)+p[t+1]+y[t+1])<<0,e=((f=i+(e+r)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),r=(s=f&d)^f&c^a,v=l+(i=v+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&m^~g&h)+p[t+2]+y[t+2])<<0,e=((l=i+(e+r)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(u=l&f)^l&d^s,h=c+(i=h+(n=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&g^~v&m)+p[t+3]+y[t+3])<<0,c=i+(e+r)<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+c<<0,this.h1=this.h1+l<<0,this.h2=this.h2+f<<0,this.h3=this.h3+d<<0,this.h4=this.h4+h<<0,this.h5=this.h5+v<<0,this.h6=this.h6+g<<0,this.h7=this.h7+m<<0},E.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,u=f[t>>>28&15]+f[t>>>24&15]+f[t>>>20&15]+f[t>>>16&15]+f[t>>>12&15]+f[t>>>8&15]+f[t>>>4&15]+f[15&t]+f[e>>>28&15]+f[e>>>24&15]+f[e>>>20&15]+f[e>>>16&15]+f[e>>>12&15]+f[e>>>8&15]+f[e>>>4&15]+f[15&e]+f[n>>>28&15]+f[n>>>24&15]+f[n>>>20&15]+f[n>>>16&15]+f[n>>>12&15]+f[n>>>8&15]+f[n>>>4&15]+f[15&n]+f[r>>>28&15]+f[r>>>24&15]+f[r>>>20&15]+f[r>>>16&15]+f[r>>>12&15]+f[r>>>8&15]+f[r>>>4&15]+f[15&r]+f[i>>>28&15]+f[i>>>24&15]+f[i>>>20&15]+f[i>>>16&15]+f[i>>>12&15]+f[i>>>8&15]+f[i>>>4&15]+f[15&i]+f[o>>>28&15]+f[o>>>24&15]+f[o>>>20&15]+f[o>>>16&15]+f[o>>>12&15]+f[o>>>8&15]+f[o>>>4&15]+f[15&o]+f[a>>>28&15]+f[a>>>24&15]+f[a>>>20&15]+f[a>>>16&15]+f[a>>>12&15]+f[a>>>8&15]+f[a>>>4&15]+f[15&a];return this.is224||(u+=f[s>>>28&15]+f[s>>>24&15]+f[s>>>20&15]+f[s>>>16&15]+f[s>>>12&15]+f[s>>>8&15]+f[s>>>4&15]+f[15&s]),u},E.prototype.toString=E.prototype.hex,E.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,u=[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a];return this.is224||u.push(s>>>24&255,s>>>16&255,s>>>8&255,255&s),u},E.prototype.array=E.prototype.digest,E.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},S.prototype=new E,S.prototype.finalize=function(){if(E.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();E.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),E.prototype.finalize.call(this)}};var C=y();C.sha256=C,C.sha224=y(!0),C.sha256.hmac=w(),C.sha224.hmac=w(!0),u?t.exports=C:(o.sha256=C.sha256,o.sha224=C.sha224,c&&(void 0===(r=function(){return C}.call(C,n,C,t))||(t.exports=r)))}()},1249:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n,r,i,o,a,s,u,c){void 0===i&&(i=[]),void 0===o&&(o=""),void 0===a&&(a=null),void 0===s&&(s=null),void 0===u&&(u=null),void 0===c&&(c=null),this.onDefaultValueFallback=null,this.name=t,this.value=JSON.parse(JSON.stringify(null!=e?e:{})),this.ruleID=null!=n?n:"",this.secondaryExposures=i,this.allocatedExperimentName=o,this.evaluationDetails=r,this.onDefaultValueFallback=a,this.groupName=s,this.idType=u,this.isExperimentActive=c}return t.prototype.get=function(t,e,n){var r,i,o=this.getValue(t,e);if(null==o)return e;var a=Array.isArray(e)?"array":typeof e,s=Array.isArray(o)?"array":typeof o;return n?n(o)?o:(null===(r=this.onDefaultValueFallback)||void 0===r||r.call(this,this,t,a,s),e):null==e||a===s?o:(null===(i=this.onDefaultValueFallback)||void 0===i||i.call(this,this,t,a,s),e)},t.prototype.getValue=function(t,e){return null==t?this.value:(null==e&&(e=null),null==this.value[t]?e:this.value[t])},t.prototype.getRuleID=function(){return this.ruleID},t.prototype.getGroupName=function(){return this.groupName},t.prototype.getIDType=function(){return this.idType},t.prototype.getName=function(){return this.name},t.prototype.getEvaluationDetails=function(){return this.evaluationDetails},t.prototype._getSecondaryExposures=function(){return this.secondaryExposures},t.prototype._getAllocatedExperimentName=function(){return this.allocatedExperimentName},t.prototype.getIsExperimentActive=function(){return this.isExperimentActive},t}();e.default=n},1135:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEndpoint=void 0;var a=n(4942),s=n(290),u=o(n(4022)),c=o(n(7171));e.ExceptionEndpoint="https://statsigapi.net/v1/sdk_exception";var l=function(){function t(t,e){this.sdkKey=t,this.sdkOptions=e,this.seen=new Set;var n=Math.floor(1e4*Math.random());this.setupDiagnostics(0===n?30:0)}return t.prototype.setStatsigMetadata=function(t){this.statsigMetadata=t},t.prototype.swallow=function(t,e,n){void 0===n&&(n={}),this.capture(t,e,(function(){}),n)},t.prototype.capture=function(t,e,n,r){var i=this;void 0===r&&(r={});var o=null;try{o=this.beginMarker(t);var a=e(),s=!0;return a instanceof Promise?a.catch((function(e){return s=!1,i.onCaught(t,e,n,r)})).then((function(e){return i.endMarker(t,s,o),e})):(this.endMarker(t,!0,o,r.configName),a)}catch(e){return this.endMarker(t,!1,o,r.configName),this.onCaught(t,e,n,r)}},t.prototype.logError=function(t,n,o){var s=void 0===o?{}:o,u=s.getExtraData,l=s.configName;this.sdkOptions.isAllLoggingDisabled()||r(this,void 0,void 0,(function(){var r,o,s,f,d,h,p,v;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),"function"!=typeof u?[3,2]:[4,u()];case 1:return o=i.sent(),[3,3];case 2:o={},i.label=3;case 3:return r=o,s=(0,c.default)(n),f=s.name,d=s.trace,r.configName=l,this.seen.has(f)?[2]:(this.seen.add(f),null==(h=null!==(v=this.statsigMetadata)&&void 0!==v?v:{}).sessionID&&(h.sessionID=(0,a.v4)()),p=JSON.stringify({tag:t,exception:f,info:d,statsigMetadata:h,statsigOptions:this.sdkOptions.getLoggingCopy(),extra:r}),[2,fetch(e.ExceptionEndpoint,{method:"POST",headers:{"STATSIG-API-KEY":this.sdkKey,"STATSIG-SDK-TYPE":String(h.sdkType),"STATSIG-SDK-VERSION":String(h.sdkVersion),"Content-Type":"application/json; charset=UTF-8"},body:p})]);case 4:return i.sent(),[3,5];case 5:return[2]}}))})).catch((function(){}))},t.prototype.setupDiagnostics=function(t){u.default.setMaxMarkers("api_call",t)},t.prototype.beginMarker=function(t){var e=u.default.mark.api_call(t);if(!e)return null;var n=t+"_"+u.default.getMarkerCount("api_call");return e.start({markerID:n},"api_call")?n:null},t.prototype.endMarker=function(t,e,n,r){var i=u.default.mark.api_call(t);n&&i&&i.end({markerID:n,success:e,configName:r},"api_call")},t.prototype.onCaught=function(t,e,n,r){if(void 0===r&&(r={}),e instanceof s.StatsigUninitializedError||e instanceof s.StatsigInvalidArgumentError)throw e;return e instanceof s.StatsigInitializationTimeoutError?(console.error("[Statsig] Timeout occured.",e),n()):(console.error("[Statsig] An unexpected exception occurred.",e),this.logError(t,e,r),n())},t}();e.default=l},290:function(t,e){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigInitializationTimeoutError=e.StatsigSDKKeyMismatchError=e.StatsigInvalidArgumentError=e.StatsigUninitializedError=void 0;var i=function(t){function e(n){var r=t.call(this,null!=n?n:"Call and wait for initialize() to finish first.")||this;return Object.setPrototypeOf(r,e.prototype),r}return r(e,t),e}(Error);e.StatsigUninitializedError=i;var o=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return r(e,t),e}(Error);e.StatsigInvalidArgumentError=o;var a=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return r(e,t),e}(Error);e.StatsigSDKKeyMismatchError=a;var s=function(t){function e(n){var r=t.call(this,"The initialization timeout of "+n+"ms has been hit before the network request has completed.")||this;return Object.setPrototypeOf(r,e.prototype),r}return r(e,t),e}(Error);e.StatsigInitializationTimeoutError=s},618:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=[]),this.name=t,this.value=e,this.ruleID=null!=n?n:"",this.evaluationDetails=r,this.groupName=i,this.idType=o,this.secondaryExposures=a}return t.prototype.getRuleID=function(){return this.ruleID},t.prototype.getGroupName=function(){return this.groupName},t.prototype.getIDType=function(){return this.idType},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.value},t.prototype.getEvaluationDetails=function(){return this.evaluationDetails},t.prototype.getSecondaryExposures=function(){return this.secondaryExposures},t}();e.default=n},4987:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n,r,i,o,a,s,u,c){void 0===i&&(i=null),void 0===o&&(o=[]),void 0===a&&(a=[]),void 0===s&&(s=""),void 0===u&&(u=[]),void 0===c&&(c=null),this.logParameterFunction=i,this.name=t,this.value=JSON.parse(JSON.stringify(null!=e?e:{})),this.ruleID=null!=n?n:"",this.evaluationDetails=r,this.secondaryExposures=o,this.undelegatedSecondaryExposures=a,this.allocatedExperimentName=s,this.explicitParameters=u,this.groupName=c}return t._create=function(e,n,r,i,o,a,s,u,c,l){return void 0===o&&(o=null),void 0===a&&(a=[]),void 0===s&&(s=[]),void 0===u&&(u=""),void 0===c&&(c=[]),void 0===l&&(l=null),new t(e,n,r,i,o,a,s,u,c,l)},t.prototype.get=function(t,e,n){var r=this,i=this.value[t];if(null==i)return e;var o=function(){return r.logLayerParameterExposure(t),i};return n?n(i)?o():e:null==e||typeof i==typeof e&&Array.isArray(e)===Array.isArray(i)?o():e},t.prototype.getValue=function(t,e){null==e&&(e=null);var n=this.value[t];return null!=n&&this.logLayerParameterExposure(t),null!=n?n:e},t.prototype.getRuleID=function(){return this.ruleID},t.prototype.getGroupName=function(){return this.groupName},t.prototype.getName=function(){return this.name},t.prototype.getEvaluationDetails=function(){return this.evaluationDetails},t.prototype._getSecondaryExposures=function(){return this.secondaryExposures},t.prototype._getUndelegatedSecondaryExposures=function(){return this.undelegatedSecondaryExposures},t.prototype._getAllocatedExperimentName=function(){return this.allocatedExperimentName},t.prototype._getExplicitParameters=function(){return this.explicitParameters},t.prototype._getEvaluationDetails=function(){return this.evaluationDetails},t.prototype.logLayerParameterExposure=function(t){var e;null===(e=this.logParameterFunction)||void 0===e||e.call(this,this,t)},t}();e.default=n},2452:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.user=null,this.value=null,this.metadata=null,this.eventName=t,this.statsigMetadata={},this.time=Date.now()}return t.prototype.getName=function(){return this.eventName},t.prototype.setValue=function(t){this.value=t},t.prototype.setMetadata=function(t){this.metadata=t},t.prototype.addStatsigMetadata=function(t,e){this.statsigMetadata[t]=e},t.prototype.setUser=function(t){this.user=n({},t),delete this.user.privateAttributes},t.prototype.setSecondaryExposures=function(t){void 0===t&&(t=[]),this.secondaryExposures=t},t.prototype.toJsonObject=function(){var t;return{eventName:this.eventName,user:this.user,value:this.value,metadata:this.metadata,time:this.time,statsigMetadata:this.statsigMetadata,secondaryExposures:null!==(t=this.secondaryExposures)&&void 0!==t?t:void 0}},t}();e.default=r},4109:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.version=void 0,e.version="4.52.0"},4850:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(1249)),u=a(n(1135)),c=n(290),l=a(n(4987)),f=a(n(2452)),d=a(n(9563)),h=a(n(3449)),p=a(n(9589)),v=a(n(4911)),g=a(n(1106)),m=n(3942),y=n(1292),b=a(n(5269)),_=a(n(1674)),w=a(n(4022)),E=a(n(3921)),S=n(1449),C=n(4399),k=a(n(618)),I=64,x=2048,T=function(){function t(e,n,r){var i=this;if(this.appState=null,this.currentAppState=null,this.appStateChangeSubscription=null,this.onCacheLoadedForReact=null,this.initCalled=!1,this.pendingInitPromise=null,this.optionalLoggingSetup=!1,this.prefetchedUsersByCacheKey={},this.logLayerParameterExposureForLayer=function(t,e,n){void 0===n&&(n=!1);var r="",o=t._getUndelegatedSecondaryExposures(),a=t._getExplicitParameters().includes(e);a&&(r=t._getAllocatedExperimentName(),o=t._getSecondaryExposures()),i.logger.logLayerExposure(i.getCurrentUser(),t.getName(),t.getRuleID(),o,r,e,a,t._getEvaluationDetails(),n)},!0!==(null==r?void 0:r.localMode)&&("string"!=typeof e||!e.startsWith("client-")))throw new c.StatsigInvalidArgumentError("Invalid key provided.  You must use a Client SDK Key from the Statsig console to initialize the sdk");if(this.startTime=(0,S.now)(),this.options=new v.default(r),this.logger=new h.default(this),w.default.initialize({options:this.options}),this.errorBoundary=new u.default(e,this.options),this.ready=!1,this.sdkKey=e,E.default.setLogger(this.options.getOutputLogger()),E.default.setLogLevel(this.options.getLogLevel()),_.default.disabled=this.options.getDisableLocalStorage(),this.identity=new d.default(this.normalizeUser(null!=n?n:null),this.options.getOverrideStableID(),t.reactNativeUUID),this.errorBoundary.setStatsigMetadata(this.getStatsigMetadata()),this.network=new p.default(this),this.store=new g.default(this,this.options.getInitializeValues()),null!=this.options.getInitializeValues()){var o=this.options.getInitCompletionCallback();this.ready=!0,this.initCalled=!0,setTimeout((function(){return i.delayedSetup()}),20),this.handleOptionalLogging(),o&&o((0,S.now)()-this.startTime,!0,null)}}return t.prototype.getErrorBoundary=function(){return this.errorBoundary},t.prototype.getNetwork=function(){return this.network},t.prototype.getStore=function(){return this.store},t.prototype.getLogger=function(){return this.logger},t.prototype.getOptions=function(){return this.options},t.prototype.getSDKKey=function(){var t=this;return this.errorBoundary.capture("getSDKKey",(function(){var e;return null!==(e=t.sdkKey)&&void 0!==e?e:""}),(function(){return""}))},t.prototype.getCurrentUser=function(){var t=this;return this.errorBoundary.capture("getCurrentUser",(function(){return t.identity.getUser()}),(function(){return null}))},t.prototype.getCurrentUserCacheKey=function(){var t=this;return this.errorBoundary.capture("getCurrentUserCacheKey",(function(){return(0,y.getUserCacheKey)(t.getStableID(),t.getCurrentUser(),t.getSDKKey())}),(function(){return{v1:"",v2:"",v3:""}}))},t.prototype.getCurrentUserUnitID=function(t){var e=this;return this.errorBoundary.capture("getCurrentUserUnitID",(function(){return e.getUnitID(e.getCurrentUser(),t)}),(function(){return""}))},t.prototype.getCurrentUserID=function(){var t=this;return this.errorBoundary.capture("getCurrentUserID",(function(){return t.getUnitID(t.getCurrentUser(),"userid")}),(function(){return""}))},t.prototype.getUnitID=function(t,e){var n,r,i;return t?"userid"===e.toLowerCase()?null!==(r=null===(n=t.userID)||void 0===n?void 0:n.toString())&&void 0!==r?r:null:t.customIDs?null!==(i=t.customIDs[e])&&void 0!==i?i:t.customIDs[e.toLowerCase()]:null:null},t.prototype.getStatsigMetadata=function(){var t=this;return this.errorBoundary.capture("getStatsigMetadata",(function(){return t.identity.getStatsigMetadata()}),(function(){return{}}))},t.prototype.getSDKType=function(){var t=this;return this.errorBoundary.capture("getSDKType",(function(){return t.identity.getSDKType()}),(function(){return""}))},t.prototype.getSDKVersion=function(){var t=this;return this.errorBoundary.capture("getSDKVersion",(function(){return t.identity.getSDKVersion()}),(function(){return""}))},t.prototype.delayedSetup=function(){var t=this;this.errorBoundary.swallow("delayedSetup",(function(){null!=t.options.getInitializeValues()&&t.fireAndForgetPrefechUsers(),t.identity.saveStableID(),t.logger.sendSavedRequests().catch((function(e){return t.errorBoundary.logError("sendSavedRequests:delayedSetup",e)}))}))},t.prototype.setInitializeValues=function(t){var e=this;this.errorBoundary.capture("setInitializeValues",(function(){e.store.bootstrap(t);var n=null;e.ready||(e.ready=!0,e.initCalled=!0,n=e.options.getInitCompletionCallback()),e.handleOptionalLogging(),e.logger.sendSavedRequests().catch((function(t){return e.errorBoundary.logError("sendSavedRequests:setInitializeValues",t)})),n&&n((0,S.now)()-e.startTime,!0,null)}),(function(){e.ready=!0,e.initCalled=!0;var t=e.options.getInitCompletionCallback();t&&t((0,S.now)()-e.startTime,!1,"Caught an exception during setInitializeValues")}))},t.prototype.initializeAsync=function(){return i(this,void 0,void 0,(function(){var t=this;return o(this,(function(e){return[2,this.errorBoundary.capture("initializeAsync",(function(){return i(t,void 0,void 0,(function(){var t,e,n,r,a=this;return o(this,(function(s){switch(s.label){case 0:return null!=this.pendingInitPromise?[2,this.pendingInitPromise]:this.ready?[2,Promise.resolve()]:(w.default.mark.overall.start({}),this.initCalled=!0,b.default.asyncStorage?[4,this.identity.initAsync()]:[3,3]);case 1:return s.sent(),[4,this.store.loadAsync()];case 2:s.sent(),s.label=3;case 3:return null===(r=this.onCacheLoadedForReact)||void 0===r||r.call(this),null!=this.appState&&(t=this.appState).addEventListener&&"function"==typeof t.addEventListener&&(this.currentAppState=t.currentState,e=t.addEventListener("change",this.handleAppStateChange.bind(this)),this.appStateChangeSubscription=e),this.options.getLocalModeEnabled()?[2,Promise.resolve()]:(n=this.identity.getUser(),this.pendingInitPromise=this.fetchAndSaveValues({user:n,prefetchUsers:this.options.getPrefetchUsers(),timeout:this.options.getInitTimeoutMs()}).then((function(){return w.default.mark.overall.end({success:!0,evaluationDetails:a.store.getGlobalEvaluationDetails()}),{success:!0,message:null}})).catch((function(t){var e;return a.errorBoundary.logError("initializeAsync:fetchAndSaveValues",t),w.default.mark.overall.end({success:!1,error:w.default.formatError(t),evaluationDetails:a.store.getGlobalEvaluationDetails()}),{success:!1,message:null!==(e=t.message)&&void 0!==e?e:null}})).then((function(t){var e=t.success,n=t.message,r=a.options.getInitCompletionCallback();r&&r((0,S.now)()-a.startTime,e,n)})).finally((function(){return i(a,void 0,void 0,(function(){return o(this,(function(t){return this.pendingInitPromise=null,this.ready=!0,this.delayedSetup(),this.logger.logDiagnostics(n,"initialize"),[2]}))}))})),this.handleOptionalLogging(),[2,this.pendingInitPromise])}}))}))}),(function(){return t.ready=!0,t.initCalled=!0,Promise.resolve()}))]}))}))},t.prototype.prefetchUsers=function(t){return i(this,void 0,void 0,(function(){var e=this;return o(this,(function(n){return[2,this.errorBoundary.capture("prefetchUsers",(function(){if(t&&0!=t.length)return e.fetchAndSaveValues({user:null,prefetchUsers:t,timeout:0})}),(function(){return Promise.resolve()}))]}))}))},t.prototype.getEvaluationDetails=function(){var t=this;return this.errorBoundary.capture("getEvaluationDetails",(function(){return t.store.getGlobalEvaluationDetails()}),(function(){return{time:Date.now(),reason:m.EvaluationReason.Error}}))},t.prototype.checkGate=function(t,e){var n=this;return void 0===e&&(e=!1),this.errorBoundary.capture("checkGate",(function(){var r,i,o,a=n.checkGateImpl(t,e);n.logGateExposureImpl(t,a);var s=n.options.getGateEvaluationCallback();s&&s(t,a.gate.value,{withExposureLoggingDisabled:!1});var u=n.options.getEvaluationCallback();return u&&u({type:"gate",gate:new k.default(t,a.gate.value,a.gate.rule_id,a.evaluationDetails,null!==(r=a.gate.group_name)&&void 0!==r?r:null,null!==(i=a.gate.id_type)&&void 0!==i?i:null,null!==(o=a.gate.secondary_exposures)&&void 0!==o?o:[])}),!0===a.gate.value}),(function(){return!1}),{configName:t})},t.prototype.getFeatureGate=function(t,e){var n=this;return void 0===e&&(e=null),this.errorBoundary.capture("getFeatureGate",(function(){var r,i,o,a,s,u=n.checkGateImpl(t,null!==(r=null==e?void 0:e.ignoreOverrides)&&void 0!==r&&r);(null==e?void 0:e.disableExposureLogging)?n.logger.addNonExposedCheck(t):n.logGateExposureImpl(t,u);var c=n.options.getGateEvaluationCallback();c&&c(t,u.gate.value,{withExposureLoggingDisabled:null!==(i=null==e?void 0:e.disableExposureLogging)&&void 0!==i&&i});var l=new k.default(t,u.gate.value,u.gate.rule_id,u.evaluationDetails,null!==(o=u.gate.group_name)&&void 0!==o?o:null,null!==(a=u.gate.id_type)&&void 0!==a?a:null,null!==(s=u.gate.secondary_exposures)&&void 0!==s?s:[]),f=n.options.getEvaluationCallback();return f&&f({type:"gate",gate:l}),l}),(function(){return new k.default(t,!1,"",{reason:m.EvaluationReason.Error,time:Date.now()})}),{configName:t})},t.prototype.checkGateWithExposureLoggingDisabled=function(t,e){var n=this;return void 0===e&&(e=!1),this.errorBoundary.capture("checkGateWithExposureLoggingDisabled",(function(){var r,i,o;n.logger.addNonExposedCheck(t);var a=n.checkGateImpl(t,e),s=n.options.getGateEvaluationCallback();s&&s(t,a.gate.value,{withExposureLoggingDisabled:!0});var u=n.options.getEvaluationCallback();return u&&u({type:"gate",gate:new k.default(t,a.gate.value,a.gate.rule_id,a.evaluationDetails,null!==(r=a.gate.group_name)&&void 0!==r?r:null,null!==(i=a.gate.id_type)&&void 0!==i?i:null,null!==(o=a.gate.secondary_exposures)&&void 0!==o?o:[])}),!0===a.gate.value}),(function(){return!1}))},t.prototype.logGateExposure=function(t){var e=this;this.errorBoundary.swallow("logGateExposure",(function(){e.logGateExposureImpl(t)}))},t.prototype.getConfig=function(t,e){var n=this;return void 0===e&&(e=!1),this.errorBoundary.capture("getConfig",(function(){var r=n.getConfigImpl(t,e);n.logConfigExposureImpl(t,r);var i=n.options.getEvaluationCallback();return i&&i({type:"config",config:r}),r}),(function(){return n.getEmptyConfig(t)}),{configName:t})},t.prototype.getConfigWithExposureLoggingDisabled=function(t,e){var n=this;return void 0===e&&(e=!1),this.errorBoundary.capture("getConfig",(function(){n.logger.addNonExposedCheck(t);var r=n.getConfigImpl(t,e),i=n.options.getEvaluationCallback();return i&&i({type:"config",config:r}),r}),(function(){return n.getEmptyConfig(t)}))},t.prototype.logConfigExposure=function(t){var e=this;this.errorBoundary.swallow("logConfigExposure",(function(){e.logConfigExposureImpl(t)}))},t.prototype.getExperiment=function(t,e,n){var r=this;return void 0===e&&(e=!1),void 0===n&&(n=!1),this.errorBoundary.capture("getExperiment",(function(){var i=r.getExperimentImpl(t,e,n);r.logExperimentExposureImpl(t,e,i);var o=r.options.getEvaluationCallback();return o&&o({type:"experiment",config:i}),i}),(function(){return r.getEmptyConfig(t)}),{configName:t})},t.prototype.getExperimentWithExposureLoggingDisabled=function(t,e,n){var r=this;return void 0===e&&(e=!1),void 0===n&&(n=!1),this.errorBoundary.capture("getExperimentWithExposureLoggingDisabled",(function(){r.logger.addNonExposedCheck(t);var i=r.getExperimentImpl(t,e,n),o=r.options.getEvaluationCallback();return o&&o({type:"experiment",config:i}),i}),(function(){return r.getEmptyConfig(t)}))},t.prototype.logExperimentExposure=function(t,e){var n=this;this.errorBoundary.swallow("logExperimentExposure",(function(){n.logExperimentExposureImpl(t,e)}))},t.prototype.getLayer=function(t,e){var n=this;return void 0===e&&(e=!1),this.errorBoundary.capture("getLayer",(function(){var r=n.getLayerImpl(n.logLayerParameterExposureForLayer,t,e),i=n.options.getEvaluationCallback();return i&&i({type:"layer",layer:r}),r}),(function(){return l.default._create(t,{},"",n.getEvalutionDetailsForError())}),{configName:t})},t.prototype.getLayerWithExposureLoggingDisabled=function(t,e){var n=this;return void 0===e&&(e=!1),this.errorBoundary.capture("getLayerWithExposureLoggingDisabled",(function(){n.logger.addNonExposedCheck(t);var r=n.getLayerImpl(null,t,e),i=n.options.getEvaluationCallback();return i&&i({type:"layer",layer:r}),r}),(function(){return l.default._create(t,{},"",n.getEvalutionDetailsForError())}))},t.prototype.logLayerParameterExposure=function(t,e,n){var r=this;void 0===n&&(n=!1),this.errorBoundary.swallow("logLayerParameterExposure",(function(){var i=r.getLayerImpl(null,t,n);r.logLayerParameterExposureForLayer(i,e,!0)}))},t.prototype.logEvent=function(t,e,n){var r=this;void 0===e&&(e=null),void 0===n&&(n=null),this.errorBoundary.swallow("logEvent",(function(){if(!r.logger||!r.sdkKey)throw new c.StatsigUninitializedError("Must initialize() before logging events.");if("string"==typeof t&&0!==t.length){r.shouldTrimParam(t,I)&&(E.default.info("eventName is too long, trimming to 64 characters."),t=t.substring(0,I)),"string"==typeof e&&r.shouldTrimParam(e,I)&&(E.default.info("value is too long, trimming to 64."),e=e.substring(0,I)),r.shouldTrimParam(n,x)&&(E.default.info("metadata is too big. Dropping the metadata."),n={error:"not logged due to size too large"});var i=new f.default(t);i.setValue(e),i.setMetadata(n),i.setUser(r.getCurrentUser()),r.logger.log(i)}else E.default.error("Event not logged. No valid eventName passed.")}))},t.prototype.updateUserWithValues=function(t,e){var n,r=this;return this.errorBoundary.capture("updateUserWithValues",(function(){var i=Date.now();if(!r.initializeCalled())throw new c.StatsigUninitializedError("Call initialize() first.");return n=function(t,e){var n=r.options.getUpdateUserCompletionCallback();null==n||n(Date.now()-i,t,e)},r.identity.updateUser(r.normalizeUser(t)),r.store.bootstrap(e),n(!0,null),!0}),(function(){return null==n||n(!1,"Failed to update user. An unexpected error occured."),!1}))},t.prototype.updateUser=function(t){return i(this,void 0,void 0,(function(){var e,n=this;return o(this,(function(r){return[2,this.errorBoundary.capture("updateUser",(function(){return i(n,void 0,void 0,(function(){var n,r,i,a,s,u,l=this;return o(this,(function(o){switch(o.label){case 0:if(n=Date.now(),!this.initializeCalled())throw new c.StatsigUninitializedError("Call initialize() first.");return e=function(t,e){var r=l.options.getUpdateUserCompletionCallback();null==r||r(Date.now()-n,t,e)},b.default.asyncStorage&&""==(null!==(u=this.identity.getStatsigMetadata().stableID)&&void 0!==u?u:"")?[4,this.identity.initAsync()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.identity.updateUser(this.normalizeUser(t)),r=this.getCurrentUserCacheKey(),i=Boolean(this.prefetchedUsersByCacheKey[r.v3]),a=this.store.updateUser(i),w.default.clearContext("api_call"),this.logger.resetDedupeKeys(),null!=a&&(i||this.isCacheValidForFetchMode(a))?(e(!0,null),[2,Promise.resolve(!0)]):null==this.pendingInitPromise?[3,4]:[4,this.pendingInitPromise];case 3:o.sent(),o.label=4;case 4:return this.options.getLocalModeEnabled()?(e(!0,null),[2,Promise.resolve(!0)]):(s=this.identity.getUser(),this.pendingInitPromise=this.fetchAndSaveValues({user:s,prefetchUsers:[],timeout:void 0}).finally((function(){l.pendingInitPromise=null})),[2,this.pendingInitPromise.then((function(){return e(!0,null),Promise.resolve(!0)})).catch((function(t){return e(!1,"Failed to update user: "+t),Promise.resolve(!1)}))])}}))}))}),(function(){return null==e||e(!1,"Failed to update user. An unexpected error occured."),Promise.resolve(!1)}))]}))}))},t.prototype.shutdown=function(){var t=this;this.errorBoundary.swallow("shutdown",(function(){if(t.logger.shutdown(),null!=t.appStateChangeSubscription){var e=t.appStateChangeSubscription;"function"==typeof e.remove&&e.remove()}_.default.cleanup()}))},t.prototype.getInitializeResponseJson=function(){var t=this;return this.errorBoundary.capture("getInitializeResponseJson",(function(){var e;return{values:t.store.getInitializeResponseJson(),evaluationDetails:null!==(e=t.getEvaluationDetails())&&void 0!==e?e:{reason:m.EvaluationReason.Uninitialized,time:0}}}),(function(){var e;return{values:"",evaluationDetails:null!==(e=t.getEvaluationDetails())&&void 0!==e?e:{reason:m.EvaluationReason.Uninitialized,time:0}}}))},t.prototype.overrideGate=function(t,e){var n=this;this.errorBoundary.swallow("overrideGate",(function(){n.ensureStoreLoaded(),n.store.overrideGate(t,e)}))},t.prototype.overrideConfig=function(t,e){var n=this;this.errorBoundary.swallow("overrideConfig",(function(){n.ensureStoreLoaded(),n.store.overrideConfig(t,e)}))},t.prototype.overrideLayer=function(t,e){var n=this;this.errorBoundary.swallow("overrideLayer",(function(){n.ensureStoreLoaded(),n.store.overrideLayer(t,e)}))},t.prototype.removeGateOverride=function(t){var e=this;this.errorBoundary.swallow("removeGateOverride",(function(){e.ensureStoreLoaded(),e.store.removeGateOverride(t)}))},t.prototype.removeConfigOverride=function(t){var e=this;this.errorBoundary.swallow("removeConfigOverride",(function(){e.ensureStoreLoaded(),e.store.removeConfigOverride(t)}))},t.prototype.removeLayerOverride=function(t){var e=this;this.errorBoundary.swallow("removeLayerOverride",(function(){e.ensureStoreLoaded(),e.store.removeLayerOverride(t)}))},t.prototype.removeOverride=function(t){var e=this;this.errorBoundary.swallow("removeOverride",(function(){e.ensureStoreLoaded(),e.store.removeGateOverride(t)}))},t.prototype.getOverrides=function(){var t=this;return this.errorBoundary.capture("getOverrides",(function(){return t.ensureStoreLoaded(),t.store.getAllOverrides().gates}),(function(){return{}}))},t.prototype.getAllOverrides=function(){var t=this;return this.errorBoundary.capture("getAllOverrides",(function(){return t.ensureStoreLoaded(),t.store.getAllOverrides()}),(function(){return{gates:{},configs:{},layers:{}}}))},t.prototype.getStableID=function(){var t=this;return this.errorBoundary.capture("getStableID",(function(){return t.identity.getStatsigMetadata().stableID}),(function(){return""}))},t.prototype.initializeCalled=function(){return this.initCalled},t.prototype.setSDKPackageInfo=function(t){null!=t&&(this.identity.setSDKPackageInfo(t),this.errorBoundary.setStatsigMetadata(this.getStatsigMetadata()))},t.prototype.setDebugInfo=function(t){var e=this;this.errorBoundary.capture("setDebuggingInfo",(function(){if(!e.initializeCalled())throw new c.StatsigUninitializedError("Call initialize() first.");e.logger.setDebugInfo(t)}),(function(){}))},t.setAsyncStorage=function(t){null!=t&&(b.default.asyncStorage=t)},t.prototype.setOnCacheLoadedReactCallback=function(t){this.onCacheLoadedForReact=null!=t?t:null},t.setReactNativeUUID=function(e){null!=e&&(t.reactNativeUUID=e)},t.prototype.setAppState=function(t){null!=t&&(this.appState=t)},t.prototype.setNativeModules=function(t){null!=t&&this.identity.setNativeModules(t)},t.prototype.setPlatform=function(t){null!=t&&this.identity.setPlatform(t)},t.prototype.setRNDeviceInfo=function(t){null!=t&&this.identity.setRNDeviceInfo(t)},t.prototype.setExpoConstants=function(t){null!=t&&this.identity.setExpoConstants(t)},t.prototype.setExpoDevice=function(t){null!=t&&this.identity.setExpoDevice(t)},t.prototype.flushEvents=function(){this.logger.flush()},t.prototype.reenableAllLogging=function(){this.getOptions().reenableAllLogging()},t.prototype.isCacheValidForFetchMode=function(t){return"cache-or-network"===this.options.getFetchMode()&&t>this.startTime},t.prototype.handleOptionalLogging=function(){var t=this,e=this.options.getDisableErrorLogging(),n=this.options.getDisableAutoMetricsLogging();if((!e||!n)&&!this.optionalLoggingSetup&&"undefined"!=typeof window&&window&&window.addEventListener){var r=this.identity.getUser();if(e||window.addEventListener("error",(function(e){var n,i=e.error;if(null!=i&&"object"==typeof i)try{i=JSON.stringify(i)}catch(e){i="Failed to stringify Error"}t.logger.logAppError(r,null!==(n=e.message)&&void 0!==n?n:"",{filename:e.filename,lineno:e.lineno,colno:e.colno,error_obj:i})})),!n){if("undefined"==typeof document||!document||"undefined"==typeof setTimeout||!setTimeout)return;var i=function(){setTimeout((function(){t.logger.logAppMetrics(r)}),1e3)};"complete"===document.readyState?i():window.addEventListener("load",(function(){return i()}))}this.optionalLoggingSetup=!0}},t.prototype.handleAppStateChange=function(t){var e=this;"active"===this.currentAppState&&t.match(/inactive|background/)?this.logger.flush(!0):null!=this.currentAppState&&this.currentAppState.match(/inactive|background/)&&"active"===t&&this.logger.sendSavedRequests().catch((function(t){return e.errorBoundary.logError("sendSavedRequests:handleAppStateChange",t)})),this.currentAppState=t},t.prototype.shouldTrimParam=function(t,e){return null!=t&&("string"==typeof t?t.length>e:"object"==typeof t?JSON.stringify(t).length>e:"number"==typeof t&&t.toString().length>e)},t.prototype.normalizePrefetchUsers=function(t){var e=this;return null==t?[]:t.map((function(t){return e.normalizeUser(t)}))},t.prototype.normalizeUser=function(t){var e={};try{e=JSON.parse(JSON.stringify(t))}catch(t){throw new c.StatsigInvalidArgumentError("User object must be convertable to JSON string.")}return e=this.trimUserObjIfNeeded(e),null!=this.options.getEnvironment()&&(e.statsigEnvironment=this.options.getEnvironment()),e},t.prototype.trimUserObjIfNeeded=function(t){var e,n;return null==t?{}:(this.shouldTrimParam(null!==(e=t.userID)&&void 0!==e?e:null,I)&&(E.default.info("User ID is too large, trimming to 64characters"),t.userID=null===(n=t.userID)||void 0===n?void 0:n.toString().substring(0,I)),this.shouldTrimParam(t,x)&&(t.custom={},this.shouldTrimParam(t,x)?(E.default.info("User object is too large, only keeping the user ID."),t={userID:t.userID}):E.default.info("User object is too large, dropping the custom property.")),t)},t.prototype.ensureStoreLoaded=function(){if(!this.store.isLoaded())throw new c.StatsigUninitializedError("Call and wait for initialize() to finish first.")},t.prototype.getEvalutionDetailsForError=function(){return{time:Date.now(),reason:m.EvaluationReason.Error}},t.prototype.fetchAndSaveValues=function(t){var e,n,a,s;return i(this,void 0,void 0,(function(){var u,c,l,f,d,h,p,v,g=this;return o(this,(function(b){return u=t.user,c=null!==(e=t.prefetchUsers)&&void 0!==e?e:[],l=null!==(n=t.timeout)&&void 0!==n?n:this.options.getInitTimeoutMs(),c.length>5&&E.default.info("Cannot prefetch more than 5 users."),f=this.normalizePrefetchUsers(c).slice(0,5).reduce((function(t,e){return t[(0,y.getUserCacheKey)(g.getStableID(),e,g.getSDKKey()).v3]=e,t}),{}),d=String(null!==(s=null===(a=this.getStatsigMetadata())||void 0===a?void 0:a.stableID)&&void 0!==s?s:""),h=null,0===c.length&&(h=this.store.getLastUpdateTime(u,d)),p=this.store.getPreviousHashUsed(u,d),v=this.store.getPreviousDerivedFields(u,d),[2,this.network.fetchValues({user:u,sinceTime:h,timeout:l,useDeltas:null!=h&&p===(this.getOptions().getDisableHashing()?"none":"djb2"),prefetchUsers:c.length>0?f:void 0,previousDerivedFields:v}).eventually((function(t){var e;(0,C.verifySDKKeyUsed)(t,null!==(e=g.sdkKey)&&void 0!==e?e:"",g.errorBoundary)&&(null==t?void 0:t.has_updates)&&g.store.saveWithoutUpdatingClientState(u,t,d,c.length>0?f:void 0).catch((function(t){return g.errorBoundary.logError("fetchAndSaveValues:eventually",t)}))})).then((function(t){return i(g,void 0,void 0,(function(){var e=this;return o(this,(function(n){return[2,this.errorBoundary.swallow("fetchAndSaveValues",(function(){return i(e,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return w.default.mark.initialize.process.start({}),(0,C.verifySDKKeyUsed)(t,null!==(e=this.sdkKey)&&void 0!==e?e:"",this.errorBoundary)?(null==t?void 0:t.has_updates)?[4,this.store.save(u,t,d,c.length>0?f:void 0)]:[3,2]:(w.default.mark.initialize.process.end({success:!1}),[2]);case 1:return n.sent(),[3,3];case 2:(null==t?void 0:t.is_no_content)&&this.store.setEvaluationReason(m.EvaluationReason.NetworkNotModified),n.label=3;case 3:return this.prefetchedUsersByCacheKey=r(r({},this.prefetchedUsersByCacheKey),f),w.default.mark.initialize.process.end({success:!0}),[2]}}))}))}))]}))}))}))]}))}))},t.prototype.checkGateImpl=function(t,e){if(this.ensureStoreLoaded(),"string"!=typeof t||0===t.length)throw new c.StatsigInvalidArgumentError("Must pass a valid string as the gateName.");return this.store.checkGate(t,e)},t.prototype.logGateExposureImpl=function(t,e){var n=!e,r=null!=e?e:this.checkGateImpl(t,!1),i=r.gate;this.logger.logGateExposure(this.getCurrentUser(),t,i.value,i.rule_id,i.secondary_exposures,r.evaluationDetails,n)},t.prototype.getConfigImpl=function(t,e){if(this.ensureStoreLoaded(),"string"!=typeof t||0===t.length)throw new c.StatsigInvalidArgumentError("Must pass a valid string as the configName.");return this.store.getConfig(t,e)},t.prototype.logConfigExposureImpl=function(t,e){var n=!e,r=null!=e?e:this.getConfigImpl(t,!1);this.logger.logConfigExposure(this.getCurrentUser(),t,r.getRuleID(),r._getSecondaryExposures(),r.getEvaluationDetails(),n)},t.prototype.getExperimentImpl=function(t,e,n){if(this.ensureStoreLoaded(),"string"!=typeof t||0===t.length)throw new c.StatsigInvalidArgumentError("Must pass a valid string as the experimentName.");return this.store.getExperiment(t,e,n)},t.prototype.logExperimentExposureImpl=function(t,e,n){var r=!n,i=null!=n?n:this.getExperimentImpl(t,e,!1);this.logger.logConfigExposure(this.getCurrentUser(),t,i.getRuleID(),i._getSecondaryExposures(),i.getEvaluationDetails(),r)},t.prototype.getLayerImpl=function(t,e,n){if(this.ensureStoreLoaded(),"string"!=typeof e||0===e.length)throw new c.StatsigInvalidArgumentError("Must pass a valid string as the layerName.");return this.store.getLayer(t,e,n)},t.prototype.getEmptyConfig=function(t){return new s.default(t,{},"",this.getEvalutionDetailsForError())},t.prototype.fireAndForgetPrefechUsers=function(){this.prefetchUsers(this.options.getPrefetchUsers()).catch((function(){}))},t}();e.default=T},9563:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(4942),s=n(9844),u=o(n(5269)),c=o(n(1674)),l=n(4109),f=function(){function t(t,e,n){var r;this.platform=null,this.nativeModules=null,this.sdkType="js-client",this.reactNativeUUID=n,this.user=t,this.sdkVersion=l.version,this.statsigMetadata={sdkType:this.sdkType,sdkVersion:this.sdkVersion};var i=e;u.default.asyncStorage||(i=null!==(r=null!=i?i:c.default.getItem(s.STATSIG_STABLE_ID_KEY))&&void 0!==r?r:this.getUUID()),i&&(this.statsigMetadata.stableID=i)}return t.prototype.saveStableID=function(){null!=this.statsigMetadata.stableID&&c.default.setItem(s.STATSIG_STABLE_ID_KEY,this.statsigMetadata.stableID)},t.prototype.initAsync=function(){return r(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return(t=this.statsigMetadata.stableID)?[3,2]:[4,u.default.getItemAsync(s.STATSIG_STABLE_ID_KEY)];case 1:t=null!=(t=e.sent())?t:this.getUUID(),e.label=2;case 2:return this.statsigMetadata.stableID=t,u.default.setItemAsync(s.STATSIG_STABLE_ID_KEY,t).catch((function(){})),[2,this]}}))}))},t.prototype.getSDKType=function(){return this.sdkType},t.prototype.getSDKVersion=function(){return this.sdkVersion},t.prototype.getStatsigMetadata=function(){return this.statsigMetadata.sdkType=this.sdkType,this.statsigMetadata.sdkVersion=this.sdkVersion,this.statsigMetadata},t.prototype.getUser=function(){return this.user},t.prototype.updateUser=function(t){this.user=t},t.prototype.setSDKPackageInfo=function(t){this.sdkType=t.sdkType,this.sdkVersion=t.sdkVersion},t.prototype.setPlatform=function(t){this.platform=t,this.updateMetadataFromNativeModules()},t.prototype.setNativeModules=function(t){this.nativeModules=t,this.updateMetadataFromNativeModules()},t.prototype.updateMetadataFromNativeModules=function(){var t,e,n,r,i,o,a;null!=this.platform&&null!=this.nativeModules&&("android"===(null===(t=this.platform.OS)||void 0===t?void 0:t.toLocaleLowerCase())?this.statsigMetadata.locale=null===(e=this.nativeModules.I18nManager)||void 0===e?void 0:e.localeIdentifier:"ios"===(null===(n=this.platform.OS)||void 0===n?void 0:n.toLocaleLowerCase())&&(this.statsigMetadata.locale=(null===(i=null===(r=this.nativeModules.SettingsManager)||void 0===r?void 0:r.settings)||void 0===i?void 0:i.AppleLocale)||(null===(a=null===(o=this.nativeModules.SettingsManager)||void 0===o?void 0:o.settings)||void 0===a?void 0:a.AppleLanguages[0])))},t.prototype.getUUID=function(){var t,e;return null!==(e=null===(t=this.reactNativeUUID)||void 0===t?void 0:t.v4())&&void 0!==e?e:(0,a.v4)()},t.prototype.setRNDeviceInfo=function(t){var e,n,r,i,o;this.statsigMetadata.appVersion=null!==(e=t.getVersion())&&void 0!==e?e:"",this.statsigMetadata.systemVersion=null!==(n=t.getSystemVersion())&&void 0!==n?n:"",this.statsigMetadata.systemName=null!==(r=t.getSystemName())&&void 0!==r?r:"",this.statsigMetadata.deviceModelName=null!==(i=t.getModel())&&void 0!==i?i:"",this.statsigMetadata.deviceModel=null!==(o=t.getDeviceId())&&void 0!==o?o:""},t.prototype.setExpoConstants=function(t){var e,n;this.statsigMetadata.appVersion=null!==(n=null!==(e=t.nativeAppVersion)&&void 0!==e?e:t.nativeBuildVersion)&&void 0!==n?n:""},t.prototype.setExpoDevice=function(t){var e,n,r,i;this.statsigMetadata.systemVersion=null!==(e=t.osVersion)&&void 0!==e?e:"",this.statsigMetadata.systemName=null!==(n=t.osName)&&void 0!==n?n:"",this.statsigMetadata.deviceModelName=null!==(r=t.modelName)&&void 0!==r?r:"",this.statsigMetadata.deviceModel=null!==(i=t.modelId)&&void 0!==i?i:""},t}();e.default=f},3449:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(4942),u=a(n(2452)),c=n(9589),l=n(9844),f=a(n(4022)),d=a(n(5269)),h=a(n(1674)),p=a(n(3921)),v=1024e3,g=function(){function t(t){this.failedLogEventCount=0,this.debugInfo=void 0,this.sdkInternal=t,this.queue=[],this.nonExposedChecks={},this.flushInterval=null,this.loggedErrors=new Set,this.failedLogEvents=[],this.exposureDedupeKeys={},this.failedLogEventCount=0,this.init()}return t.prototype.init=function(){var t=this;"undefined"!=typeof window&&"function"==typeof window.addEventListener&&(window.addEventListener("blur",(function(){return t.flush(!0)})),window.addEventListener("beforeunload",(function(){return t.flush(!0)})),window.addEventListener("load",(function(){setTimeout((function(){return t.flush()}),100),setTimeout((function(){return t.flush()}),1e3)}))),"undefined"!=typeof document&&"function"==typeof document.addEventListener&&document.addEventListener("visibilitychange",(function(){t.flush("visible"!==document.visibilityState)})),(this.sdkInternal.getOptions().getIgnoreWindowUndefined()||"undefined"!=typeof window&&null!=window)&&(this.sdkInternal.getOptions().getLocalModeEnabled()||(this.flushInterval=setInterval((function(){t.flush()}),this.sdkInternal.getOptions().getLoggingIntervalMillis()),setTimeout((function(){return t.flush()}),100),setTimeout((function(){return t.flush()}),1e3)))},t.prototype.log=function(t){if(!this.sdkInternal.getOptions().isAllLoggingDisabled()){try{if(!this.sdkInternal.getOptions().getDisableCurrentPageLogging()&&"undefined"!=typeof window&&null!=window&&"object"==typeof window.location&&"string"==typeof window.location.href){var e=window.location.href.split(/[?#]/);(null==e?void 0:e.length)>0&&t.addStatsigMetadata("currentPage",e[0])}}catch(t){}this.queue.push(t.toJsonObject()),this.queue.length>=this.sdkInternal.getOptions().getLoggingBufferMaxSize()&&this.flush()}},t.prototype.resetDedupeKeys=function(){this.exposureDedupeKeys={}},t.prototype.setDebugInfo=function(t){this.debugInfo=t},t.prototype.shouldLogExposure=function(t){var e=this.exposureDedupeKeys[t],n=Date.now();return!(null!=e&&e>=n-6e5||(this.exposureDedupeKeys[t]=n,0))},t.prototype.addNonExposedCheck=function(t){null==this.nonExposedChecks[t]?this.nonExposedChecks[t]=1:this.nonExposedChecks[t]++},t.prototype.logGateExposure=function(t,e,n,r,i,o,a){var s=e+String(n)+r+o.reason;if(this.shouldLogExposure(s)){var c={gate:e,gateValue:String(n),ruleID:r,reason:o.reason,time:o.time,debugInfo:this.debugInfo};a&&(c.isManualExposure="true");var l=new u.default("statsig::gate_exposure");l.setUser(t),l.setMetadata(c),l.setSecondaryExposures(i),this.log(l)}},t.prototype.logConfigExposure=function(t,e,n,r,i,o){var a=e+n+i.reason;if(this.shouldLogExposure(a)){var s={config:e,ruleID:n,reason:i.reason,time:i.time,debugInfo:this.debugInfo};o&&(s.isManualExposure="true");var c=new u.default("statsig::config_exposure");c.setUser(t),c.setMetadata(s),c.setSecondaryExposures(r),this.log(c)}},t.prototype.logLayerExposure=function(t,e,n,r,i,o,a,s,c){var l=[e,n,i,o,String(a),s.reason].join("|");if(this.shouldLogExposure(l)){var f={config:e,ruleID:n,allocatedExperiment:i,parameterName:o,isExplicitParameter:String(a),reason:s.reason,time:s.time,debugInfo:this.debugInfo};c&&(f.isManualExposure="true");var d=new u.default("statsig::layer_exposure");d.setUser(t),d.setMetadata(f),d.setSecondaryExposures(r),this.log(d)}},t.prototype.logConfigDefaultValueFallback=function(t,e,n){this.logGenericEvent("statsig::default_value_type_mismatch",t,e,n),this.loggedErrors.add(e),p.default.error(e)},t.prototype.logAppError=function(t,e,n){var r=e.substring(0,128);this.loggedErrors.has(r)||this.loggedErrors.size>10||(this.logGenericEvent("statsig::app_error",t,r,n),this.loggedErrors.add(r))},t.prototype.logDiagnostics=function(t,e){var n=f.default.getMarkers(e);if(!(n.length<=0)){f.default.clearContext(e);var r=this.makeDiagnosticsEvent(t,{markers:n,context:e,statsigOptions:this.sdkInternal.getOptions().getLoggingCopy()});this.log(r)}},t.prototype.logAppMetrics=function(t){var e,n=this;if("function"==typeof(null===(e=null===window||void 0===window?void 0:window.performance)||void 0===e?void 0:e.getEntriesByType)){var r=window.performance.getEntriesByType("navigation");if(r&&!(r.length<1)){var i=r[0],o={url:i.name};if(i instanceof PerformanceNavigationTiming&&(this.logGenericEvent("statsig::app_metrics::page_load_time",t,i.duration,o),this.logGenericEvent("statsig::app_metrics::dom_interactive_time",t,i.domInteractive-i.startTime,o)),"function"==typeof(null===window||void 0===window?void 0:window.addEventListener)&&(null===document||void 0===document?void 0:document.body)){var a=0,s=!1;window.addEventListener("scroll",(function(){if(null!=(null===document||void 0===document?void 0:document.body))try{var t=document.body.scrollHeight||1,e=Math.min(100,Math.round((window.scrollY+window.innerHeight)/t*100));e>a&&(a=e),s=!0}catch(t){}})),window.addEventListener("beforeunload",(function(){s&&n.logGenericEvent("statsig::app_metrics::scroll_depth",t,a,o),n.logGenericEvent("statsig::app_metrics::time_on_page_ms",t,window.performance.now(),o)}))}}}},t.prototype.logGenericEvent=function(t,e,n,r){var i=new u.default(t);return i.setUser(e),i.setValue(n),i.setMetadata(r),this.log(i),i},t.prototype.shutdown=function(){this.flushInterval&&(clearInterval(this.flushInterval),this.flushInterval=null),this.flush(!0)},t.prototype.flush=function(t){var e=this;if(void 0===t&&(t=!1),this.addErrorBoundaryDiagnostics(),this.addNonExposedChecksEvent(),0!==this.queue.length){var n=this.sdkInternal.getStatsigMetadata();null==n.sessionID&&(n.sessionID=(0,s.v4)());var r=this.queue;if(this.queue=[],t&&!this.sdkInternal.getNetwork().supportsKeepalive()&&"undefined"!=typeof navigator&&null!=(null===navigator||void 0===navigator?void 0:navigator.sendBeacon))return this.sdkInternal.getNetwork().sendLogBeacon({events:r,statsigMetadata:this.sdkInternal.getStatsigMetadata()})||(this.queue=r.concat(this.queue),this.queue.length>0&&(this.addFailedRequest({events:this.queue,statsigMetadata:this.sdkInternal.getStatsigMetadata(),time:Date.now()}),this.queue=[])),void this.saveFailedRequests();this.sdkInternal.getNetwork().postToEndpoint(c.StatsigEndpoint.Rgstr,{events:r,statsigMetadata:this.sdkInternal.getStatsigMetadata()},{retryOptions:{retryLimit:3,backoff:1e3},useKeepalive:t}).then((function(t){if(!t.ok)throw t})).catch((function(t){e.addFailedRequest({events:r,statsigMetadata:e.sdkInternal.getStatsigMetadata(),time:Date.now()})})).finally((function(){return i(e,void 0,void 0,(function(){return o(this,(function(e){return t&&this.saveFailedRequests(),[2]}))}))}))}else t&&this.saveFailedRequests()},t.prototype.saveFailedRequests=function(){var t=this;if(this.failedLogEvents.length>0){var e=JSON.stringify(this.failedLogEvents);if(e.length>v)return void this.logDroppedLogEventsException(this.failedLogEventCount,"Exceeds local storage size");if(d.default.asyncStorage)return void d.default.setItemAsync(l.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY,e).catch((function(e){return t.sdkInternal.getErrorBoundary().logError("saveFailedRequests",e)}));h.default.setItem(l.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY,e)}},t.prototype.sendSavedRequests=function(){return i(this,void 0,void 0,(function(){var t,e,n,r,i,a,s,u,f=this;return o(this,(function(o){switch(o.label){case 0:return e=!1,d.default.asyncStorage?[4,d.default.getItemAsync(l.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY)]:[3,2];case 1:return t=o.sent(),[3,3];case 2:t=h.default.getItem(l.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY),o.label=3;case 3:if(null==t)return[2];t.length>v&&(e=!0),n=[];try{for(n=JSON.parse(t),r=function(t){null!=t&&t.events&&Array.isArray(t.events)&&i.sdkInternal.getNetwork().postToEndpoint(c.StatsigEndpoint.Rgstr,t).then((function(t){if(!t.ok)throw Error(t.status+"")})).catch((function(){e?f.logDroppedLogEventsException(t.events.length,"Flush while shutting down"):f.addFailedRequest(t)}))},i=this,a=0,s=n;a<s.length;a++)u=s[a],r(u)}catch(t){p.default.error("sendSavedRequests ",t),this.sdkInternal.getErrorBoundary().logError("sendSavedRequests",t)}finally{this.clearLocalStorageRequests()}return[2]}}))}))},t.prototype.addFailedRequest=function(t){var e=t.events.length;if(t.time<Date.now()-432e6)this.logDroppedLogEventsException(e,"Events too old");else if(this.failedLogEvents.length>100)this.logDroppedLogEventsException(e,"Exceed max batches to retry");else{var n=t.events.length;this.failedLogEventCount+n>1e3?this.logDroppedLogEventsException(e,"Exceeds max failed events"):(this.failedLogEvents.push(t),this.failedLogEventCount+=n)}},t.prototype.clearLocalStorageRequests=function(){var t=this;d.default.asyncStorage?d.default.removeItemAsync(l.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY).catch((function(e){return t.sdkInternal.getErrorBoundary().logError("clearLocalStorageRequests",e)})):h.default.removeItem(l.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY)},t.prototype.makeDiagnosticsEvent=function(t,e){var n=new u.default("statsig::diagnostics");return n.setUser(t),n.setMetadata(e),n},t.prototype.addErrorBoundaryDiagnostics=function(){if(0!==f.default.getMarkerCount("api_call")){var t=this.makeDiagnosticsEvent(this.sdkInternal.getCurrentUser(),{context:"api_call",markers:f.default.getMarkers("api_call")});this.queue.push(t),f.default.clearContext("api_call")}},t.prototype.addNonExposedChecksEvent=function(){if(0!==Object.keys(this.nonExposedChecks).length){var t=new u.default("statsig::non_exposed_checks");t.setMetadata({checks:r({},this.nonExposedChecks)}),this.queue.push(t),this.nonExposedChecks={}}},t.prototype.logDroppedLogEventsException=function(t,e){var n=this;this.sdkInternal.getErrorBoundary().logError("statsig::log_event_failed",new Error(e),{getExtraData:function(){return i(n,void 0,void 0,(function(){return o(this,(function(e){return[2,{eventCount:t}]}))}))}})},t}();e.default=g},9589:function(t,e,n){"use strict";var r=n(3010),i=n(2586),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigEndpoint=void 0;var u,c=n(290),l=s(n(5449)),f=s(n(4022)),d=s(n(3921));!function(t){t.Initialize="initialize",t.Rgstr="rgstr",t.LogEventBeacon="log_event_beacon"}(u=e.StatsigEndpoint||(e.StatsigEndpoint={}));var h=function(){function t(t){this.retryCodes={408:!0,500:!0,502:!0,503:!0,504:!0,522:!0,524:!0,599:!0},this.canUseKeepalive=!1,this.sdkInternal=t,this.leakyBucket={},this.init()}return t.prototype.init=function(){if(!this.sdkInternal.getOptions().getDisableNetworkKeepalive())try{this.canUseKeepalive="keepalive"in new Request("")}catch(t){this.canUseKeepalive=!1}},t.prototype.fetchValues=function(t){var e=t.user,n=t.sinceTime,r=t.timeout,i=t.useDeltas,o=t.prefetchUsers,a=t.previousDerivedFields,s=t.hadBadDeltaChecksum,c=t.badChecksum,l=t.badMergedConfigs,d=t.badFullResponse,h={user:e,prefetchUsers:o,statsigMetadata:this.sdkInternal.getStatsigMetadata(),sinceTime:null!=n?n:void 0,deltasResponseRequested:i,hash:this.sdkInternal.getOptions().getDisableHashing()?"none":"djb2",previousDerivedFields:a,hadBadDeltaChecksum:s,badChecksum:c,badMergedConfigs:l,badFullResponse:d};return this.postWithTimeout(u.Initialize,h,{timeout:r,retries:this.sdkInternal.getOptions().getInitRequestRetries(),diagnostics:f.default.mark.initialize.networkRequest})},t.prototype.postWithTimeout=function(t,e,n){var r,i,s=this,u=null!=n?n:{},l=u.timeout,f=void 0===l?0:l,h=u.retries,p=void 0===h?0:h,v=u.backoff,g=void 0===v?1e3:v,m=u.diagnostics,y=void 0===m?null:m,b=!1,_=null,w=null,E=[];0!=f&&(_=new Promise((function(t,e){r=setTimeout((function(){b=!0,e(new c.StatsigInitializationTimeoutError(f))}),f)})));var S,C=this.postToEndpoint(t,e,{retryOptions:{retryLimit:p,backoff:g},diagnostics:y}).then((function(n){if(!(i=n).ok){var r="Request to "+t+" failed with status "+i.status;return d.default.error(r),Promise.reject(new Error(r))}if("object"!=typeof i.data){r="Request to "+t+" received invalid response type. Expected 'object' but got '"+typeof i.data+"'",d.default.error(r);var u=new Error(r);return s.sdkInternal.getErrorBoundary().logError("postWithTimeoutInvalidRes",u,{getExtraData:function(){return o(s,void 0,void 0,(function(){return a(this,(function(n){return[2,this.getErrorData(t,e,p,g,i)]}))}))}}),Promise.reject(u)}var c=i.data;return s.sdkInternal.getErrorBoundary().capture("postWithTimeout",(function(){return o(s,void 0,void 0,(function(){return a(this,(function(t){return w=c,b&&(E.forEach((function(t){return t(c)})),E=[]),[2,Promise.resolve(c)]}))}))}),(function(){return Promise.resolve({})}),{getExtraData:function(){return o(s,void 0,void 0,(function(){return a(this,(function(n){return[2,this.getErrorData(t,e,p,g,i)]}))}))}})})).catch((function(t){return Promise.reject(t)})).finally((function(){clearTimeout(r)})),k=_?Promise.race([C,_]):C;return k.eventually=(S=k,function(t){return b&&w?t(w):E.push(t),S}),k},t.prototype.sendLogBeacon=function(t){var e=this.sdkInternal.getOptions();if(e.getLocalModeEnabled())return!0;var n=new r(e.getEventLoggingApi()+u.LogEventBeacon);n.searchParams.append("k",this.sdkInternal.getSDKKey()),t.clientTime=Date.now()+"";var i=null;try{i=JSON.stringify(t)}catch(t){return!1}return navigator.sendBeacon(n.toString(),i)},t.prototype.postToEndpoint=function(t,e,n){var r;return o(this,void 0,void 0,(function(){var s,c,f,h,p,v,g,m,y,b,_,w,E,S,C,k,I,x,T,O,A,L,R=this;return a(this,(function(D){if(c=(s=null!=n?n:{}).useKeepalive,f=void 0!==c&&c,h=s.diagnostics,p=void 0===h?null:h,v=null!==(r=null==n?void 0:n.retryOptions)&&void 0!==r?r:{},g=v.retryLimit,m=void 0===g?0:g,y=v.attempt,b=void 0===y?1:y,_=v.backoff,w=void 0===_?1e3:_,(E=this.sdkInternal.getOptions()).getLocalModeEnabled())return[2,Promise.reject("no network requests in localMode")];if("function"!=typeof fetch)return[2,Promise.reject("fetch is not defined")];if("undefined"==typeof window&&!E.getIgnoreWindowUndefined())return[2,Promise.reject("window is not defined")];if(S=[u.Initialize].includes(t)?E.getApi():E.getEventLoggingApi(),C=S+t,null!=(k=this.leakyBucket[C])&&k>=30)return[2,Promise.reject(new Error("Request failed because you are making the same request too frequently."))];if(this.leakyBucket[C]=null==k?1:k+1,I=t===u.Initialize&&l.default.encodeInitializeCall&&"undefined"!=typeof window&&"function"==typeof(null===window||void 0===window?void 0:window.btoa),x=JSON.stringify(e),I)try{var N;T=i(N=window.btoa(x).split("")).call(N).join(""),x=T}catch(t){I=!1}return O={method:"POST",body:x,headers:{"Content-type":"application/json; charset=UTF-8","STATSIG-API-KEY":this.sdkInternal.getSDKKey(),"STATSIG-CLIENT-TIME":Date.now()+"","STATSIG-SDK-TYPE":this.sdkInternal.getSDKType(),"STATSIG-SDK-VERSION":this.sdkInternal.getSDKVersion(),"STATSIG-ENCODED":I?"1":"0"}},this.canUseKeepalive&&f&&(O.keepalive=!0),null==p||p.start({attempt:b}),L=!0,[2,fetch(C,O).then((function(t){return o(R,void 0,void 0,(function(){var e,n,r;return a(this,(function(i){switch(i.label){case 0:return(A=t).ok?(e=A,204!==A.status?[3,1]:(e.data={has_updates:!1,is_no_content:!0},[3,3])):[3,4];case 1:return[4,A.text()];case 2:n=i.sent(),e.data=JSON.parse(n),i.label=3;case 3:return null==p||p.end(this.getDiagnosticsData(A,b)),[2,Promise.resolve(e)];case 4:return this.retryCodes[A.status]||(L=!1),[4,A.text()];case 5:return r=i.sent(),[2,Promise.reject(new Error(A.status+": "+r))]}}))}))})).catch((function(n){null==p||p.end(R.getDiagnosticsData(A,b,n));var r="Error occurred while posting to endpoint: "+n.message+"\nError Details: "+JSON.stringify(n)+"\nEndpoint: "+t+"\nAttempt: "+b+"\nRetry Limit: "+m+"\nBackoff: "+w;return d.default.error(r),b<m&&L?new Promise((function(n,r){setTimeout((function(){R.leakyBucket[C]=Math.max(R.leakyBucket[C]-1,0),R.postToEndpoint(t,e,{retryOptions:{retryLimit:m,attempt:b+1,backoff:2*w},useKeepalive:f,diagnostics:p}).then(n).catch(r)}),w)})):Promise.reject(n)})).finally((function(){R.leakyBucket[C]=Math.max(R.leakyBucket[C]-1,0)}))]}))}))},t.prototype.supportsKeepalive=function(){return this.canUseKeepalive},t.prototype.getDiagnosticsData=function(t,e,n){var r,i;return{success:!0===(null==t?void 0:t.ok),statusCode:null==t?void 0:t.status,sdkRegion:null===(r=null==t?void 0:t.headers)||void 0===r?void 0:r.get("x-statsig-region"),isDelta:!0===(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.is_delta),attempt:e,error:f.default.formatError(n)}},t.prototype.getErrorData=function(t,e,n,r,i){var s;return o(this,void 0,void 0,(function(){var o;return a(this,(function(a){try{return o={},(null!==(s=i.headers)&&void 0!==s?s:[]).forEach((function(t,e){o[e]=t})),[2,{responseInfo:{headers:o,status:i.status,statusText:i.statusText,type:i.type,url:i.url,redirected:i.redirected,bodySnippet:i.data?JSON.stringify(i.data).slice(0,500):null},requestInfo:{endpointName:t,bodySnippet:JSON.stringify(e).slice(0,500),retries:n,backoff:r}}]}catch(t){return[2,{statusText:"statsig::failed to extract extra data"}]}return[2]}))}))},t}();e.default=h},5449:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.encodeInitializeCall=!0,t}();e.default=n},4911:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevel=e.INIT_TIMEOUT_DEFAULT_MS=void 0,e.INIT_TIMEOUT_DEFAULT_MS=3e3,function(t){t.NONE="NONE",t.INFO="INFO",t.DEBUG="DEBUG",t.WARN="WARN",t.ERROR="ERROR"}(n=e.LogLevel||(e.LogLevel={}));var r=function(){function t(t){var r,i,o,a,s,u,c,l,f,d,h,p,v,g,m,y,b,_,w,E,S,C,k,I,x,T,O;null==t&&(t={});var A=null!==(r=t.api)&&void 0!==r?r:"https://featuregates.org/v1/";this.api=A.endsWith("/")?A:A+"/",this.disableCurrentPageLogging=null!==(i=t.disableCurrentPageLogging)&&void 0!==i&&i,this.environment=null!==(o=t.environment)&&void 0!==o?o:null,this.loggingIntervalMillis=this.normalizeNumberInput(t.loggingIntervalMillis,{default:1e4,min:1e3,max:6e4}),this.loggingBufferMaxSize=this.normalizeNumberInput(t.loggingBufferMaxSize,{default:100,min:2,max:500}),this.disableNetworkKeepalive=null!==(a=t.disableNetworkKeepalive)&&void 0!==a&&a,this.initRequestRetries=null!==(s=t.initRequestRetries)&&void 0!==s?s:3,this.overrideStableID=null!==(u=t.overrideStableID)&&void 0!==u?u:null,this.localMode=null!==(c=t.localMode)&&void 0!==c&&c,this.initTimeoutMs=t.initTimeoutMs&&t.initTimeoutMs>=0?t.initTimeoutMs:e.INIT_TIMEOUT_DEFAULT_MS,this.disableErrorLogging=null!==(l=t.disableErrorLogging)&&void 0!==l&&l,this.disableAutoMetricsLogging=null!==(f=t.disableAutoMetricsLogging)&&void 0!==f&&f,this.initializeValues=null!==(d=t.initializeValues)&&void 0!==d?d:null;var L=null!==(p=null!==(h=t.eventLoggingApi)&&void 0!==h?h:t.api)&&void 0!==p?p:"https://events.statsigapi.net/v1/";this.eventLoggingApi=L.endsWith("/")?L:L+"/",this.prefetchUsers=null!==(v=t.prefetchUsers)&&void 0!==v?v:[],this.disableLocalStorage=null!==(g=t.disableLocalStorage)&&void 0!==g&&g,this.initCompletionCallback=null!==(m=t.initCompletionCallback)&&void 0!==m?m:null,this.updateCompletionCallback=null!==(y=t.updateUserCompletionCallback)&&void 0!==y?y:null,this.disableDiagnosticsLogging=null!==(b=t.disableDiagnosticsLogging)&&void 0!==b&&b,this.logLevel=null!==(_=null==t?void 0:t.logLevel)&&void 0!==_?_:n.NONE,this.logger=null!==(w=null==t?void 0:t.logger)&&void 0!==w?w:console,this.ignoreWindowUndefined=null!==(E=null==t?void 0:t.ignoreWindowUndefined)&&void 0!==E&&E,this.fetchMode=null!==(S=t.fetchMode)&&void 0!==S?S:"network-only",this.disableLocalOverrides=null!==(C=null==t?void 0:t.disableLocalOverrides)&&void 0!==C&&C,this.gateEvaluationCallback=null!==(k=null==t?void 0:t.gateEvaluationCallback)&&void 0!==k?k:null,this.userPersistentStorage=null!==(I=null==t?void 0:t.userPersistentStorage)&&void 0!==I?I:null,this.disableAllLogging=null!==(x=t.disableAllLogging)&&void 0!==x&&x,this.setLoggingCopy(t),this.disableHashing=null!==(T=t.disableHashing)&&void 0!==T&&T,this.evaluationCallback=null!==(O=t.evaluationCallback)&&void 0!==O?O:null}return t.prototype.setLoggingCopy=function(t){if(null!=t&&null==this.loggingCopy){var e={};Object.entries(t).forEach((function(n){var r,i,o=n[0],a=n[1];switch(typeof a){case"number":case"bigint":case"boolean":e[String(o)]=a;break;case"string":a.length<50?e[String(o)]=a:e[String(o)]="set";break;case"object":"environment"===o?e.environment=a:"prefetchUsers"===o?e.prefetchUsers=(null!==(i=null===(r=t.prefetchUsers)||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0:e[String(o)]=null!=a?"set":"unset";break;case"function":"userPersistentStorage"===o&&(e.userPersistentStorage=null!=a?"set":"unset")}})),this.loggingCopy=e}},t.prototype.getLoggingCopy=function(){return this.loggingCopy},t.prototype.getOutputLogger=function(){return this.logger},t.prototype.getApi=function(){return this.api},t.prototype.getEnvironment=function(){return this.environment},t.prototype.getDisableCurrentPageLogging=function(){return this.disableCurrentPageLogging},t.prototype.getLoggingIntervalMillis=function(){return this.loggingIntervalMillis},t.prototype.getLoggingBufferMaxSize=function(){return this.loggingBufferMaxSize},t.prototype.getDisableNetworkKeepalive=function(){return this.disableNetworkKeepalive},t.prototype.getOverrideStableID=function(){return this.overrideStableID},t.prototype.getLocalModeEnabled=function(){return this.localMode},t.prototype.getInitTimeoutMs=function(){return this.initTimeoutMs},t.prototype.getDisableErrorLogging=function(){return this.disableErrorLogging},t.prototype.getDisableAutoMetricsLogging=function(){return this.disableAutoMetricsLogging},t.prototype.getInitializeValues=function(){return this.initializeValues},t.prototype.getEventLoggingApi=function(){return this.eventLoggingApi},t.prototype.getPrefetchUsers=function(){return this.prefetchUsers},t.prototype.getDisableLocalStorage=function(){return this.disableLocalStorage},t.prototype.getInitCompletionCallback=function(){return this.initCompletionCallback},t.prototype.getUpdateUserCompletionCallback=function(){return this.updateCompletionCallback},t.prototype.getDisableDiagnosticsLogging=function(){return this.disableDiagnosticsLogging},t.prototype.getLogLevel=function(){return this.logLevel},t.prototype.getIgnoreWindowUndefined=function(){return this.ignoreWindowUndefined},t.prototype.getFetchMode=function(){return this.fetchMode},t.prototype.getDisableLocalOverrides=function(){return this.disableLocalOverrides},t.prototype.getGateEvaluationCallback=function(){return this.gateEvaluationCallback},t.prototype.getUserPersistentStorage=function(){return this.userPersistentStorage},t.prototype.getDisableHashing=function(){return this.disableHashing},t.prototype.getInitRequestRetries=function(){return this.initRequestRetries},t.prototype.isAllLoggingDisabled=function(){return this.disableAllLogging},t.prototype.reenableAllLogging=function(){this.disableAllLogging=!1},t.prototype.getEvaluationCallback=function(){return this.evaluationCallback},t.prototype.normalizeNumberInput=function(t,e){return null==t?e.default:Math.max(Math.min(t,e.max),e.min)},t}();e.default=r},1106:function(t,e,n){"use strict";var r=n(7282),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(1249)),c=s(n(4987)),l=s(n(6705)),f=n(9844),d=n(1292),h=s(n(5269)),p=s(n(1674)),v=n(3942),g=n(4399),m=function(){function t(t,e){this.overrides={gates:{},configs:{},layers:{}},this.sdkInternal=t,this.userCacheKey=this.sdkInternal.getCurrentUserCacheKey(),this.values={},this.userValues={feature_gates:{},dynamic_configs:{},sticky_experiments:{},layer_configs:{},has_updates:!1,time:0,evaluation_time:0,derived_fields:{}},this.stickyDeviceExperiments={},this.loaded=!1,this.reason=v.EvaluationReason.Uninitialized,this.userPersistentStorageAdapter=this.sdkInternal.getOptions().getUserPersistentStorage(),this.userPersistentStorageData={experiments:{}},e?this.bootstrap(e):this.load()}return t.prototype.load=function(){this.loadFromLocalStorage(),this.partialLoadFromPersistentStorageAdapter()},t.prototype.loadAsync=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.loadFromAsyncStorage()];case 1:return t.sent(),this.partialLoadFromPersistentStorageAdapter(),[2]}}))}))},t.prototype.updateUser=function(t){this.userCacheKey=this.sdkInternal.getCurrentUserCacheKey();var e=this.setUserValueFromCache(t);return this.partialLoadFromPersistentStorageAdapter(),e},t.prototype.getInitializeResponseJson=function(){return JSON.stringify(this.userValues)},t.prototype.loadFromAsyncStorage=function(){return o(this,void 0,void 0,(function(){var t,e;return a(this,(function(n){switch(n.label){case 0:return t=this.parseCachedValues,[4,h.default.getItemAsync(f.INTERNAL_STORE_KEY)];case 1:return e=[n.sent()],[4,h.default.getItemAsync(f.STICKY_DEVICE_EXPERIMENTS_KEY)];case 2:return t.apply(this,e.concat([n.sent()])),this.userCacheKey=this.sdkInternal.getCurrentUserCacheKey(),this.loaded=!0,[2]}}))}))},t.prototype.bootstrap=function(t){var e,n,r,i,o,a,s=this.sdkInternal.getCurrentUserCacheKey(),u=this.sdkInternal.getCurrentUser(),c=null!==(r=null!==(n=null===(e=null==u?void 0:u.customIDs)||void 0===e?void 0:e.stableID)&&void 0!==n?n:this.sdkInternal.getStatsigMetadata().stableID)&&void 0!==r?r:null,f=l.default.getEvaluationReasonForBootstrap(u,t,c);this.loaded=!0;try{var d=t;this.userValues.feature_gates=null!==(i=d.feature_gates)&&void 0!==i?i:{},this.userValues.dynamic_configs=null!==(o=d.dynamic_configs)&&void 0!==o?o:{},this.userValues.layer_configs=null!==(a=d.layer_configs)&&void 0!==a?a:{},this.userValues.evaluation_time=Date.now(),this.userValues.time=Date.now(),this.userValues.hash_used=d.hash_used,this.values[s.v3]=this.userValues,this.reason=f,this.loadOverrides()}catch(t){return}},t.prototype.loadFromLocalStorage=function(){h.default.asyncStorage||(this.parseCachedValues(p.default.getItem(f.INTERNAL_STORE_KEY),p.default.getItem(f.STICKY_DEVICE_EXPERIMENTS_KEY)),this.loaded=!0)},t.prototype.partialLoadFromPersistentStorageAdapter=function(){var t;if(this.userPersistentStorageAdapter){var e=null!==(t=this.userPersistentStorageAdapter.userIDType)&&void 0!==t?t:"userID",n=this.sdkInternal.getCurrentUserUnitID(e);if(n){try{this.userPersistentStorageData=JSON.parse(this.userPersistentStorageAdapter.load(n+":"+e))}catch(t){console.warn("Failed to load from user persistent storage.",t)}this.userValues.sticky_experiments=this.userPersistentStorageData.experiments}}},t.prototype.saveStickyExperimentsToPersistentStorageAdapter=function(){var t;if(this.userPersistentStorageAdapter){var e=null!==(t=this.userPersistentStorageAdapter.userIDType)&&void 0!==t?t:"userID",n=this.sdkInternal.getCurrentUserUnitID(e);if(n){var r=i(i({},this.userPersistentStorageData),{experiments:this.userValues.sticky_experiments});try{this.userPersistentStorageAdapter.save(n+":"+e,JSON.stringify(r))}catch(t){console.warn("Failed to save user experiment values to persistent storage.",t)}}}},t.prototype.isLoaded=function(){return this.loaded},t.prototype.getLastUpdateTime=function(t,e){var n=(0,d.getUserCacheKey)(e,t,this.sdkInternal.getSDKKey()),r=this.getUserValues(n),o=(0,d.djb2HashForObject)(i(i({},t),{stableID:e}));return(null==r?void 0:r.user_hash)==o?this.userValues.time:null},t.prototype.getPreviousDerivedFields=function(t,e){var n=(0,d.getUserCacheKey)(e,t,this.sdkInternal.getSDKKey()),r=this.getUserValues(n),o=(0,d.djb2HashForObject)(i(i({},t),{stableID:e}));if((null==r?void 0:r.user_hash)==o)return this.userValues.derived_fields},t.prototype.getPreviousHashUsed=function(t,e){var n=(0,d.getUserCacheKey)(e,t,this.sdkInternal.getSDKKey()),r=this.getUserValues(n);return null==r?void 0:r.hash_used},t.prototype.parseCachedValues=function(t,e){try{this.values=t?JSON.parse(t):this.values,this.setUserValueFromCache()}catch(t){this.removeFromStorage(f.INTERNAL_STORE_KEY)}try{var n=e?JSON.parse(e):null;n&&(this.stickyDeviceExperiments=n)}catch(t){this.removeFromStorage(f.STICKY_DEVICE_EXPERIMENTS_KEY)}this.loadOverrides()},t.prototype.getUserValues=function(t){var e,n;return null!==(n=null!==(e=this.values[t.v3])&&void 0!==e?e:this.values[t.v2])&&void 0!==n?n:this.values[t.v1]},t.prototype.setUserValueFromCache=function(t){var e;void 0===t&&(t=!1);var n=this.getUserValues(this.userCacheKey);return null==n?(this.resetUserValues(),this.reason=v.EvaluationReason.Uninitialized,null):(null!=n.stableIDUsed&&n.stableIDUsed!==this.getStableID()&&this.sdkInternal.getErrorBoundary().logError("stableIDChanged",new Error("StableID changed from "+n.stableIDUsed+" to "+this.getStableID()+",\n            override stableID "+this.sdkInternal.getOptions().getOverrideStableID())),this.userValues=n,this.reason=t?v.EvaluationReason.Prefetch:v.EvaluationReason.Cache,null!==(e=n.evaluation_time)&&void 0!==e?e:0)},t.prototype.removeFromStorage=function(t){var e=this;h.default.removeItemAsync(t).catch((function(t){return e.sdkInternal.getErrorBoundary().logError("removeFromStorage",t)})),p.default.removeItem(t)},t.prototype.loadOverrides=function(){if(!this.sdkInternal.getOptions().getDisableLocalOverrides()){var t=p.default.getItem(f.OVERRIDES_STORE_KEY);if(null!=t)try{this.overrides=JSON.parse(t)}catch(t){p.default.removeItem(f.OVERRIDES_STORE_KEY)}}},t.prototype.setEvaluationReason=function(t){this.reason=t},t.prototype.save=function(t,e,n,r){return o(this,void 0,void 0,(function(){var i,o,s,u;return a(this,(function(a){switch(a.label){case 0:return i=(0,d.getUserCacheKey)(n,t,this.sdkInternal.getSDKKey()),(o=e).is_delta?[2,this.saveInitDeltas(t,e,!0,n,r)]:(this.mergeInitializeResponseIntoUserMap(o,this.values,i,t,(function(t){return t}),n,r),(s=this.getUserValues(i))&&i&&i.v3===this.userCacheKey.v3&&(this.userValues=s,this.reason=v.EvaluationReason.Network),u=this,[4,this.writeValuesToStorage(this.values)]);case 1:return u.values=a.sent(),[2]}}))}))},t.prototype.saveWithoutUpdatingClientState=function(t,e,n,r){return o(this,void 0,void 0,(function(){var i,o,s;return a(this,(function(a){switch(a.label){case 0:return i=(0,d.getUserCacheKey)(n,t,this.sdkInternal.getSDKKey()),(o=e).is_delta?[2,this.saveInitDeltas(t,e,!1,n,r)]:(s=JSON.parse(JSON.stringify(this.values)),this.mergeInitializeResponseIntoUserMap(o,s,i,t,(function(t){return t}),n,r),[4,this.writeValuesToStorage(s)]);case 1:return a.sent(),[2]}}))}))},t.prototype.getDeltasMergeFunction=function(t){var e=this;return function(n,r){var i,o,a,s=null!==(a=null!==(o=null!==(i=t[r.v3])&&void 0!==i?i:t[r.v2])&&void 0!==o?o:t[r.v1])&&void 0!==a?a:e.getDefaultUserCacheValues();return e.mergeUserCacheValues(s,n)}},t.prototype.saveInitDeltas=function(t,e,n,r,i){var s,u,c;return o(this,void 0,void 0,(function(){var o,l,f,h,p,g,m,b,_,w,E,S=this;return a(this,(function(a){switch(a.label){case 0:return o=(0,d.getUserCacheKey)(r,t,this.sdkInternal.getSDKKey()),l=e,f=JSON.parse(JSON.stringify(this.values)),this.mergeInitializeResponseIntoUserMap(l,f,o,t,this.getDeltasMergeFunction(f),r,i),h=!1,p=void 0,g=!1,Object.keys(null!==(s=l.prefetched_user_values)&&void 0!==s?s:{}).forEach((function(t){var e,n=f[t],r=null===(e=l.prefetched_user_values)||void 0===e?void 0:e[t];if(n&&r){y(r,n);var i=r.checksum,o=(0,d.djb2HashForObject)({feature_gates:f[t].feature_gates,dynamic_configs:f[t].dynamic_configs,layer_configs:f[t].layer_configs});i&&i!==o&&(h=!0,p=o),m.hash_used!==l.hash_used&&(g=!0)}})),m=null!==(c=null!==(u=f[o.v3])&&void 0!==u?u:f[o.v2])&&void 0!==c?c:f[o.v1],y(l,m),b=l.checksum,_={feature_gates:m.feature_gates,dynamic_configs:m.dynamic_configs,layer_configs:m.layer_configs},w=(0,d.djb2HashForObject)(_),b&&b!==w&&(h=!0,p=w),m.hash_used!==l.hash_used&&(g=!0),h||g?null!=l.deltas_full_response?(this.refetchAndSaveValues(t,r,i,void 0,p,h,_,l.deltas_full_response).catch((function(t){return S.sdkInternal.getErrorBoundary().logError("refetchAndSaveValues",t)})),[2]):(this.refetchAndSaveValues(t,r,i,void 0,p,h).catch((function(t){return S.sdkInternal.getErrorBoundary().logError("refetchAndSaveValues",t)})),[2]):n?(m&&o.v3===this.userCacheKey.v3&&(this.userValues=m,this.reason=v.EvaluationReason.Network),E=this,[4,this.writeValuesToStorage(f)]):[3,2];case 1:return E.values=a.sent(),[3,4];case 2:return[4,this.writeValuesToStorage(f)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))},t.prototype.refetchAndSaveValues=function(t,e,n,r,i,s,u,c){return void 0===r&&(r=this.sdkInternal.getOptions().getInitTimeoutMs()),o(this,void 0,void 0,(function(){var o,l,f=this;return a(this,(function(a){return o=this.getLastUpdateTime(t,e),l=this.getPreviousDerivedFields(t,e),[2,this.sdkInternal.getNetwork().fetchValues({user:t,sinceTime:o,timeout:r,useDeltas:!1,prefetchUsers:n,previousDerivedFields:l,hadBadDeltaChecksum:s,badChecksum:i,badMergedConfigs:u,badFullResponse:c}).then((function(r){(0,g.verifySDKKeyUsed)(r,f.sdkInternal.getSDKKey(),f.sdkInternal.getErrorBoundary())&&(null==r?void 0:r.has_updates)&&f.saveWithoutUpdatingClientState(t,r,e,n).catch((function(t){return f.sdkInternal.getErrorBoundary().logError("refetchAndSaveValues:then",t)}))})).catch((function(t){return f.sdkInternal.getErrorBoundary().logError("refetchAndSaveValues",t)}))]}))}))},t.prototype.getStableID=function(){return this.sdkInternal.getStableID()},t.prototype.mergeInitializeResponseIntoUserMap=function(t,e,n,r,o,a,s){if(t.prefetched_user_values)for(var u=0,c=Object.keys(t.prefetched_user_values);u<c.length;u++){var l=c[u],f=t.prefetched_user_values[l],h=o(this.convertAPIDataToCacheValues(f,l),{v1:l,v2:l,v3:l});if(s){var p=(0,d.djb2HashForObject)(s[l]);h.user_hash=p,h.stableIDUsed=a}e[l]=h}if(n){var v=this.convertAPIDataToCacheValues(t,n.v3);p=(0,d.djb2HashForObject)(i(i({},r),{stableID:a})),v.user_hash=p,v.stableIDUsed=a,e[n.v3]=o(v,n)}},t.prototype.getDefaultUserCacheValues=function(){return{feature_gates:{},layer_configs:{},dynamic_configs:{},sticky_experiments:{},time:0,evaluation_time:0,derived_fields:{}}},t.prototype.mergeUserCacheValues=function(t,e){return{feature_gates:i(i({},t.feature_gates),e.feature_gates),layer_configs:i(i({},t.layer_configs),e.layer_configs),dynamic_configs:i(i({},t.dynamic_configs),e.dynamic_configs),sticky_experiments:t.sticky_experiments,time:e.time,evaluation_time:e.evaluation_time,derived_fields:e.derived_fields,hash_used:e.hash_used,user_hash:e.user_hash,stableIDUsed:e.stableIDUsed}},t.prototype.writeValuesToStorage=function(t){return o(this,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return t[this.userCacheKey.v3]?(delete t[this.userCacheKey.v2],delete t[this.userCacheKey.v1]):t[this.userCacheKey.v2]&&delete t[this.userCacheKey.v1],e=Object.entries(t).sort((function(t,e){var n,r,i=t[1],o=e[1];return null==i?1:null==o?-1:(null!==(n=null==o?void 0:o.evaluation_time)&&void 0!==n?n:null==o?void 0:o.time)-(null!==(r=null==i?void 0:i.evaluation_time)&&void 0!==r?r:null==i?void 0:i.time)})).slice(0,10),t=r(e),h.default.asyncStorage?[4,h.default.setItemAsync(f.INTERNAL_STORE_KEY,JSON.stringify(t))]:[3,2];case 1:return n.sent(),[3,3];case 2:p.default.setItem(f.INTERNAL_STORE_KEY,JSON.stringify(t)),n.label=3;case 3:return[2,t]}}))}))},t.prototype.checkGate=function(t,e){var n;void 0===e&&(e=!1);var r,i=this.getHashedSpecName(t),o={name:t,value:!1,rule_id:"",secondary_exposures:[]};if(e||null==this.overrides.gates[t]){var a=null===(n=this.userValues)||void 0===n?void 0:n.feature_gates[i];a&&(o=a),r=this.getEvaluationDetails(null!=a)}else o={name:t,value:this.overrides.gates[t],rule_id:"override",secondary_exposures:[]},r=this.getEvaluationDetails(!1,v.EvaluationReason.LocalOverride);return{evaluationDetails:r,gate:o}},t.prototype.getConfig=function(t,e){var n,r;void 0===e&&(e=!1);var i,o,a=this.getHashedSpecName(t);if(e||null==this.overrides.configs[t])if(null!=(null===(n=this.userValues)||void 0===n?void 0:n.dynamic_configs[a])){var s=null===(r=this.userValues)||void 0===r?void 0:r.dynamic_configs[a];o=this.getEvaluationDetails(!0),i=this.createDynamicConfig(t,s,o)}else o=this.getEvaluationDetails(!1),i=new u.default(t,{},"",o);else o=this.getEvaluationDetails(!1,v.EvaluationReason.LocalOverride),i=new u.default(t,this.overrides.configs[t],"override",o,[],"",this.makeOnConfigDefaultValueFallback(this.sdkInternal.getCurrentUser()));return i},t.prototype.getExperiment=function(t,e,n){var r,i;if(void 0===e&&(e=!1),void 0===n&&(n=!1),n||null==this.overrides.configs[t]){var o=this.getLatestValue(t,"dynamic_configs");i=this.getEvaluationDetails(null!=o);var a=this.getPossiblyStickyValue(t,o,e,!1,i);r=this.createDynamicConfig(t,a,i)}else i=this.getEvaluationDetails(!1,v.EvaluationReason.LocalOverride),r=new u.default(t,this.overrides.configs[t],"override",i);return r},t.prototype.getLayer=function(t,e,n){var r,i,o,a;if(null!=this.overrides.layers[e]){var s=this.getEvaluationDetails(!1,v.EvaluationReason.LocalOverride);return c.default._create(e,null!==(r=this.overrides.layers[e])&&void 0!==r?r:{},"override",s,t)}var u=this.getLatestValue(e,"layer_configs"),l=this.getEvaluationDetails(null!=u),f=this.getPossiblyStickyValue(e,u,n,!0,l);return c.default._create(e,null!==(i=null==f?void 0:f.value)&&void 0!==i?i:{},null!==(o=null==f?void 0:f.rule_id)&&void 0!==o?o:"",l,t,null==f?void 0:f.secondary_exposures,null==f?void 0:f.undelegated_secondary_exposures,null!==(a=null==f?void 0:f.allocated_experiment_name)&&void 0!==a?a:"",null==f?void 0:f.explicit_parameters,null==f?void 0:f.group_name)},t.prototype.overrideConfig=function(t,e){try{JSON.stringify(e)}catch(t){return void console.warn("Failed to stringify given config override.  Dropping",t)}this.overrides.configs[t]=e,this.saveOverrides()},t.prototype.overrideLayer=function(t,e){try{JSON.stringify(e)}catch(t){return void console.warn("Failed to stringify given layer override.  Dropping",t)}this.overrides.layers[t]=e,this.saveOverrides()},t.prototype.overrideGate=function(t,e){this.overrides.gates[t]=e,this.saveOverrides()},t.prototype.removeGateOverride=function(t){null==t?this.overrides.gates={}:delete this.overrides.gates[t],this.saveOverrides()},t.prototype.removeConfigOverride=function(t){null==t?this.overrides.configs={}:delete this.overrides.configs[t],this.saveOverrides()},t.prototype.removeLayerOverride=function(t){null==t?this.overrides.layers={}:delete this.overrides.layers[t],this.saveOverrides()},t.prototype.getAllOverrides=function(){return this.overrides},t.prototype.saveOverrides=function(){try{p.default.setItem(f.OVERRIDES_STORE_KEY,JSON.stringify(this.overrides))}catch(t){console.warn("Failed to persist gate/config overrides")}},t.prototype.getLatestValue=function(t,e){var n,r,i,o,a,s=this.getHashedSpecName(t);return null!==(i=null===(r=null===(n=this.userValues)||void 0===n?void 0:n[e])||void 0===r?void 0:r[s])&&void 0!==i?i:null===(a=null===(o=this.userValues)||void 0===o?void 0:o[e])||void 0===a?void 0:a[t]},t.prototype.getPossiblyStickyValue=function(t,e,n,r,i){var o,a=this.getHashedSpecName(t);if(!n)return this.removeStickyValue(a),e;var s=this.getStickyValue(a);if(!s)return this.attemptToSaveStickyValue(a,e),e;var u;return 1==(null==(u=r?this.getLatestValue(null!==(o=null==s?void 0:s.allocated_experiment_name)&&void 0!==o?o:"","dynamic_configs"):e)?void 0:u.is_experiment_active)?(i.reason=v.EvaluationReason.Sticky,s):(1==(null==e?void 0:e.is_experiment_active)?this.attemptToSaveStickyValue(a,e):this.removeStickyValue(a),e)},t.prototype.createDynamicConfig=function(t,e,n){var r,i,o;return new u.default(t,null!==(r=null==e?void 0:e.value)&&void 0!==r?r:{},null!==(i=null==e?void 0:e.rule_id)&&void 0!==i?i:"",n,null==e?void 0:e.secondary_exposures,null!==(o=null==e?void 0:e.allocated_experiment_name)&&void 0!==o?o:"",this.makeOnConfigDefaultValueFallback(this.sdkInternal.getCurrentUser()),null==e?void 0:e.group_name,null==e?void 0:e.id_type,null==e?void 0:e.is_experiment_active)},t.prototype.getStickyValue=function(t){var e,n;return null!==(n=null===(e=this.userValues)||void 0===e?void 0:e.sticky_experiments[t])&&void 0!==n?n:this.stickyDeviceExperiments[t]},t.prototype.attemptToSaveStickyValue=function(t,e){var n;e&&e.is_user_in_experiment&&e.is_experiment_active&&(!0===e.is_device_based?this.stickyDeviceExperiments[t]=e:(null===(n=this.userValues)||void 0===n?void 0:n.sticky_experiments)&&(this.userValues.sticky_experiments[t]=e),this.saveStickyValuesToStorage())},t.prototype.removeStickyValue=function(t){var e,n,r,i;0===Object.keys(null!==(n=null===(e=this.userValues)||void 0===e?void 0:e.sticky_experiments)&&void 0!==n?n:{}).length&&0===Object.keys(null!==(r=this.stickyDeviceExperiments)&&void 0!==r?r:{}).length||(null===(i=this.userValues)||void 0===i||delete i.sticky_experiments[t],delete this.stickyDeviceExperiments[t],this.saveStickyValuesToStorage())},t.prototype.saveStickyValuesToStorage=function(){this.userPersistentStorageAdapter?this.saveStickyExperimentsToPersistentStorageAdapter():(this.values[this.userCacheKey.v3]=this.userValues,this.setItemToStorage(f.INTERNAL_STORE_KEY,JSON.stringify(this.values)),this.setItemToStorage(f.STICKY_DEVICE_EXPERIMENTS_KEY,JSON.stringify(this.stickyDeviceExperiments)))},t.prototype.getGlobalEvaluationDetails=function(){var t,e;return{reason:null!==(t=this.reason)&&void 0!==t?t:v.EvaluationReason.Uninitialized,time:null!==(e=this.userValues.evaluation_time)&&void 0!==e?e:0}},t.prototype.getEvaluationDetails=function(t,e){var n;return t?{reason:this.reason,time:null!==(n=this.userValues.evaluation_time)&&void 0!==n?n:Date.now()}:{reason:null!=e?e:this.reason==v.EvaluationReason.Uninitialized?v.EvaluationReason.Uninitialized:v.EvaluationReason.Unrecognized,time:Date.now()}},t.prototype.resetUserValues=function(){this.userValues={feature_gates:{},dynamic_configs:{},sticky_experiments:{},layer_configs:{},time:0,evaluation_time:0,derived_fields:{}}},t.prototype.getHashedSpecName=function(t){switch(this.userValues.hash_used){case"djb2":return(0,d.djb2Hash)(t);case"none":return t;default:return(0,d.sha256Hash)(t)}},t.prototype.convertAPIDataToCacheValues=function(t,e){var n,r;return{feature_gates:t.feature_gates,layer_configs:t.layer_configs,dynamic_configs:t.dynamic_configs,sticky_experiments:null!==(r=null===(n=this.values[e])||void 0===n?void 0:n.sticky_experiments)&&void 0!==r?r:{},time:null==t.time||isNaN(t.time)?0:t.time,evaluation_time:Date.now(),hash_used:t.hash_used,derived_fields:t.derived_fields}},t.prototype.setItemToStorage=function(t,e){var n=this;h.default.asyncStorage?h.default.setItemAsync(t,e).catch((function(t){n.sdkInternal.getErrorBoundary().logError("setItemToStorage",t)})):p.default.setItem(t,e)},t.prototype.makeOnConfigDefaultValueFallback=function(t){var e=this;return function(n,r,i,o){e.isLoaded()&&e.sdkInternal.getLogger().logConfigDefaultValueFallback(t,"Parameter "+r+" is a value of type "+o+".\n          Returning requested defaultValue type "+i,{name:n.getName(),ruleID:n.getRuleID(),parameter:r,defaultValueType:i,valueType:o})}},t}();function y(t,e){var n,r,i;(null!==(n=t.deleted_configs)&&void 0!==n?n:[]).forEach((function(t){delete e.dynamic_configs[t]})),(null!==(r=t.deleted_gates)&&void 0!==r?r:[]).forEach((function(t){delete e.feature_gates[t]})),(null!==(i=t.deleted_layers)&&void 0!==i?i:[]).forEach((function(t){delete e.layer_configs[t]}))}e.default=m},886:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.getUserHashWithoutStableID=void 0;var o=n(1292);e.getUserHashWithoutStableID=function(t){var e=t.customIDs,n=i(t,["customIDs"]),a=r({},e);return delete a.stableID,(0,o.djb2HashForObject)(r(r({},n),{customIDs:a}))}},4227:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigAsyncStorage=e.EvaluationReason=e.StatsigClient=e.Layer=e.DynamicConfig=e.FeatureGate=void 0;var a=n(290),s=o(n(4850)),u=o(n(5449)),c=o(n(873)),l=o(n(562)),f=o(n(6314)),d=n(3942),h=n(618);Object.defineProperty(e,"FeatureGate",{enumerable:!0,get:function(){return o(h).default}});var p=n(1249);Object.defineProperty(e,"DynamicConfig",{enumerable:!0,get:function(){return o(p).default}});var v=n(4987);Object.defineProperty(e,"Layer",{enumerable:!0,get:function(){return o(v).default}});var g=n(4850);Object.defineProperty(e,"StatsigClient",{enumerable:!0,get:function(){return o(g).default}});var m=n(3942);Object.defineProperty(e,"EvaluationReason",{enumerable:!0,get:function(){return m.EvaluationReason}});var y=n(5269);Object.defineProperty(e,"StatsigAsyncStorage",{enumerable:!0,get:function(){return o(y).default}}),(0,c.default)(),(0,l.default)(),(0,f.default)();var b=function(){function t(){}return Object.defineProperty(t,"encodeIntializeCall",{get:function(){return u.default.encodeInitializeCall},set:function(t){u.default.encodeInitializeCall=t},enumerable:!1,configurable:!0}),t.initialize=function(e,n,o){var a;return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){return r=null!==(a=t.instance)&&void 0!==a?a:new s.default(e,n,o),t.instance||(t.instance=r),[2,r.initializeAsync()]}))}))},t.prefetchUsers=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,t.getClientX().prefetchUsers(e)];case 1:return[2,n.sent()]}}))}))},t.setInitializeValues=function(e){t.getClientX().setInitializeValues(e)},t.checkGate=function(e,n){return void 0===n&&(n=!1),t.getClientX().checkGate(e,n)},t.checkGateWithExposureLoggingDisabled=function(e,n){return void 0===n&&(n=!1),t.getClientX().checkGateWithExposureLoggingDisabled(e,n)},t.getFeatureGate=function(e,n){return void 0===n&&(n=null),t.getClientX().getFeatureGate(e,n)},t.manuallyLogGateExposure=function(e){t.getClientX().logGateExposure(e)},t.getConfig=function(e,n){return void 0===n&&(n=!1),t.getClientX().getConfig(e,n)},t.getConfigWithExposureLoggingDisabled=function(e,n){return void 0===n&&(n=!1),t.getClientX().getConfigWithExposureLoggingDisabled(e,n)},t.manuallyLogConfigExposure=function(e){t.getClientX().logConfigExposure(e)},t.getExperiment=function(e,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!1),t.getClientX().getExperiment(e,n,r)},t.getExperimentWithExposureLoggingDisabled=function(e,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!1),t.getClientX().getExperimentWithExposureLoggingDisabled(e,n,r)},t.manuallyLogExperimentExposure=function(e,n){void 0===n&&(n=!1),t.getClientX().logExperimentExposure(e,n)},t.getLayer=function(e,n){return void 0===n&&(n=!1),t.getClientX().getLayer(e,n)},t.getLayerWithExposureLoggingDisabled=function(e,n){return void 0===n&&(n=!1),t.getClientX().getLayerWithExposureLoggingDisabled(e,n)},t.manuallyLogLayerParameterExposure=function(e,n,r){void 0===r&&(r=!1),t.getClientX().logLayerParameterExposure(e,n,r)},t.logEvent=function(e,n,r){return void 0===n&&(n=null),void 0===r&&(r=null),t.getClientX().logEvent(e,n,r)},t.updateUser=function(e){return t.getClientX().updateUser(e)},t.updateUserWithValues=function(e,n){return t.getClientX().updateUserWithValues(e,n)},t.shutdown=function(){t.getClientX().shutdown(),t.instance=null},t.overrideGate=function(e,n){t.getClientX().overrideGate(e,n)},t.overrideConfig=function(e,n){t.getClientX().overrideConfig(e,n)},t.overrideLayer=function(e,n){t.getClientX().overrideLayer(e,n)},t.removeGateOverride=function(e){t.getClientX().removeGateOverride(e)},t.removeConfigOverride=function(e){t.getClientX().removeConfigOverride(e)},t.removeLayerOverride=function(e){t.getClientX().removeLayerOverride(e)},t.getAllOverrides=function(){return t.getClientX().getAllOverrides()},t.getStableID=function(){return t.getClientX().getStableID()},t.getEvaluationDetails=function(){var e,n;return null!==(n=null===(e=t.instance)||void 0===e?void 0:e.getEvaluationDetails())&&void 0!==n?n:{reason:d.EvaluationReason.Uninitialized,time:0}},t.getInitializeResponseJson=function(){return t.getClientX().getInitializeResponseJson()},t.removeOverride=function(e){t.getClientX().removeOverride(e)},t.getOverrides=function(){return t.getClientX().getOverrides()},t.initializeCalled=function(){return null!=t.instance&&t.instance.initializeCalled()},t.flushEvents=function(){t.getClientX().flushEvents()},t.setDebugInfo=function(e){t.getClientX().setDebugInfo(e)},t.reenableAllLogging=function(){t.getClientX().reenableAllLogging()},t.getClientX=function(){if(!t.instance)throw new a.StatsigUninitializedError;return t.instance},t.instance=null,t}();e.default=b},2090:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Base64=void 0,e.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_encodeBinary:function(t){for(var e,n,r,i,o,a,s,u="",c=0;c<t.length;)i=(e=t.charCodeAt(c++))>>2,o=(3&e)<<4|(n=t.charCodeAt(c++))>>4,a=(15&n)<<2|(r=t.charCodeAt(c++))>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u=u+this._keyStr.charAt(i)+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return u},encodeArrayBuffer:function(t){for(var n="",r=new Uint8Array(t),i=r.byteLength,o=0;o<i;o++)n+=String.fromCharCode(r[o]);return e.Base64._encodeBinary(n)}}},6705:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(886),o=n(3942),a=function(){function t(){}return t.getEvaluationReasonForBootstrap=function(e,n,r){var a=!0,s=!1;try{var u=n.evaluated_keys;if(u&&"object"==typeof u){var c=this.copyObject(u),l=null==e?null:this.copyObject(e);a=a&&t.validate(c,l)&&t.validate(l,c);var f=u.customIDs;r!=(null==f?void 0:f.stableID)&&(s=!0)}var d=n.user_hash;d&&"string"==typeof d&&null!=e&&(a=a&&d===(0,i.getUserHashWithoutStableID)(e))}catch(t){}return a?s?o.EvaluationReason.BootstrapStableIDMismatch:o.EvaluationReason.Bootstrap:o.EvaluationReason.InvalidBootstrap},t.validate=function(t,e){if(null==t)return null==e;if(null==e)return!1;for(var n=0,r=Object.entries(t);n<r.length;n++){var i=r[n],o=i[0],a=i[1];if("stableID"!==o){if(typeof a!=typeof e[o])return!1;if("string"!=typeof a)return"object"==typeof a&&this.validate(a,e[o]);if(a!==e[o])return!1}}return!0},t.copyObject=function(t){if(null==t)return null;var e={};if((null==t?void 0:t.userID)&&(e.userID=null==t?void 0:t.userID),null==t?void 0:t.customIDs){var n=r({},t.customIDs);delete n.stableID,0!==Object.keys(n).length&&(e.customIDs=n)}return e},t}();e.default=a},9844:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STORAGE_PREFIX=e.LOCAL_STORAGE_KEYS=e.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY=e.STATSIG_STABLE_ID_KEY=e.INTERNAL_STORE_KEY=e.STICKY_DEVICE_EXPERIMENTS_KEY=e.OVERRIDES_STORE_KEY=void 0,e.OVERRIDES_STORE_KEY="STATSIG_LOCAL_STORAGE_INTERNAL_STORE_OVERRIDES_V3",e.STICKY_DEVICE_EXPERIMENTS_KEY="STATSIG_LOCAL_STORAGE_STICKY_DEVICE_EXPERIMENTS",e.INTERNAL_STORE_KEY="STATSIG_LOCAL_STORAGE_INTERNAL_STORE_V4",e.STATSIG_STABLE_ID_KEY="STATSIG_LOCAL_STORAGE_STABLE_ID",e.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY="STATSIG_LOCAL_STORAGE_LOGGING_REQUEST",e.LOCAL_STORAGE_KEYS={STATSIG_LOCAL_STORAGE_STABLE_ID:!0,STATSIG_LOCAL_STORAGE_INTERNAL_STORE_V4:!0,STATSIG_LOCAL_STORAGE_STICKY_DEVICE_EXPERIMENTS:!0,STATSIG_LOCAL_STORAGE_INTERNAL_STORE_OVERRIDES_V3:!0,STATSIG_LOCAL_STORAGE_LOGGING_REQUEST:!0},e.STORAGE_PREFIX="STATSIG_LOCAL_STORAGE"},4022:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticsImpl=void 0;var i=n(1449),o=function(){function t(t){var e,n,r,i=this;this.mark={overall:this.selectAction("overall"),initialize:this.selectStep("initialize"),bootstrap:this.selectStep("bootstrap"),api_call:function(t){switch(t){case"getConfig":return i.selectAction("get_config");case"getExperiment":return i.selectAction("get_experiment");case"checkGate":return i.selectAction("check_gate");case"getLayer":return i.selectAction("get_layer")}return null}},this.context="initialize",this.defaultMaxMarkers=30,this.maxMarkers={initialize:this.defaultMaxMarkers,config_sync:this.defaultMaxMarkers,event_logging:this.defaultMaxMarkers,api_call:this.defaultMaxMarkers},this.markers=null!==(e=t.markers)&&void 0!==e?e:{initialize:[],config_sync:[],event_logging:[],api_call:[]},this.disabled=null!==(r=null===(n=t.options)||void 0===n?void 0:n.getDisableDiagnosticsLogging())&&void 0!==r&&r}return t.prototype.setContext=function(t){this.context=t},t.prototype.selectAction=function(t,e){var n=this;return{start:function(o,a){return n.addMarker(r({key:t,step:e,action:"start",timestamp:(0,i.now)({withPrecision:!0})},null!=o?o:{}),a)},end:function(o,a){return n.addMarker(r({key:t,step:e,action:"end",timestamp:(0,i.now)({withPrecision:!0})},null!=o?o:{}),a)}}},t.prototype.selectStep=function(t){return{process:this.selectAction(t,"process"),networkRequest:this.selectAction(t,"network_request")}},t.prototype.addMarker=function(t,e){var n,r=null!=e?e:this.context;return!(this.disabled&&"api_call"===r||void 0!==this.maxMarkers[r]&&this.markers[r].length>=(null!==(n=this.maxMarkers[r])&&void 0!==n?n:this.defaultMaxMarkers)||(this.markers[r].push(t),0))},t.prototype.getMarkers=function(t){return this.markers[t]},t.prototype.setMaxMarkers=function(t,e){this.maxMarkers[t]=e},t.prototype.getMarkerCount=function(t){return this.markers[t].length},t.prototype.clearContext=function(t){this.markers[t]=[]},t}();e.DiagnosticsImpl=o;var a=function(){function t(){}return t.initialize=function(t){this.instance=new o(t),this.mark=this.instance.mark,this.disabled=this.instance.disabled,this.getMarkers=this.instance.getMarkers.bind(this.instance),this.getMarkerCount=this.instance.getMarkerCount.bind(this.instance),this.setMaxMarkers=this.instance.setMaxMarkers.bind(this.instance),this.setContext=this.instance.setContext.bind(this.instance),this.clearContext=this.instance.clearContext.bind(this.instance)},t.formatError=function(t){if(t&&"object"==typeof t)return{code:this.safeGetField(t,"code"),name:this.safeGetField(t,"name"),message:this.safeGetField(t,"message")}},t.safeGetField=function(t,e){if(e in t)return t[e]},t}();e.default=a},3942:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.EvaluationReason=void 0,(n=e.EvaluationReason||(e.EvaluationReason={})).Network="Network",n.Bootstrap="Bootstrap",n.InvalidBootstrap="InvalidBootstrap",n.Cache="Cache",n.Prefetch="Prefetch",n.Sticky="Sticky",n.LocalOverride="LocalOverride",n.Unrecognized="Unrecognized",n.Uninitialized="Uninitialized",n.Error="Error",n.NetworkNotModified="NetworkNotModified",n.BootstrapStableIDMismatch="BootstrapStableIDMismatch"},1292:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUserCacheKey=e.getSortedObject=e.djb2HashForObject=e.sha256Hash=e.djb2Hash=e.memoizedUserCacheKeyHash=e.fasthash=void 0;var r=n(2090),i=n(5793),o={};function a(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e}function s(t){var e=o[t];if(e)return e;var n=String(a(t));return o[t]=n,n}function u(t){return String(a(t)>>>0)}function c(t){if(null==t)return null;var e=Object.keys(t).sort(),n={};return e.forEach((function(e){var r=t[e];r instanceof Object&&(r=c(r)),n[e]=r})),n}e.fasthash=a,e.memoizedUserCacheKeyHash=s,e.djb2Hash=u,e.sha256Hash=function(t){var e=o[t];if(e)return e;var n=i.sha256.create().update(t).arrayBuffer(),a=r.Base64.encodeArrayBuffer(n);return o[t]=a,a},e.djb2HashForObject=function(t){return u(JSON.stringify(c(t)))},e.getSortedObject=c,e.getUserCacheKey=function(t,e,n){var r,i=["userID:"+String(null!==(r=null==e?void 0:e.userID)&&void 0!==r?r:"")],o=null==e?void 0:e.customIDs;if(null!=o)for(var a=0,u=Object.entries(o);a<u.length;a++){var c=u[a],l=c[0],f=c[1];i.push(l+":"+f)}var d=s(i.join(";")),h=s(i.join(";")+";sdkKey:"+n);return i.splice(1,0,"stableID:"+t),{v1:s(i.join(";")),v2:d,v3:h}}},873:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r})}},562:(t,e,n)=>{"use strict";var r=n(7282);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){r||(Object.fromEntries=function(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n];if(Object(i)!==i)throw new TypeError("iterable for fromEntries should yield objects");var o=i[0],a=i[1];Object.defineProperty(e,o,{configurable:!0,enumerable:!0,writable:!0,value:a})}return e})}},3921:function(t,e,n){"use strict";var r=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4911),o=console,a=i.LogLevel.WARN,s=function(){function t(){}return t.getLogger=function(){return o},t.debug=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];a!==i.LogLevel.NONE&&o.debug&&o.debug.apply(o,r([this.LOG_PREFIX+" "+t],e,!1))},t.info=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];a===i.LogLevel.INFO&&o.info.apply(o,r([this.LOG_PREFIX+" "+t],e,!1))},t.warn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];a===i.LogLevel.WARN&&o.warn.apply(o,r([this.LOG_PREFIX+" "+t],e,!1))},t.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];a===i.LogLevel.ERROR&&o.error.apply(o,r([this.LOG_PREFIX+" "+t],e,!1))},t.setLogger=function(t){o=t},t.setLogLevel=function(t){a=t},t.resetLogger=function(){o=console,a=i.LogLevel.WARN},t.LOG_PREFIX="[Statsig]",t}();e.default=s},6314:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){Promise.prototype.finally=Promise.prototype.finally||{finally:function(t){var e=function(e){return Promise.resolve(t()).then(e)};return this.then((function(t){return e((function(){return t}))}),(function(t){return e((function(){return Promise.reject(t)}))}))}}.finally}},4399:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifySDKKeyUsed=void 0;var r=n(290),i=n(1292);e.verifySDKKeyUsed=function(t,e,n){var o=null==t?void 0:t.hashed_sdk_key_used;return null==o||o===(0,i.djb2Hash)(null!=e?e:"")||(n.logError("verifySDKKeyUsed",new r.StatsigSDKKeyMismatchError("The SDK key provided does not match the one used to generate values.")),!1)}},5269:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.getItemAsync=function(e){var n;return t.asyncStorage?null!==(n=t.asyncStorage.getItem(e))&&void 0!==n?n:null:Promise.resolve(null)},t.setItemAsync=function(e,n){return t.asyncStorage?t.asyncStorage.setItem(e,n):Promise.resolve()},t.removeItemAsync=function(e){return t.asyncStorage?t.asyncStorage.removeItem(e):Promise.resolve()},t}();e.default=n},1674:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9844),i=function(){function t(){}return t.getItem=function(t){var e;try{if(this.isStorageAccessible())return window.localStorage.getItem(t)}catch(t){}return null!==(e=this.fallbackSessionCache[t])&&void 0!==e?e:null},t.setItem=function(t,e){try{if(this.isStorageAccessible())return void window.localStorage.setItem(t,e)}catch(t){}this.fallbackSessionCache[t]=e},t.removeItem=function(t){try{if(this.isStorageAccessible())return void window.localStorage.removeItem(t)}catch(t){}delete this.fallbackSessionCache[t]},t.cleanup=function(){try{if(this.isStorageAccessible(!0))for(var t in window.localStorage)"string"==typeof window.localStorage[t]&&null!=t&&(!this.disabled&&t in r.LOCAL_STORAGE_KEYS||(this.disabled||t.substring(0,r.STORAGE_PREFIX.length)===r.STORAGE_PREFIX)&&window.localStorage.removeItem(t))}catch(t){}},t.isStorageAccessible=function(t){void 0===t&&(t=!1),null==this.canAccessStorageAccessible&&(this.canAccessStorageAccessible="undefined"!=typeof Storage&&"undefined"!=typeof window&&null!=window&&null!=window.localStorage);var e=this.canAccessStorageAccessible;return(t||!this.disabled)&&e},t.disabled=!1,t.fallbackSessionCache={},t.canAccessStorageAccessible=null,t}();e.default=i},1449:(t,e)=>{"use strict";function n(t){return void 0===t&&(t={withPrecision:!1}),"undefined"!=typeof performance&&performance?t.withPrecision?performance.now():0|performance.now():Date.now()}Object.defineProperty(e,"__esModule",{value:!0}),e.difference=e.now=void 0,e.now=n,e.difference=function(t){return n()-t}},7171:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=null!=t?t:Error("[Statsig] Error was empty"),n=e instanceof Error;return{name:n?e.name:"No Name",message:n?e.message:void 0,trace:n?e.stack:function(t){try{return JSON.stringify(t)}catch(t){return"[Statsig] Failed to get string for error."}}(e)}}},4942:(t,e,n)=>{"use strict";n.r(e),n.d(e,{NIL:()=>k,parse:()=>f,stringify:()=>a.Z,v1:()=>c,v3:()=>_,v4:()=>w.Z,v5:()=>C,validate:()=>l.Z,version:()=>I});var r,i,o=n(2270),a=n(6915),s=0,u=0;const c=function(t,e,n){var c=e&&n||0,l=e||new Array(16),f=(t=t||{}).node||r,d=void 0!==t.clockseq?t.clockseq:i;if(null==f||null==d){var h=t.random||(t.rng||o.Z)();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==t.msecs?t.msecs:Date.now(),v=void 0!==t.nsecs?t.nsecs:u+1,g=p-s+(v-u)/1e4;if(g<0&&void 0===t.clockseq&&(d=d+1&16383),(g<0||p>s)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var m=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var y=p/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return e||(0,a.Z)(l)};var l=n(8141);const f=function(t){if(!(0,l.Z)(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n};function d(t,e,n){function r(t,r,i,o){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof r&&(r=f(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(r),s.set(t,r.length),(s=n(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,i){o=o||0;for(var u=0;u<16;++u)i[o+u]=s[u];return i}return(0,a.Z)(s)}try{r.name=t}catch(t){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function h(t){return 14+(t+64>>>9<<4)+1}function p(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function v(t,e,n,r,i,o){return p((a=p(p(e,t),p(r,o)))<<(s=i)|a>>>32-s,n);var a,s}function g(t,e,n,r,i,o,a){return v(e&n|~e&r,t,e,i,o,a)}function m(t,e,n,r,i,o,a){return v(e&r|n&~r,t,e,i,o,a)}function y(t,e,n,r,i,o,a){return v(e^n^r,t,e,i,o,a)}function b(t,e,n,r,i,o,a){return v(n^(e|~r),t,e,i,o,a)}const _=d("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=t[i>>5]>>>i%32&255,a=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);e.push(a)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[h(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=n,u=r,c=i,l=o;n=g(n,r,i,o,t[a],7,-680876936),o=g(o,n,r,i,t[a+1],12,-389564586),i=g(i,o,n,r,t[a+2],17,606105819),r=g(r,i,o,n,t[a+3],22,-1044525330),n=g(n,r,i,o,t[a+4],7,-176418897),o=g(o,n,r,i,t[a+5],12,1200080426),i=g(i,o,n,r,t[a+6],17,-1473231341),r=g(r,i,o,n,t[a+7],22,-45705983),n=g(n,r,i,o,t[a+8],7,1770035416),o=g(o,n,r,i,t[a+9],12,-1958414417),i=g(i,o,n,r,t[a+10],17,-42063),r=g(r,i,o,n,t[a+11],22,-1990404162),n=g(n,r,i,o,t[a+12],7,1804603682),o=g(o,n,r,i,t[a+13],12,-40341101),i=g(i,o,n,r,t[a+14],17,-1502002290),n=m(n,r=g(r,i,o,n,t[a+15],22,1236535329),i,o,t[a+1],5,-165796510),o=m(o,n,r,i,t[a+6],9,-1069501632),i=m(i,o,n,r,t[a+11],14,643717713),r=m(r,i,o,n,t[a],20,-373897302),n=m(n,r,i,o,t[a+5],5,-701558691),o=m(o,n,r,i,t[a+10],9,38016083),i=m(i,o,n,r,t[a+15],14,-660478335),r=m(r,i,o,n,t[a+4],20,-405537848),n=m(n,r,i,o,t[a+9],5,568446438),o=m(o,n,r,i,t[a+14],9,-1019803690),i=m(i,o,n,r,t[a+3],14,-187363961),r=m(r,i,o,n,t[a+8],20,1163531501),n=m(n,r,i,o,t[a+13],5,-1444681467),o=m(o,n,r,i,t[a+2],9,-51403784),i=m(i,o,n,r,t[a+7],14,1735328473),n=y(n,r=m(r,i,o,n,t[a+12],20,-1926607734),i,o,t[a+5],4,-378558),o=y(o,n,r,i,t[a+8],11,-2022574463),i=y(i,o,n,r,t[a+11],16,1839030562),r=y(r,i,o,n,t[a+14],23,-35309556),n=y(n,r,i,o,t[a+1],4,-1530992060),o=y(o,n,r,i,t[a+4],11,1272893353),i=y(i,o,n,r,t[a+7],16,-155497632),r=y(r,i,o,n,t[a+10],23,-1094730640),n=y(n,r,i,o,t[a+13],4,681279174),o=y(o,n,r,i,t[a],11,-358537222),i=y(i,o,n,r,t[a+3],16,-722521979),r=y(r,i,o,n,t[a+6],23,76029189),n=y(n,r,i,o,t[a+9],4,-640364487),o=y(o,n,r,i,t[a+12],11,-421815835),i=y(i,o,n,r,t[a+15],16,530742520),n=b(n,r=y(r,i,o,n,t[a+2],23,-995338651),i,o,t[a],6,-198630844),o=b(o,n,r,i,t[a+7],10,1126891415),i=b(i,o,n,r,t[a+14],15,-1416354905),r=b(r,i,o,n,t[a+5],21,-57434055),n=b(n,r,i,o,t[a+12],6,1700485571),o=b(o,n,r,i,t[a+3],10,-1894986606),i=b(i,o,n,r,t[a+10],15,-1051523),r=b(r,i,o,n,t[a+1],21,-2054922799),n=b(n,r,i,o,t[a+8],6,1873313359),o=b(o,n,r,i,t[a+15],10,-30611744),i=b(i,o,n,r,t[a+6],15,-1560198380),r=b(r,i,o,n,t[a+13],21,1309151649),n=b(n,r,i,o,t[a+4],6,-145523070),o=b(o,n,r,i,t[a+11],10,-1120210379),i=b(i,o,n,r,t[a+2],15,718787259),r=b(r,i,o,n,t[a+9],21,-343485551),n=p(n,s),r=p(r,u),i=p(i,c),o=p(o,l)}return[n,r,i,o]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(h(e)),r=0;r<e;r+=8)n[r>>5]|=(255&t[r/8])<<r%32;return n}(t),8*t.length))}));var w=n(1335);function E(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:case 3:return e^n^r;case 2:return e&n^e&r^n&r}}function S(t,e){return t<<e|t>>>32-e}const C=d("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=t[64*u+4*l]<<24|t[64*u+4*l+1]<<16|t[64*u+4*l+2]<<8|t[64*u+4*l+3];s[u]=c}s[a-1][14]=8*(t.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(t.length-1)&4294967295;for(var f=0;f<a;++f){for(var d=new Uint32Array(80),h=0;h<16;++h)d[h]=s[f][h];for(var p=16;p<80;++p)d[p]=S(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var v=n[0],g=n[1],m=n[2],y=n[3],b=n[4],_=0;_<80;++_){var w=Math.floor(_/20),C=S(v,5)+E(w,g,m,y)+b+e[w]+d[_]>>>0;b=y,y=m,m=S(g,30)>>>0,g=v,v=C}n[0]=n[0]+v>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+m>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),k="00000000-0000-0000-0000-000000000000",I=function(t){if(!(0,l.Z)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},2270:(t,e,n)=>{"use strict";var r;n.d(e,{Z:()=>o});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}},6915:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});for(var r=n(8141),i=[],o=0;o<256;++o)i.push((o+256).toString(16).substr(1));const a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(i[t[e+0]]+i[t[e+1]]+i[t[e+2]]+i[t[e+3]]+"-"+i[t[e+4]]+i[t[e+5]]+"-"+i[t[e+6]]+i[t[e+7]]+"-"+i[t[e+8]]+i[t[e+9]]+"-"+i[t[e+10]]+i[t[e+11]]+i[t[e+12]]+i[t[e+13]]+i[t[e+14]]+i[t[e+15]]).toLowerCase();if(!(0,r.Z)(n))throw TypeError("Stringified UUID is invalid");return n}},1335:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(2270),i=n(6915);const o=function(t,e,n){var o=(t=t||{}).random||(t.rng||r.Z)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=o[a];return e}return(0,i.Z)(o)}},8141:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,i=function(t){return"string"==typeof t&&r.test(t)}},7164:(t,e,n)=>{var r=n(6780);t.exports=r},5796:(t,e,n)=>{var r=n(7246);t.exports=r},4407:(t,e,n)=>{n(9995);var r=n(1757);t.exports=r("Array").reverse},5193:(t,e,n)=>{n(9690),t.exports=n(953)},3202:(t,e,n)=>{var r=n(6957),i=n(8642),o=RegExp.prototype;t.exports=function(t){return t===o||r(o,t)?i(t):t.flags}},1551:(t,e,n)=>{var r=n(6957),i=n(4861),o=String.prototype;t.exports=function(t){var e=t.replaceAll;return"string"==typeof t||t===o||r(o,t)&&e===o.replaceAll?i:e}},952:(t,e,n)=>{var r=n(6957),i=n(4407),o=Array.prototype;t.exports=function(t){var e=t.reverse;return t===o||r(o,t)&&e===o.reverse?i:e}},7062:(t,e,n)=>{var r=n(6957),i=n(4603),o=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===o||r(o,t)&&e===o.trim?i:e}},7073:(t,e,n)=>{n(643),n(6471);var r=n(9654);t.exports=r.Object.fromEntries},8642:(t,e,n)=>{n(7494);var r=n(3348);t.exports=r},4861:(t,e,n)=>{n(5160),n(1705),n(5862);var r=n(1757);t.exports=r("String").replaceAll},4603:(t,e,n)=>{n(6160);var r=n(1757);t.exports=r("String").trim},2440:(t,e,n)=>{t.exports=n(8300)},432:(t,e,n)=>{n(9653)},8300:(t,e,n)=>{n(3421);var r=n(7164);t.exports=r},9653:(t,e,n)=>{var r=n(5796);t.exports=r},3826:(t,e,n)=>{var r=n(267),i=n(3044),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a function")}},9821:(t,e,n)=>{var r=n(267),i=String,o=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw o("Can't set "+i(t)+" as a prototype")}},4796:t=>{t.exports=function(){}},336:(t,e,n)=>{var r=n(6957),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw i("Incorrect invocation")}},1926:(t,e,n)=>{var r=n(1087),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not an object")}},7569:(t,e,n)=>{"use strict";var r=n(6318),i=n(7635),o=n(1939),a=n(6986),s=n(9105),u=n(9717),c=n(2191),l=n(8703),f=n(9216),d=n(3607),h=Array;t.exports=function(t){var e=o(t),n=u(this),p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v;g&&(v=r(v,p>2?arguments[2]:void 0));var m,y,b,_,w,E,S=d(e),C=0;if(!S||this===h&&s(S))for(m=c(e),y=n?new this(m):h(m);m>C;C++)E=g?v(e[C],C):e[C],l(y,C,E);else for(w=(_=f(e,S)).next,y=n?new this:[];!(b=i(w,_)).done;C++)E=g?a(_,v,[b.value,C],!0):b.value,l(y,C,E);return y.length=C,y}},1992:(t,e,n)=>{var r=n(5122),i=n(7006),o=n(2191),a=function(t){return function(e,n,a){var s,u=r(e),c=o(u),l=i(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},591:(t,e,n)=>{var r=n(7006),i=n(2191),o=n(8703),a=Array,s=Math.max;t.exports=function(t,e,n){for(var u=i(t),c=r(e,u),l=r(void 0===n?u:n,u),f=a(s(l-c,0)),d=0;c<l;c++,d++)o(f,d,t[c]);return f.length=d,f}},4159:(t,e,n)=>{var r=n(591),i=Math.floor,o=function(t,e){var n=t.length,u=i(n/2);return n<8?a(t,e):s(t,o(r(t,0,u),e),o(r(t,u),e),e)},a=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},s=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?r(e[a],n[s])<=0?e[a++]:n[s++]:a<i?e[a++]:n[s++];return t};t.exports=o},6986:(t,e,n)=>{var r=n(1926),i=n(642);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},1075:(t,e,n)=>{var r=n(3628),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},774:(t,e,n)=>{var r=n(9944),i=n(267),o=n(1075),a=n(9878)("toStringTag"),s=Object,u="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?n:u?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},2381:(t,e,n)=>{var r=n(8913);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},6320:t=>{t.exports=function(t,e){return{value:t,done:e}}},7904:(t,e,n)=>{var r=n(8633),i=n(723),o=n(8556);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},8556:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8703:(t,e,n)=>{"use strict";var r=n(7174),i=n(723),o=n(8556);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},9984:(t,e,n)=>{var r=n(723);t.exports=function(t,e,n){return r.f(t,e,n)}},3216:(t,e,n)=>{var r=n(7904);t.exports=function(t,e,n,i){return i&&i.enumerable?t[e]=n:r(t,e,n),t}},8492:(t,e,n)=>{var r=n(3216);t.exports=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:r(t,i,e[i],n);return t}},6943:(t,e,n)=>{var r=n(953),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},8633:(t,e,n)=>{var r=n(8913);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1614:t=>{var e="object"==typeof document&&document.all,n=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},6066:(t,e,n)=>{var r=n(953),i=n(1087),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},1667:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},1911:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},4427:(t,e,n)=>{var r,i,o=n(953),a=n(1911),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},1757:(t,e,n)=>{var r=n(9654);t.exports=function(t){return r[t+"Prototype"]}},6953:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1455:(t,e,n)=>{"use strict";var r=n(953),i=n(6132),o=n(7214),a=n(267),s=n(6483).f,u=n(5761),c=n(9654),l=n(6318),f=n(7904),d=n(9522),h=function(t){var e=function(n,r,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,o)}return i(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,i,p,v,g,m,y,b,_,w=t.target,E=t.global,S=t.stat,C=t.proto,k=E?r:S?r[w]:(r[w]||{}).prototype,I=E?c:c[w]||f(c,w,{})[w],x=I.prototype;for(v in e)i=!(n=u(E?v:w+(S?".":"#")+v,t.forced))&&k&&d(k,v),m=I[v],i&&(y=t.dontCallGetSet?(_=s(k,v))&&_.value:k[v]),g=i&&y?y:e[v],i&&typeof m==typeof g||(b=t.bind&&i?l(g,r):t.wrap&&i?h(g):C&&a(g)?o(g):g,(t.sham||g&&g.sham||m&&m.sham)&&f(b,"sham",!0),f(I,v,b),C&&(d(c,p=w+"Prototype")||f(c,p,{}),f(c[p],v,g),t.real&&x&&(n||!x[v])&&f(x,v,g)))}},8913:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},6132:(t,e,n)=>{var r=n(6535),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},6318:(t,e,n)=>{var r=n(7214),i=n(3826),o=n(6535),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},6535:(t,e,n)=>{var r=n(8913);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},7635:(t,e,n)=>{var r=n(6535),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},3509:(t,e,n)=>{var r=n(8633),i=n(9522),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},7214:(t,e,n)=>{var r=n(1075),i=n(3628);t.exports=function(t){if("Function"===r(t))return i(t)}},3628:(t,e,n)=>{var r=n(6535),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);t.exports=r?a:function(t){return function(){return o.apply(t,arguments)}}},6854:(t,e,n)=>{var r=n(9654),i=n(953),o=n(267),a=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},3607:(t,e,n)=>{var r=n(774),i=n(4781),o=n(6332),a=n(5769),s=n(9878)("iterator");t.exports=function(t){if(!o(t))return i(t,s)||i(t,"@@iterator")||a[r(t)]}},9216:(t,e,n)=>{var r=n(7635),i=n(3826),o=n(1926),a=n(3044),s=n(3607),u=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(i(n))return o(r(n,t));throw u(a(t)+" is not iterable")}},4781:(t,e,n)=>{var r=n(3826),i=n(6332);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},5076:(t,e,n)=>{var r=n(3628),i=n(1939),o=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,f,d){var h=n+t.length,p=r.length,v=l;return void 0!==f&&(f=i(f),v=c),s(d,v,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,n);case"'":return u(e,h);case"<":c=f[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>p){var d=o(l/10);return 0===d?i:d<=p?void 0===r[d-1]?a(s,1):r[d-1]+a(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},953:(t,e,n)=>{var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},9522:(t,e,n)=>{var r=n(3628),i=n(1939),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},1319:t=>{t.exports={}},8306:(t,e,n)=>{var r=n(6854);t.exports=r("document","documentElement")},9990:(t,e,n)=>{var r=n(8633),i=n(8913),o=n(6066);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7157:(t,e,n)=>{var r=n(3628),i=n(8913),o=n(1075),a=Object,s=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?s(t,""):a(t)}:a},2155:(t,e,n)=>{var r=n(3628),i=n(267),o=n(7501),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},6679:(t,e,n)=>{var r,i,o,a=n(1637),s=n(953),u=n(1087),c=n(7904),l=n(9522),f=n(7501),d=n(4523),h=n(1319),p="Object already initialized",v=s.TypeError,g=s.WeakMap;if(a||f.state){var m=f.state||(f.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,r=function(t,e){if(m.has(t))throw v(p);return e.facade=t,m.set(t,e),e},i=function(t){return m.get(t)||{}},o=function(t){return m.has(t)}}else{var y=d("state");h[y]=!0,r=function(t,e){if(l(t,y))throw v(p);return e.facade=t,c(t,y,e),e},i=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}}}},9105:(t,e,n)=>{var r=n(9878),i=n(5769),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},9517:(t,e,n)=>{var r=n(1075);t.exports=Array.isArray||function(t){return"Array"==r(t)}},267:(t,e,n)=>{var r=n(1614),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},9717:(t,e,n)=>{var r=n(3628),i=n(8913),o=n(267),a=n(774),s=n(6854),u=n(2155),c=function(){},l=[],f=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=r(d.exec),p=!d.exec(c),v=function(t){if(!o(t))return!1;try{return f(c,l,t),!0}catch(t){return!1}},g=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(d,u(t))}catch(t){return!0}};g.sham=!0,t.exports=!f||i((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?g:v},5761:(t,e,n)=>{var r=n(8913),i=n(267),o=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n==l||n!=c&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},6332:t=>{t.exports=function(t){return null==t}},1087:(t,e,n)=>{var r=n(267),i=n(1614),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===o}:function(t){return"object"==typeof t?null!==t:r(t)}},3890:t=>{t.exports=!0},9771:(t,e,n)=>{var r=n(1087),i=n(1075),o=n(9878)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},3946:(t,e,n)=>{var r=n(6854),i=n(267),o=n(6957),a=n(4965),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,s(t))}},8558:(t,e,n)=>{var r=n(6318),i=n(7635),o=n(1926),a=n(3044),s=n(9105),u=n(2191),c=n(6957),l=n(9216),f=n(3607),d=n(642),h=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,n){var g,m,y,b,_,w,E,S=n&&n.that,C=!(!n||!n.AS_ENTRIES),k=!(!n||!n.IS_RECORD),I=!(!n||!n.IS_ITERATOR),x=!(!n||!n.INTERRUPTED),T=r(e,S),O=function(t){return g&&d(g,"normal",t),new p(!0,t)},A=function(t){return C?(o(t),x?T(t[0],t[1],O):T(t[0],t[1])):x?T(t,O):T(t)};if(k)g=t.iterator;else if(I)g=t;else{if(!(m=f(t)))throw h(a(t)+" is not iterable");if(s(m)){for(y=0,b=u(t);b>y;y++)if((_=A(t[y]))&&c(v,_))return _;return new p(!1)}g=l(t,m)}for(w=k?t.next:g.next;!(E=i(w,g)).done;){try{_=A(E.value)}catch(t){d(g,"throw",t)}if("object"==typeof _&&_&&c(v,_))return _}return new p(!1)}},642:(t,e,n)=>{var r=n(7635),i=n(1926),o=n(4781);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return i(a),n}},8146:(t,e,n)=>{"use strict";var r=n(4519).IteratorPrototype,i=n(6),o=n(8556),a=n(7970),s=n(5769),u=function(){return this};t.exports=function(t,e,n,c){var l=e+" Iterator";return t.prototype=i(r,{next:o(+!c,n)}),a(t,l,!1,!0),s[l]=u,t}},2691:(t,e,n)=>{"use strict";var r=n(1455),i=n(7635),o=n(3890),a=n(3509),s=n(267),u=n(8146),c=n(281),l=n(79),f=n(7970),d=n(7904),h=n(3216),p=n(9878),v=n(5769),g=n(4519),m=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,_=g.BUGGY_SAFARI_ITERATORS,w=p("iterator"),E="keys",S="values",C="entries",k=function(){return this};t.exports=function(t,e,n,a,p,g,I){u(n,e,a);var x,T,O,A=function(t){if(t===p&&P)return P;if(!_&&t in D)return D[t];switch(t){case E:case S:case C:return function(){return new n(this,t)}}return function(){return new n(this)}},L=e+" Iterator",R=!1,D=t.prototype,N=D[w]||D["@@iterator"]||p&&D[p],P=!_&&N||A(p),M="Array"==e&&D.entries||N;if(M&&(x=c(M.call(new t)))!==Object.prototype&&x.next&&(o||c(x)===b||(l?l(x,b):s(x[w])||h(x,w,k)),f(x,L,!0,!0),o&&(v[L]=k)),m&&p==S&&N&&N.name!==S&&(!o&&y?d(D,"name",S):(R=!0,P=function(){return i(N,this)})),p)if(T={values:A(S),keys:g?P:A(E),entries:A(C)},I)for(O in T)(_||R||!(O in D))&&h(D,O,T[O]);else r({target:e,proto:!0,forced:_||R},T);return o&&!I||D[w]===P||h(D,w,P,{name:p}),v[e]=P,T}},4519:(t,e,n)=>{"use strict";var r,i,o,a=n(8913),s=n(267),u=n(1087),c=n(6),l=n(281),f=n(3216),d=n(9878),h=n(3890),p=d("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):v=!0),!u(r)||a((function(){var t={};return r[p].call(t)!==t}))?r={}:h&&(r=c(r)),s(r[p])||f(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},5769:t=>{t.exports={}},2191:(t,e,n)=>{var r=n(9532);t.exports=function(t){return r(t.length)}},3375:t=>{var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},9603:(t,e,n)=>{"use strict";var r=n(8633),i=n(3628),o=n(7635),a=n(8913),s=n(6495),u=n(7211),c=n(4491),l=n(1939),f=n(7157),d=Object.assign,h=Object.defineProperty,p=i([].concat);t.exports=!d||a((function(){if(r&&1!==d({b:1},d(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=d({},t)[n]||s(d({},e)).join("")!=i}))?function(t,e){for(var n=l(t),i=arguments.length,a=1,d=u.f,h=c.f;i>a;)for(var v,g=f(arguments[a++]),m=d?p(s(g),d(g)):s(g),y=m.length,b=0;y>b;)v=m[b++],r&&!o(h,g,v)||(n[v]=g[v]);return n}:d},6:(t,e,n)=>{var r,i=n(1926),o=n(3318),a=n(6953),s=n(1319),u=n(8306),c=n(6066),l=n(4523)("IE_PROTO"),f=function(){},d=function(t){return"<script>"+t+"<\/script>"},h=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;p="undefined"!=typeof document?document.domain&&r?h(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):h(r);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=i(t),n=new f,f.prototype=null,n[l]=t):n=p(),void 0===e?n:o.f(n,e)}},3318:(t,e,n)=>{var r=n(8633),i=n(3232),o=n(723),a=n(1926),s=n(5122),u=n(6495);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),i=u(e),c=i.length,l=0;c>l;)o.f(t,n=i[l++],r[n]);return t}},723:(t,e,n)=>{var r=n(8633),i=n(9990),o=n(3232),a=n(1926),s=n(7174),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor;e.f=r?o?function(t,e,n){if(a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=l(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=s(e),a(n),i)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},6483:(t,e,n)=>{var r=n(8633),i=n(7635),o=n(4491),a=n(8556),s=n(5122),u=n(7174),c=n(9522),l=n(9990),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=u(e),l)try{return f(t,e)}catch(t){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},7211:(t,e)=>{e.f=Object.getOwnPropertySymbols},281:(t,e,n)=>{var r=n(9522),i=n(267),o=n(1939),a=n(4523),s=n(2381),u=a("IE_PROTO"),c=Object,l=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var e=o(t);if(r(e,u))return e[u];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof c?l:null}},6957:(t,e,n)=>{var r=n(3628);t.exports=r({}.isPrototypeOf)},749:(t,e,n)=>{var r=n(3628),i=n(9522),o=n(5122),a=n(1992).indexOf,s=n(1319),u=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;e.length>c;)i(r,n=e[c++])&&(~a(l,n)||u(l,n));return l}},6495:(t,e,n)=>{var r=n(749),i=n(6953);t.exports=Object.keys||function(t){return r(t,i)}},4491:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},79:(t,e,n)=>{var r=n(3628),i=n(1926),o=n(9821);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},2302:(t,e,n)=>{"use strict";var r=n(9944),i=n(774);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},6597:(t,e,n)=>{var r=n(7635),i=n(267),o=n(1087),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!o(s=r(n,t)))return s;if(i(n=t.valueOf)&&!o(s=r(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!o(s=r(n,t)))return s;throw a("Can't convert object to primitive value")}},9654:t=>{t.exports={}},2005:(t,e,n)=>{"use strict";var r=n(1926);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},3348:(t,e,n)=>{var r=n(7635),i=n(9522),o=n(6957),a=n(2005),s=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in s||i(t,"flags")||!o(s,t)?e:r(a,t)}},6683:(t,e,n)=>{var r=n(6332),i=TypeError;t.exports=function(t){if(r(t))throw i("Can't call method on "+t);return t}},7970:(t,e,n)=>{var r=n(9944),i=n(723).f,o=n(7904),a=n(9522),s=n(2302),u=n(9878)("toStringTag");t.exports=function(t,e,n,c){if(t){var l=n?t:t.prototype;a(l,u)||i(l,u,{configurable:!0,value:e}),c&&!r&&o(l,"toString",s)}}},4523:(t,e,n)=>{var r=n(4856),i=n(4455),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},7501:(t,e,n)=>{var r=n(953),i=n(6943),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},4856:(t,e,n)=>{var r=n(3890),i=n(7501);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.27.2",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},1878:(t,e,n)=>{var r=n(3628),i=n(7074),o=n(6880),a=n(6683),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(t){return function(e,n){var r,l,f=o(a(e)),d=i(n),h=f.length;return d<0||d>=h?t?"":void 0:(r=u(f,d))<55296||r>56319||d+1===h||(l=u(f,d+1))<56320||l>57343?t?s(f,d):r:t?c(f,d,d+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},7466:(t,e,n)=>{var r=n(3628),i=2147483647,o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",u=RangeError,c=r(a.exec),l=Math.floor,f=String.fromCharCode,d=r("".charCodeAt),h=r([].join),p=r([].push),v=r("".replace),g=r("".split),m=r("".toLowerCase),y=function(t){return t+22+75*(t<26)},b=function(t,e,n){var r=0;for(t=n?l(t/700):t>>1,t+=l(t/e);t>455;)t=l(t/35),r+=36;return l(r+36*t/(t+38))},_=function(t){var e=[];t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=d(t,n++);if(i>=55296&&i<=56319&&n<r){var o=d(t,n++);56320==(64512&o)?p(e,((1023&i)<<10)+(1023&o)+65536):(p(e,i),n--)}else p(e,i)}return e}(t);var n,r,o=t.length,a=128,c=0,v=72;for(n=0;n<t.length;n++)(r=t[n])<128&&p(e,f(r));var g=e.length,m=g;for(g&&p(e,"-");m<o;){var _=i;for(n=0;n<t.length;n++)(r=t[n])>=a&&r<_&&(_=r);var w=m+1;if(_-a>l((i-c)/w))throw u(s);for(c+=(_-a)*w,a=_,n=0;n<t.length;n++){if((r=t[n])<a&&++c>i)throw u(s);if(r==a){for(var E=c,S=36;;){var C=S<=v?1:S>=v+26?26:S-v;if(E<C)break;var k=E-C,I=36-C;p(e,f(y(C+k%I))),E=l(k/I),S+=36}p(e,f(y(E))),v=b(c,w,m==g),c=0,m++}}c++,a++}return h(e,"")};t.exports=function(t){var e,n,r=[],i=g(v(m(t),a,"."),".");for(e=0;e<i.length;e++)n=i[e],p(r,c(o,n)?"xn--"+_(n):n);return h(r,".")}},553:(t,e,n)=>{var r=n(3509).PROPER,i=n(8913),o=n(919);t.exports=function(t){return i((function(){return!!o[t]()||"​᠎"!=="​᠎"[t]()||r&&o[t].name!==t}))}},2607:(t,e,n)=>{var r=n(3628),i=n(6683),o=n(6880),a=n(919),s=r("".replace),u="["+a+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),f=function(t){return function(e){var n=o(i(e));return 1&t&&(n=s(n,c,"")),2&t&&(n=s(n,l,"")),n}};t.exports={start:f(1),end:f(2),trim:f(3)}},1114:(t,e,n)=>{var r=n(4427),i=n(8913);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},7006:(t,e,n)=>{var r=n(7074),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5122:(t,e,n)=>{var r=n(7157),i=n(6683);t.exports=function(t){return r(i(t))}},7074:(t,e,n)=>{var r=n(3375);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},9532:(t,e,n)=>{var r=n(7074),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},1939:(t,e,n)=>{var r=n(6683),i=Object;t.exports=function(t){return i(r(t))}},4449:(t,e,n)=>{var r=n(7635),i=n(1087),o=n(3946),a=n(4781),s=n(6597),u=n(9878),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,u=a(t,l);if(u){if(void 0===e&&(e="default"),n=r(u,t,e),!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},7174:(t,e,n)=>{var r=n(4449),i=n(3946);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},9944:(t,e,n)=>{var r={};r[n(9878)("toStringTag")]="z",t.exports="[object z]"===String(r)},6880:(t,e,n)=>{var r=n(774),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},3044:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},4455:(t,e,n)=>{var r=n(3628),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},1700:(t,e,n)=>{var r=n(8913),i=n(9878),o=n(3890),a=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},4965:(t,e,n)=>{var r=n(1114);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3232:(t,e,n)=>{var r=n(8633),i=n(8913);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9710:t=>{var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},1637:(t,e,n)=>{var r=n(953),i=n(267),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},9878:(t,e,n)=>{var r=n(953),i=n(4856),o=n(9522),a=n(4455),s=n(1114),u=n(4965),c=r.Symbol,l=i("wks"),f=u?c.for||c:c&&c.withoutSetter||a;t.exports=function(t){return o(l,t)||(l[t]=s&&o(c,t)?c[t]:f("Symbol."+t)),l[t]}},919:t=>{t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},643:(t,e,n)=>{"use strict";var r=n(5122),i=n(4796),o=n(5769),a=n(6679),s=n(723).f,u=n(2691),c=n(6320),l=n(3890),f=n(8633),d="Array Iterator",h=a.set,p=a.getterFor(d);t.exports=u(Array,"Array",(function(t,e){h(this,{type:d,target:r(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,c(void 0,!0)):c("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values");var v=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&f&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(t){}},9995:(t,e,n)=>{"use strict";var r=n(1455),i=n(3628),o=n(9517),a=i([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},9690:(t,e,n)=>{var r=n(1455),i=n(953);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},6471:(t,e,n)=>{var r=n(1455),i=n(8558),o=n(8703);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,n){o(e,t,n)}),{AS_ENTRIES:!0}),e}})},5160:()=>{},7494:()=>{},5673:(t,e,n)=>{"use strict";var r=n(1878).charAt,i=n(6880),o=n(6679),a=n(2691),s=n(6320),u="String Iterator",c=o.set,l=o.getterFor(u);a(String,"String",(function(t){c(this,{type:u,string:i(t),index:0})}),(function(){var t,e=l(this),n=e.string,i=e.index;return i>=n.length?s(void 0,!0):(t=r(n,i),e.index+=t.length,s(t,!1))}))},5862:(t,e,n)=>{"use strict";var r=n(1455),i=n(7635),o=n(3628),a=n(6683),s=n(267),u=n(6332),c=n(9771),l=n(6880),f=n(4781),d=n(3348),h=n(5076),p=n(9878),v=n(3890),g=p("replace"),m=TypeError,y=o("".indexOf),b=o("".replace),_=o("".slice),w=Math.max,E=function(t,e,n){return n>t.length?-1:""===e?n:y(t,e,n)};r({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,o,p,S,C,k,I,x,T=a(this),O=0,A=0,L="";if(!u(t)){if((n=c(t))&&(r=l(a(d(t))),!~y(r,"g")))throw m("`.replaceAll` does not allow non-global regexes");if(o=f(t,g))return i(o,t,T,e);if(v&&n)return b(l(T),t,e)}for(p=l(T),S=l(t),(C=s(e))||(e=l(e)),k=S.length,I=w(1,k),O=E(p,S,0);-1!==O;)x=C?l(e(S,O,p)):h(S,p,O,[],void 0,e),L+=_(p,A,O)+x,A=O+k,O=E(p,S,O+I);return A<p.length&&(L+=_(p,A)),L}})},1705:()=>{},6160:(t,e,n)=>{"use strict";var r=n(1455),i=n(2607).trim;r({target:"String",proto:!0,forced:n(553)("trim")},{trim:function(){return i(this)}})},3421:(t,e,n)=>{n(9690)},122:(t,e,n)=>{n(643);var r=n(1667),i=n(953),o=n(774),a=n(7904),s=n(5769),u=n(9878)("toStringTag");for(var c in r){var l=i[c],f=l&&l.prototype;f&&o(f)!==u&&a(f,u,c),s[c]=s.Array}},5624:(t,e,n)=>{"use strict";n(643);var r=n(1455),i=n(953),o=n(7635),a=n(3628),s=n(8633),u=n(1700),c=n(3216),l=n(8492),f=n(7970),d=n(8146),h=n(6679),p=n(336),v=n(267),g=n(9522),m=n(6318),y=n(774),b=n(1926),_=n(1087),w=n(6880),E=n(6),S=n(8556),C=n(9216),k=n(3607),I=n(9710),x=n(9878),T=n(4159),O=x("iterator"),A="URLSearchParams",L="URLSearchParamsIterator",R=h.set,D=h.getterFor(A),N=h.getterFor(L),P=Object.getOwnPropertyDescriptor,M=function(t){if(!s)return i[t];var e=P(i,t);return e&&e.value},U=M("fetch"),B=M("Request"),j=M("Headers"),F=B&&B.prototype,V=j&&j.prototype,z=i.RegExp,K=i.TypeError,G=i.decodeURIComponent,q=i.encodeURIComponent,H=a("".charAt),W=a([].join),J=a([].push),Y=a("".replace),X=a([].shift),Z=a([].splice),$=a("".split),Q=a("".slice),tt=/\+/g,et=Array(4),nt=function(t){return et[t-1]||(et[t-1]=z("((?:%[\\da-f]{2}){"+t+"})","gi"))},rt=function(t){try{return G(t)}catch(e){return t}},it=function(t){var e=Y(t,tt," "),n=4;try{return G(e)}catch(t){for(;n;)e=Y(e,nt(n--),rt);return e}},ot=/[!'()~]|%20/g,at={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},st=function(t){return at[t]},ut=function(t){return Y(q(t),ot,st)},ct=d((function(t,e){R(this,{type:L,iterator:C(D(t).entries),kind:e})}),"Iterator",(function(){var t=N(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),lt=function(t){this.entries=[],this.url=null,void 0!==t&&(_(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===H(t,0)?Q(t,1):t:w(t)))};lt.prototype={type:A,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,a,s,u,c=k(t);if(c)for(n=(e=C(t,c)).next;!(r=o(n,e)).done;){if(a=(i=C(b(r.value))).next,(s=o(a,i)).done||(u=o(a,i)).done||!o(a,i).done)throw K("Expected sequence with length 2");J(this.entries,{key:w(s.value),value:w(u.value)})}else for(var l in t)g(t,l)&&J(this.entries,{key:l,value:w(t[l])})},parseQuery:function(t){if(t)for(var e,n,r=$(t,"&"),i=0;i<r.length;)(e=r[i++]).length&&(n=$(e,"="),J(this.entries,{key:it(X(n)),value:it(W(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],J(n,ut(t.key)+"="+ut(t.value));return W(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ft=function(){p(this,dt);var t=arguments.length>0?arguments[0]:void 0;R(this,new lt(t))},dt=ft.prototype;if(l(dt,{append:function(t,e){I(arguments.length,2);var n=D(this);J(n.entries,{key:w(t),value:w(e)}),n.updateURL()},delete:function(t){I(arguments.length,1);for(var e=D(this),n=e.entries,r=w(t),i=0;i<n.length;)n[i].key===r?Z(n,i,1):i++;e.updateURL()},get:function(t){I(arguments.length,1);for(var e=D(this).entries,n=w(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){I(arguments.length,1);for(var e=D(this).entries,n=w(t),r=[],i=0;i<e.length;i++)e[i].key===n&&J(r,e[i].value);return r},has:function(t){I(arguments.length,1);for(var e=D(this).entries,n=w(t),r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){I(arguments.length,1);for(var n,r=D(this),i=r.entries,o=!1,a=w(t),s=w(e),u=0;u<i.length;u++)(n=i[u]).key===a&&(o?Z(i,u--,1):(o=!0,n.value=s));o||J(i,{key:a,value:s}),r.updateURL()},sort:function(){var t=D(this);T(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=D(this).entries,r=m(t,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new ct(this,"keys")},values:function(){return new ct(this,"values")},entries:function(){return new ct(this,"entries")}},{enumerable:!0}),c(dt,O,dt.entries,{name:"entries"}),c(dt,"toString",(function(){return D(this).serialize()}),{enumerable:!0}),f(ft,A),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:ft}),!u&&v(j)){var ht=a(V.has),pt=a(V.set),vt=function(t){if(_(t)){var e,n=t.body;if(y(n)===A)return e=t.headers?new j(t.headers):new j,ht(e,"content-type")||pt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(t,{body:S(0,w(n)),headers:S(0,e)})}return t};if(v(U)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return U(t,arguments.length>1?vt(arguments[1]):{})}}),v(B)){var gt=function(t){return p(this,F),new B(t,arguments.length>1?vt(arguments[1]):{})};F.constructor=gt,gt.prototype=F,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:gt})}}t.exports={URLSearchParams:ft,getState:D}},3944:(t,e,n)=>{n(5624)},6101:(t,e,n)=>{"use strict";n(5673);var r,i=n(1455),o=n(8633),a=n(1700),s=n(953),u=n(6318),c=n(3628),l=n(3216),f=n(9984),d=n(336),h=n(9522),p=n(9603),v=n(7569),g=n(591),m=n(1878).codeAt,y=n(7466),b=n(6880),_=n(7970),w=n(9710),E=n(5624),S=n(6679),C=S.set,k=S.getterFor("URL"),I=E.URLSearchParams,x=E.getState,T=s.URL,O=s.TypeError,A=s.parseInt,L=Math.floor,R=Math.pow,D=c("".charAt),N=c(/./.exec),P=c([].join),M=c(1..toString),U=c([].pop),B=c([].push),j=c("".replace),F=c([].shift),V=c("".split),z=c("".slice),K=c("".toLowerCase),G=c([].unshift),q="Invalid scheme",H="Invalid host",W="Invalid port",J=/[a-z]/i,Y=/[\d+-.a-z]/i,X=/\d/,Z=/^0x/i,$=/^[0-7]+$/,Q=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,nt=/[\0\t\n\r #/:<>?@[\\\]^|]/,rt=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,it=/[\t\n\r]/g,ot=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)G(e,t%256),t=L(t/256);return P(e,".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=M(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},at={},st=p({},at,{" ":1,'"':1,"<":1,">":1,"`":1}),ut=p({},st,{"#":1,"?":1,"{":1,"}":1}),ct=p({},ut,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),lt=function(t,e){var n=m(t,0);return n>32&&n<127&&!h(e,t)?t:encodeURIComponent(t)},ft={ftp:21,file:null,http:80,https:443,ws:80,wss:443},dt=function(t,e){var n;return 2==t.length&&N(J,D(t,0))&&(":"==(n=D(t,1))||!e&&"|"==n)},ht=function(t){var e;return t.length>1&&dt(z(t,0,2))&&(2==t.length||"/"===(e=D(t,2))||"\\"===e||"?"===e||"#"===e)},pt=function(t){return"."===t||"%2e"===K(t)},vt={},gt={},mt={},yt={},bt={},_t={},wt={},Et={},St={},Ct={},kt={},It={},xt={},Tt={},Ot={},At={},Lt={},Rt={},Dt={},Nt={},Pt={},Mt=function(t,e,n){var r,i,o,a=b(t);if(e){if(i=this.parse(a))throw O(i);this.searchParams=null}else{if(void 0!==n&&(r=new Mt(n,!0)),i=this.parse(a,null,r))throw O(i);(o=x(new I)).bindURL(this),this.searchParams=o}};Mt.prototype={type:"URL",parse:function(t,e,n){var i,o,a,s,u,c=this,l=e||vt,f=0,d="",p=!1,m=!1,y=!1;for(t=b(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=j(t,rt,"")),t=j(t,it,""),i=v(t);f<=i.length;){switch(o=i[f],l){case vt:if(!o||!N(J,o)){if(e)return q;l=mt;continue}d+=K(o),l=gt;break;case gt:if(o&&(N(Y,o)||"+"==o||"-"==o||"."==o))d+=K(o);else{if(":"!=o){if(e)return q;d="",l=mt,f=0;continue}if(e&&(c.isSpecial()!=h(ft,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,e)return void(c.isSpecial()&&ft[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?l=Tt:c.isSpecial()&&n&&n.scheme==c.scheme?l=yt:c.isSpecial()?l=Et:"/"==i[f+1]?(l=bt,f++):(c.cannotBeABaseURL=!0,B(c.path,""),l=Dt)}break;case mt:if(!n||n.cannotBeABaseURL&&"#"!=o)return q;if(n.cannotBeABaseURL&&"#"==o){c.scheme=n.scheme,c.path=g(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=Pt;break}l="file"==n.scheme?Tt:_t;continue;case yt:if("/"!=o||"/"!=i[f+1]){l=_t;continue}l=St,f++;break;case bt:if("/"==o){l=Ct;break}l=Rt;continue;case _t:if(c.scheme=n.scheme,o==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query=n.query;else if("/"==o||"\\"==o&&c.isSpecial())l=wt;else if("?"==o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query="",l=Nt;else{if("#"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.path.length--,l=Rt;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query=n.query,c.fragment="",l=Pt}break;case wt:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=Rt;continue}l=Ct}else l=St;break;case Et:if(l=St,"/"!=o||"/"!=D(d,f+1))continue;f++;break;case St:if("/"!=o&&"\\"!=o){l=Ct;continue}break;case Ct:if("@"==o){p&&(d="%40"+d),p=!0,a=v(d);for(var _=0;_<a.length;_++){var w=a[_];if(":"!=w||y){var E=lt(w,ct);y?c.password+=E:c.username+=E}else y=!0}d=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(p&&""==d)return"Invalid authority";f-=v(d).length+1,d="",l=kt}else d+=o;break;case kt:case It:if(e&&"file"==c.scheme){l=At;continue}if(":"!=o||m){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==d)return H;if(e&&""==d&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(d))return s;if(d="",l=Lt,e)return;continue}"["==o?m=!0:"]"==o&&(m=!1),d+=o}else{if(""==d)return H;if(s=c.parseHost(d))return s;if(d="",l=xt,e==It)return}break;case xt:if(!N(X,o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||e){if(""!=d){var S=A(d,10);if(S>65535)return W;c.port=c.isSpecial()&&S===ft[c.scheme]?null:S,d=""}if(e)return;l=Lt;continue}return W}d+=o;break;case Tt:if(c.scheme="file","/"==o||"\\"==o)l=Ot;else{if(!n||"file"!=n.scheme){l=Rt;continue}if(o==r)c.host=n.host,c.path=g(n.path),c.query=n.query;else if("?"==o)c.host=n.host,c.path=g(n.path),c.query="",l=Nt;else{if("#"!=o){ht(P(g(i,f),""))||(c.host=n.host,c.path=g(n.path),c.shortenPath()),l=Rt;continue}c.host=n.host,c.path=g(n.path),c.query=n.query,c.fragment="",l=Pt}}break;case Ot:if("/"==o||"\\"==o){l=At;break}n&&"file"==n.scheme&&!ht(P(g(i,f),""))&&(dt(n.path[0],!0)?B(c.path,n.path[0]):c.host=n.host),l=Rt;continue;case At:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!e&&dt(d))l=Rt;else if(""==d){if(c.host="",e)return;l=Lt}else{if(s=c.parseHost(d))return s;if("localhost"==c.host&&(c.host=""),e)return;d="",l=Lt}continue}d+=o;break;case Lt:if(c.isSpecial()){if(l=Rt,"/"!=o&&"\\"!=o)continue}else if(e||"?"!=o)if(e||"#"!=o){if(o!=r&&(l=Rt,"/"!=o))continue}else c.fragment="",l=Pt;else c.query="",l=Nt;break;case Rt:if(o==r||"/"==o||"\\"==o&&c.isSpecial()||!e&&("?"==o||"#"==o)){if(".."===(u=K(u=d))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||B(c.path,"")):pt(d)?"/"==o||"\\"==o&&c.isSpecial()||B(c.path,""):("file"==c.scheme&&!c.path.length&&dt(d)&&(c.host&&(c.host=""),d=D(d,0)+":"),B(c.path,d)),d="","file"==c.scheme&&(o==r||"?"==o||"#"==o))for(;c.path.length>1&&""===c.path[0];)F(c.path);"?"==o?(c.query="",l=Nt):"#"==o&&(c.fragment="",l=Pt)}else d+=lt(o,ut);break;case Dt:"?"==o?(c.query="",l=Nt):"#"==o?(c.fragment="",l=Pt):o!=r&&(c.path[0]+=lt(o,at));break;case Nt:e||"#"!=o?o!=r&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":lt(o,at)):(c.fragment="",l=Pt);break;case Pt:o!=r&&(c.fragment+=lt(o,st))}f++}},parseHost:function(t){var e,n,r;if("["==D(t,0)){if("]"!=D(t,t.length-1))return H;if(e=function(t){var e,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return D(t,f)};if(":"==d()){if(":"!=D(t,1))return;f+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(e=n=0;n<4&&N(tt,d());)e=16*e+A(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,c>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;f++}if(!N(X,d()))return;for(;N(X,d());){if(o=A(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[c++]=e}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u}(z(t,1,-1)),!e)return H;this.host=e}else if(this.isSpecial()){if(t=y(t),N(et,t))return H;if(e=function(t){var e,n,r,i,o,a,s,u=V(t,".");if(u.length&&""==u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=u[r]))return t;if(o=10,i.length>1&&"0"==D(i,0)&&(o=N(Z,i)?16:8,i=z(i,8==o?1:2)),""===i)a=0;else{if(!N(10==o?Q:8==o?$:tt,i))return t;a=A(i,o)}B(n,a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=R(256,5-e))return null}else if(a>255)return null;for(s=U(n),r=0;r<n.length;r++)s+=n[r]*R(256,3-r);return s}(t),null===e)return H;this.host=e}else{if(N(nt,t))return H;for(e="",n=v(t),r=0;r<n.length;r++)e+=lt(n[r],at);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return h(ft,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&dt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",t.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=ot(i),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+P(a,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(t){var e=this.parse(t);if(e)throw O(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Ut(t.path[0]).origin}catch(t){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+ot(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(b(t)+":",vt)},getUsername:function(){return this.username},setUsername:function(t){var e=v(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=lt(e[n],ct)}},getPassword:function(){return this.password},setPassword:function(t){var e=v(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=lt(e[n],ct)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ot(t):ot(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,kt)},getHostname:function(){var t=this.host;return null===t?"":ot(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,It)},getPort:function(){var t=this.port;return null===t?"":b(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=b(t))?this.port=null:this.parse(t,xt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+P(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Lt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=b(t))?this.query=null:("?"==D(t,0)&&(t=z(t,1)),this.query="",this.parse(t,Nt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=b(t))?("#"==D(t,0)&&(t=z(t,1)),this.fragment="",this.parse(t,Pt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ut=function(t){var e=d(this,Bt),n=w(arguments.length,1)>1?arguments[1]:void 0,r=C(e,new Mt(t,!1,n));o||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Bt=Ut.prototype,jt=function(t,e){return{get:function(){return k(this)[t]()},set:e&&function(t){return k(this)[e](t)},configurable:!0,enumerable:!0}};if(o&&(f(Bt,"href",jt("serialize","setHref")),f(Bt,"origin",jt("getOrigin")),f(Bt,"protocol",jt("getProtocol","setProtocol")),f(Bt,"username",jt("getUsername","setUsername")),f(Bt,"password",jt("getPassword","setPassword")),f(Bt,"host",jt("getHost","setHost")),f(Bt,"hostname",jt("getHostname","setHostname")),f(Bt,"port",jt("getPort","setPort")),f(Bt,"pathname",jt("getPathname","setPathname")),f(Bt,"search",jt("getSearch","setSearch")),f(Bt,"searchParams",jt("getSearchParams")),f(Bt,"hash",jt("getHash","setHash"))),l(Bt,"toJSON",(function(){return k(this).serialize()}),{enumerable:!0}),l(Bt,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),T){var Ft=T.createObjectURL,Vt=T.revokeObjectURL;Ft&&l(Ut,"createObjectURL",u(Ft,T)),Vt&&l(Ut,"revokeObjectURL",u(Vt,T))}_(Ut,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Ut})},4779:(t,e,n)=>{n(6101)},7130:()=>{},6780:(t,e,n)=>{var r=n(5193);t.exports=r},1554:(t,e,n)=>{var r=n(3202);t.exports=r},7246:(t,e,n)=>{var r=n(1551);t.exports=r},8020:(t,e,n)=>{var r=n(952);t.exports=r},6815:(t,e,n)=>{var r=n(7062);t.exports=r},8318:(t,e,n)=>{var r=n(7073);n(122),t.exports=r},4820:(t,e,n)=>{var r=n(2202);n(122),t.exports=r},1393:(t,e,n)=>{var r=n(1647);t.exports=r},2202:(t,e,n)=>{n(3944);var r=n(9654);t.exports=r.URLSearchParams},1647:(t,e,n)=>{n(4779),n(7130),n(3944);var r=n(9654);t.exports=r.URL},6523:()=>{},9849:()=>{},352:(t,e,n)=>{t.exports=n(1554)},2586:(t,e,n)=>{t.exports=n(8020)},7241:(t,e,n)=>{t.exports=n(6815)},7282:(t,e,n)=>{t.exports=n(8318)},3064:(t,e,n)=>{t.exports=n(4820)},3010:(t,e,n)=>{t.exports=n(1393)},9364:(t,e,n)=>{t.exports=n(2440)},3110:(t,e,n)=>{n(432)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.amdO={},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=n(1259),e=n.n(t);const r=new RegExp("^network error","i");function i(t){const{errors:e,originalError:n}=t;return!r.test(n.message)&&e.some((t=>t.stacktrace.some((t=>t.file.includes("bolt.com")))))}let o,a=new class{constructor(){this.client=void 0}setContext(t){}resetEventCount(){}notify(t,e){}leaveBreadcrumb(t,e,n){}addMetadata(t,e){}setUser(t,e,n){}};class s{constructor(t,e){this.timer=void 0,this.delayMillis=void 0,this.callback=void 0,this.delayMillis=t,this.callback=e}fire(t,e=this.delayMillis){this.dispose(),"undefined"!=typeof window&&(this.timer=window.setTimeout((()=>this.callback(t)),e))}dispose(){null!=this.timer&&(clearTimeout(this.timer),this.timer=void 0)}}function u(t,e){o?o(t,e):console.error("Unhandled background error",e,t)}function c(t,e){if("function"==typeof t)try{t()}catch(t){u(t,e)}else t instanceof Promise&&t.catch((t=>{u(t,e)}))}let l={};function f(){return l}const d=["name"],h=["name","value"],p=["name","delta"],v=["message","name","frames"];function g(t,e){return{events:m(t.events,e.events),samples:m(t.samples,e.samples),counters:m(t.counters,e.counters),errors:m(t.errors,e.errors)}}function m(t,e){return t&&0!==t.length?e&&0!==e.length?[...t,...e]:t:e}class y extends Error{}let b=function(t){return t[t.NoContent=204]="NoContent",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.RequestTimeout=408]="RequestTimeout",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.TooManyRequests=429]="TooManyRequests",t}({});class _ extends Error{constructor(t,e,n,r){super(t),this.errorType=e,this.statusCode=n,this.statusText=r}}async function w(t,e={}){try{const n=await fetch(t,{method:"GET",...e,headers:{Accept:"application/json;charset=UTF-8",...e.headers}});if(n.ok)return n;if(n.status===b.RequestTimeout)throw new y(`Timeout fetching ${t}`);throw new _(`Server Error fetching ${t}: ${n.status} ${n.statusText}`,"application",n.status,n.statusText)}catch(e){if(e instanceof Error&&"AbortError"===e.name)throw new y(`Timeout fetching ${t}`);throw e}}const E=new class{constructor(t){this.postFn=t,this.flushLater=new s(100,(()=>c(this.flush(),"clientLogFlushLater"))),this.postponedInput={},this.experiments={},this.reAddCounter=0,this.authReFlushCounter=0}append(t){t=function(t){const e=[],n={},r=f();function i(t,n,i){let o=!0;const a=[];return i.forEach((e=>{(void 0===t[e]||null===t[e]||"number"==typeof t[e]&&isNaN(t[e]))&&(a.push(e),o=!1)})),o||e.push({name:"InvalidClientLogInput",properties:{...r,inputName:t.name,inputType:n,invalidKeys:a},delta:1}),o}return t.samples&&(n.samples=t.samples.filter((t=>i(t,"samples",h)))),t.events&&(n.events=t.events.filter((t=>i(t,"events",d)))),t.counters&&(n.counters=t.counters.filter((t=>i(t,"counters",p)))),t.errors&&(n.errors=t.errors.filter((t=>i(t,"errors",v)))),0===e.length?t:g(n,{counters:e})}(t);const e=g(this.postponedInput,t);JSON.stringify(e).length>25e4?(c(this.flush(),"clientLogSizeCapReached"),this.postponedInput=t):this.postponedInput=e}updateExperiments(t){t.forEach((t=>{this.experiments[t.name]={treatment:t.treatment,version:t.version}}))}updateExperimentsDynamicFeatures(t){t.forEach(((t,e)=>{const n="dynamicFeatures."+e;this.experiments[n]={treatment:t?"on":"off",version:0}}))}postClientLog(t,e){t=function(t){const e=f(),n={};function r(t){const n={...t};return n.properties={...e,...t.properties},n}return t.samples&&(n.samples=t.samples.map(r)),t.events&&(n.events=t.events.map(r)),t.counters&&(n.counters=t.counters.map(r)),t.errors&&(n.errors=t.errors.map(r)),n}(t),this.append(t),"now"===e?c(this.flush(),"clientLogFlushNow"):"later"===e&&this.flushLater.fire(void 0)}async flush(t=!1){if(this.hasContent()){const e={...this.postponedInput};try{await this.postFn(this.flushContent())}catch(n){n instanceof Error&&(!t&&this.reAddCounter<5&&(this.postClientLog(e,"later_no_flush"),this.reAddCounter++),t&&this.authReFlushCounter<3&&(this.postponedInput=e,this.authReFlushCounter++,await this.flush(!0)))}}}hasContent(){return Object.entries(this.postponedInput).length>0}flushContent(){const t={...this.postponedInput,division_id:""};return this.postponedInput={},t}}((async function(t){return await async function(t,e){const n=await w("https://connect.bolt.com/v1/log",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(e)});return n.status===b.NoContent?null:n.json()}(0,t),!0}));function S(t,e="later"){E.postClientLog(t,e)}var C={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},k=console,I={};Object.keys(C).forEach((function(t){I[t]=k[t]}));var x="Datadog Browser SDK:",T={debug:I.debug.bind(k,x),log:I.log.bind(k,x),info:I.info.bind(k,x),warn:I.warn.bind(k,x),error:I.error.bind(k,x)};function O(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,n)}catch(t){T.error(e,t)}}}var A,L=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},R=!1;function D(t){R=t}function N(t,e,n){var r=n.value;n.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=A?P(r):r;return n.apply(this,t)}}function P(t){return function(){return M(t,this,arguments)}}function M(t,e,n){try{return t.apply(e,n)}catch(t){if(U(t),A)try{A(t)}catch(t){U(t)}}}function U(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];R&&T.error.apply(T,L(["[MONITOR]"],t,!1))}function B(t,e){return-1!==t.indexOf(e)}function j(t){if(Array.from)return Array.from(t);var e=[];if(t instanceof Set)t.forEach((function(t){return e.push(t)}));else for(var n=0;n<t.length;n++)e.push(t[n]);return e}function F(t){return Object.keys(t).map((function(e){return t[e]}))}function V(t,e){return t.slice(0,e.length)===e}function z(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach((function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})),t}var K=n(9364),G=n.n(K);function q(){if("object"==typeof G())return G();Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var t=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof t&&(t="object"==typeof self?self:"object"==typeof window?window:{}),t}var H=/[^\u0000-\u007F]/;function W(t){return H.test(t)?void 0!==window.TextEncoder?(new TextEncoder).encode(t).length:new Blob([t]).size:t.length}function J(t,e){var n,r=q();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=t[r.Zone.__symbol__(e)]),n||(n=t[e]),n}function Y(t,e){return J(q(),"setTimeout")(P(t),e)}function X(t){J(q(),"clearTimeout")(t)}function Z(t,e){return J(q(),"setInterval")(P(t),e)}function $(t){J(q(),"clearInterval")(t)}function Q(t,e,n){var r,i,o=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];s?r=n:(o?t.apply(void 0,n):r=n,s=!0,i=Y((function(){a&&r&&t.apply(void 0,r),s=!1,r=void 0}),e))},cancel:function(){X(i),s=!1,r=void 0}}}function tt(){}function et(t,e,n){if("object"!=typeof t||null===t)return JSON.stringify(t);var r=nt(Object.prototype),i=nt(Array.prototype),o=nt(Object.getPrototypeOf(t)),a=nt(t);try{return JSON.stringify(t,e,n)}catch(t){return"<error: unable to serialize object>"}finally{r(),i(),o(),a()}}function nt(t){var e=t,n=e.toJSON;return n?(delete e.toJSON,function(){e.toJSON=n}):tt}function rt(t,e){return Object.keys(t).some((function(n){return t[n]===e}))}function it(t){return 0===Object.keys(t).length}function ot(t){var e=0,n=Q((function(n){e=W(et(n)),t()}),200),r=n.throttled,i=n.cancel,o=function(){i(),e=0};return{updateCustomerData:function(t){it(t)?o():r(t)},resetCustomerData:o,getBytesCount:function(){return e},stop:function(){i()}}}var at=n(352),st=n.n(at);function ut(t){return null===t?"null":Array.isArray(t)?"array":typeof t}function ct(t,e,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var t=new WeakSet;return{hasAlreadyBeenSeen:function(e){var n=t.has(e);return n||t.add(e),n}}}var e=[];return{hasAlreadyBeenSeen:function(t){var n=e.indexOf(t)>=0;return n||e.push(t),n}}}()),void 0===e)return t;if("object"!=typeof e||null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){var r=st()(e)||[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.sticky?"y":"",e.unicode?"u":""].join("");return new RegExp(e.source,r)}if(!n.hasAlreadyBeenSeen(e)){if(Array.isArray(e)){for(var i=Array.isArray(t)?t:[],o=0;o<e.length;++o)i[o]=ct(i[o],e[o],n);return i}var a="object"===ut(t)?t:{};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=ct(a[s],e[s],n));return a}}function lt(t){return ct(void 0,t)}function ft(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];null!=o&&(t=ct(t,o))}return t}function dt(t,e){var n;void 0===e&&(e=225280);var r=nt(Object.prototype),i=nt(Array.prototype),o=[],a=new WeakMap,s=ht(t,"$",void 0,o,a),u=(null===(n=JSON.stringify(s))||void 0===n?void 0:n.length)||0;if(!(u>e)){for(;o.length>0&&u<e;){var c=o.shift(),l=0;if(Array.isArray(c.source))for(var f=0;f<c.source.length;f++){if(u+=void 0!==(d=ht(c.source[f],c.path,f,o,a))?JSON.stringify(d).length:4,u+=l,l=1,u>e){pt(e,"truncated",t);break}c.target[f]=d}else for(var f in c.source)if(Object.prototype.hasOwnProperty.call(c.source,f)){var d;if(void 0!==(d=ht(c.source[f],c.path,f,o,a))&&(u+=JSON.stringify(d).length+l+f.length+3,l=1),u>e){pt(e,"truncated",t);break}c.target[f]=d}}return r(),i(),s}pt(e,"discarded",t)}function ht(t,e,n,r,i){var o,a=function(t){var e=t;if(e&&"function"==typeof e.toJSON)try{return e.toJSON()}catch(t){}return t}(t);if(!a||"object"!=typeof a)return"bigint"==typeof(o=a)?"[BigInt] ".concat(o.toString()):"function"==typeof o?"[Function] ".concat(o.name||"unknown"):"symbol"==typeof o?"[Symbol] ".concat(o.description||o.toString()):o;var s=function(t){try{if(t instanceof Event)return{isTrusted:t.isTrusted};var e=Object.prototype.toString.call(t).match(/\[object (.*)\]/);if(e&&e[1])return"[".concat(e[1],"]")}catch(t){}return"[Unserializable]"}(a);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;var u=t;if(i.has(u))return"[Reference seen at ".concat(i.get(u),"]");var c=void 0!==n?"".concat(e,".").concat(n):e,l=Array.isArray(a)?[]:{};return i.set(u,c),r.push({source:a,target:l,path:c}),l}function pt(t,e,n){T.warn("The data provided has been ".concat(e," as it is over the limit of ").concat(t," characters:"),n)}var vt=function(){function t(t){this.onFirstSubscribe=t,this.observers=[]}return t.prototype.subscribe=function(t){var e=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),this.observers.push(t),{unsubscribe:function(){e.observers=e.observers.filter((function(e){return t!==e})),!e.observers.length&&e.onLastUnsubscribe&&e.onLastUnsubscribe()}}},t.prototype.notify=function(t){this.observers.forEach((function(e){return e(t)}))},t}();function gt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vt((function(e){var n=t.map((function(t){return t.subscribe((function(t){return e.notify(t)}))}));return function(){return n.forEach((function(t){return t.unsubscribe()}))}}))}function mt(t){var e={},n=new vt,r={getContext:function(){return lt(e)},setContext:function(i){"object"===ut(i)?(e=dt(i),t.updateCustomerData(e)):r.clearContext(),n.notify()},setContextProperty:function(r,i){e[r]=dt(i),t.updateCustomerData(e),n.notify()},removeContextProperty:function(r){delete e[r],t.updateCustomerData(e),n.notify()},clearContext:function(){e={},t.resetCustomerData(),n.notify()},changeObservable:n};return r}var yt,bt={GRANTED:"granted",NOT_GRANTED:"not-granted"};function _t(t,e,n,r,i){return wt(t,e,[n],r,i)}function wt(t,e,n,r,i){var o=void 0===i?{}:i,a=o.once,s=o.capture,u=o.passive,c=P((function(e){(e.isTrusted||e.__ddIsTrusted||t.allowUntrustedEvents)&&(a&&d(),r(e))})),l=u?{capture:s,passive:u}:s,f=J(e,"addEventListener");function d(){var t=J(e,"removeEventListener");n.forEach((function(n){return t.call(e,n,c,l)}))}return n.forEach((function(t){return f.call(e,t,c,l)})),{stop:d}}!function(t){t.BEFORE_UNLOAD="beforeunload",t.CLICK="click",t.DBL_CLICK="dblclick",t.KEY_DOWN="keydown",t.LOAD="load",t.POP_STATE="popstate",t.SCROLL="scroll",t.TOUCH_START="touchstart",t.TOUCH_END="touchend",t.TOUCH_MOVE="touchmove",t.VISIBILITY_CHANGE="visibilitychange",t.PAGE_SHOW="pageshow",t.FREEZE="freeze",t.RESUME="resume",t.DOM_CONTENT_LOADED="DOMContentLoaded",t.POINTER_DOWN="pointerdown",t.POINTER_UP="pointerup",t.POINTER_CANCEL="pointercancel",t.HASH_CHANGE="hashchange",t.PAGE_HIDE="pagehide",t.MOUSE_DOWN="mousedown",t.MOUSE_UP="mouseup",t.MOUSE_MOVE="mousemove",t.FOCUS="focus",t.BLUR="blur",t.CONTEXT_MENU="contextmenu",t.RESIZE="resize",t.CHANGE="change",t.INPUT="input",t.PLAY="play",t.PAUSE="pause",t.SECURITY_POLICY_VIOLATION="securitypolicyviolation",t.SELECTION_CHANGE="selectionchange",t.STORAGE="storage"}(yt||(yt={}));var Et=[];function St(t,e,n,r){var i=function(t,e){return"".concat("_dd_c","_").concat(t,"_").concat(e)}(n,r);function o(){var t=localStorage.getItem(i);return null!==t?JSON.parse(t):{}}Et.push(_t(t,window,yt.STORAGE,(function(t){var n=t.key;i===n&&e.setContext(o())}))),e.changeObservable.subscribe((function(){localStorage.setItem(i,JSON.stringify(e.getContext()))})),e.setContext(ft(o(),e.getContext()))}function Ct(t){var e=z({},t);return["id","name","email"].forEach((function(t){t in e&&(e[t]=String(e[t]))})),e}function kt(t,e){e.silentMultipleInit||T.error("".concat(t," is already initialized."))}var It="?";function xt(t){var e=[],n=Mt(t,"stack"),r=String(t);return n&&V(n,r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach((function(t){var n=function(t){var e=At.exec(t);if(e){var n=e[2]&&0===e[2].indexOf("native"),r=e[2]&&0===e[2].indexOf("eval"),i=Lt.exec(e[2]);return r&&i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3]),{args:n?[e[2]]:[],column:e[4]?+e[4]:void 0,func:e[1]||It,line:e[3]?+e[3]:void 0,url:n?void 0:e[2]}}}(t)||function(t){var e=Rt.exec(t);if(e)return{args:[],column:e[3]?+e[3]:void 0,func:It,line:e[2]?+e[2]:void 0,url:e[1]}}(t)||function(t){var e=Dt.exec(t);if(e)return{args:[],column:e[4]?+e[4]:void 0,func:e[1]||It,line:+e[3],url:e[2]}}(t)||function(t){var e=Nt.exec(t);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1,r=Pt.exec(e[3]);return n&&r&&(e[3]=r[1],e[4]=r[2],e[5]=void 0),{args:e[2]?e[2].split(","):[],column:e[5]?+e[5]:void 0,func:e[1]||It,line:e[4]?+e[4]:void 0,url:e[3]}}}(t);n&&(!n.func&&n.line&&(n.func=It),e.push(n))})),{message:Mt(t,"message"),name:Mt(t,"name"),stack:e}}var Tt="((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",Ot="(?::(\\d+))",At=new RegExp("^\\s*at (.*?) ?\\(".concat(Tt).concat(Ot,"?").concat(Ot,"?\\)?\\s*$"),"i"),Lt=new RegExp("\\((\\S*)".concat(Ot).concat(Ot,"\\)")),Rt=new RegExp("^\\s*at ?".concat(Tt).concat(Ot,"?").concat(Ot,"??\\s*$"),"i"),Dt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Nt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Pt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Mt(t,e){if("object"==typeof t&&t&&e in t){var n=t[e];return"string"==typeof n?n:void 0}}var Ut=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/,Bt="No stack, consider using an instance of Error";function jt(t){var e=t.stackTrace,n=t.originalError,r=t.handlingStack,i=t.startClocks,o=t.nonErrorPrefix,a=t.source,s=t.handling,u=n instanceof Error,c=function(t,e,n,r){return(null==t?void 0:t.message)&&(null==t?void 0:t.name)?t.message:e?"Empty message":"".concat(n," ").concat(et(dt(r)))}(e,u,o,n),l=function(t,e){return void 0!==e&&(!!t||e.stack.length>0&&(e.stack.length>1||void 0!==e.stack[0].url))}(u,e)?Vt(e):Bt,f=u?Gt(n,a):void 0;return{startClocks:i,source:a,handling:s,handlingStack:r,originalError:n,type:null==e?void 0:e.name,message:c,stack:l,causes:f,fingerprint:Ft(n)}}function Ft(t){return t instanceof Error&&"dd_fingerprint"in t?String(t.dd_fingerprint):void 0}function Vt(t){var e=zt(t);return t.stack.forEach((function(t){var n="?"===t.func?"<anonymous>":t.func,r=t.args&&t.args.length>0?"(".concat(t.args.join(", "),")"):"",i=t.line?":".concat(t.line):"",o=t.line&&t.column?":".concat(t.column):"";e+="\n  at ".concat(n).concat(r," @ ").concat(t.url).concat(i).concat(o)})),e}function zt(t){return"".concat(t.name||"Error",": ").concat(t.message)}function Kt(){var t,e=new Error;if(!e.stack)try{throw e}catch(t){}return M((function(){var n=xt(e);n.stack=n.stack.slice(2),t=Vt(n)})),t}function Gt(t,e){for(var n=t,r=[];(null==n?void 0:n.cause)instanceof Error&&r.length<10;){var i=xt(n.cause);r.push({message:n.cause.message,source:e,type:null==i?void 0:i.name,stack:i&&Vt(i)}),n=n.cause}return r.length?r:void 0}var qt,Ht="agent",Wt="console",Jt="logger",Yt="source",Xt="report";function Zt(){return(new Date).getTime()}function $t(){return Zt()}function Qt(){return performance.now()}function te(){return{relative:Qt(),timeStamp:$t()}}function ee(){return void 0===qt&&(qt=performance.timing.navigationStart),qt}var ne={debug:"debug",error:"error",info:"info",warn:"warn"},re="http",ie=Object.keys(ne),oe=function(){function t(t,e,n,r,i,o){void 0===r&&(r=re),void 0===i&&(i=ne.debug),void 0===o&&(o={}),this.handleLogStrategy=t,this.handlerType=r,this.level=i,this.contextManager=mt(e),this.contextManager.setContext(o),n&&this.contextManager.setContextProperty("logger",{name:n})}return t.prototype.log=function(t,e,n,r){var i;if(void 0===n&&(n=ne.info),null!=r){var o=jt({stackTrace:r instanceof Error?xt(r):void 0,originalError:r,nonErrorPrefix:"Provided",source:Jt,handling:"handled",startClocks:te()});i={stack:o.stack,kind:o.type,message:o.message,causes:o.causes}}var a=dt(e),s=i?ft({error:i},a):a;this.handleLogStrategy({message:dt(t),context:s,status:n},this)},t.prototype.debug=function(t,e,n){this.log(t,e,ne.debug,n)},t.prototype.info=function(t,e,n){this.log(t,e,ne.info,n)},t.prototype.warn=function(t,e,n){this.log(t,e,ne.warn,n)},t.prototype.error=function(t,e,n){this.log(t,e,ne.error,n)},t.prototype.setContext=function(t){this.contextManager.setContext(t)},t.prototype.getContext=function(){return this.contextManager.getContext()},t.prototype.setContextProperty=function(t,e){this.contextManager.setContextProperty(t,e)},t.prototype.removeContextProperty=function(t){this.contextManager.removeContextProperty(t)},t.prototype.clearContext=function(){this.contextManager.clearContext()},t.prototype.setHandler=function(t){this.handlerType=t},t.prototype.getHandler=function(){return this.handlerType},t.prototype.setLevel=function(t){this.level=t},t.prototype.getLevel=function(){return this.level},function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([N],t.prototype,"log",null),t}();function ae(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}var se,ue=function(){function t(){this.buffer=[]}return t.prototype.add=function(t){this.buffer.push(t)>500&&this.buffer.splice(0,1)},t.prototype.remove=function(t){ae(this.buffer,t)},t.prototype.drain=function(t){this.buffer.forEach((function(e){return e(t)})),this.buffer.length=0},t}();function ce(){var t=q().DatadogEventBridge;if(t)return{getCapabilities:function(){var e;return JSON.parse((null===(e=t.getCapabilities)||void 0===e?void 0:e.call(t))||"[]")},getPrivacyLevel:function(){var e;return null===(e=t.getPrivacyLevel)||void 0===e?void 0:e.call(t)},getAllowedWebViewHosts:function(){return JSON.parse(t.getAllowedWebViewHosts())},send:function(e,n,r){var i=r?{id:r}:void 0;t.send(JSON.stringify({eventType:e,event:n,view:i}))}}}function le(t){var e;void 0===t&&(t=null===(e=q().location)||void 0===e?void 0:e.hostname);var n=ce();return!!n&&n.getAllowedWebViewHosts().some((function(e){return t===e||(n=t,r=".".concat(e),n.slice(-r.length)===r);var n,r}))}!function(t){t.PAGEHIDE="pagehide",t.FEATURE_FLAGS="feature_flags",t.RESOURCE_PAGE_STATES="resource_page_states",t.COLLECT_FLUSH_REASON="collect_flush_reason",t.ZERO_LCP_TELEMETRY="zero_lcp_telemetry",t.DISABLE_REPLAY_INLINE_CSS="disable_replay_inline_css",t.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",t.CUSTOM_VITALS="custom_vitals"}(se||(se={}));var fe=new Set;function de(t){return fe.has(t)}function he(t){return 0!==t&&100*Math.random()<=t}function pe(t){return function(t){return"number"==typeof t}(t)&&t>=0&&t<=100}function ve(t){return t?(parseInt(t,10)^16*Math.random()>>parseInt(t,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,ve)}var ge=/([\w-]+)\s*=\s*([^;]+)/g;function me(t,e,n){void 0===n&&(n="");var r=t.charCodeAt(e-1),i=r>=55296&&r<=56319?e+1:e;return t.length<=i?t:"".concat(t.slice(0,i)).concat(n)}var ye,be,_e,we=9e5;function Ee(t,e,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires=".concat(i.toUTCString()),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain=".concat(r.domain):"",u=r&&r.secure?";secure":"",c=r&&r.partitioned?";partitioned":"";document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/;samesite=").concat(a).concat(s).concat(u).concat(c)}function Se(t){return function(t,e){for(ge.lastIndex=0;;){var n=ge.exec(t);if(!n)break;if(n[1]===e)return n[2]}}(document.cookie,t)}function Ce(t){return be||(be=function(t){var e=new Map;for(ge.lastIndex=0;;){var n=ge.exec(t);if(!n)break;e.set(n[1],n[2])}return e}(document.cookie)),be.get(t)}function ke(t,e){Ee(t,"",0,e)}var Ie="_dd_s",xe=/^([a-z]+)=([a-z0-9-]+)$/;function Te(t){return it(t)}function Oe(t){t.expire=String(Zt()+we)}function Ae(t){return(e=t,Object.keys(e).map((function(t){return[t,e[t]]}))).map((function(t){var e=t[0],n=t[1];return"".concat(e,"=").concat(n)})).join("&");var e}function Le(t){var e={};return function(t){return!!t&&(-1!==t.indexOf("&")||xe.test(t))}(t)&&t.split("&").forEach((function(t){var n=xe.exec(t);if(null!==n){var r=n[1],i=n[2];e[r]=i}})),e}function Re(){return Le(Se(Ie))}function De(t){return function(){ke(Ie,t)}}function Ne(t){localStorage.setItem(Ie,Ae(t))}function Pe(){return Le(localStorage.getItem(Ie))}function Me(){localStorage.removeItem(Ie)}var Ue,Be=[];function je(t,e,n){var r;void 0===n&&(n=0);var i=e.isLockEnabled,o=e.retrieveSession,a=e.persistSession,s=e.clearSession;if(Ue||(Ue=t),t===Ue)if(i&&n>=100)Ve(e);else{var u,c=o();if(i){if(c.lock)return void Fe(t,e,n);if(u=ve(),c.lock=u,a(c),(c=o()).lock!==u)return void Fe(t,e,n)}var l=t.process(c);if(i&&(c=o()).lock!==u)Fe(t,e,n);else{if(l&&(Te(l)?s():(Oe(l),a(l))),i&&(!l||!Te(l))){if((c=o()).lock!==u)return void Fe(t,e,n);delete c.lock,a(c),l=c}null===(r=t.after)||void 0===r||r.call(t,l||c),Ve(e)}}else Be.push(t)}function Fe(t,e,n){Y((function(){je(t,e,n+1)}),10)}function Ve(t){Ue=void 0;var e=Be.shift();e&&je(e,t)}function ze(t){var e=function(t){var e=function(t){var e={};return e.secure=!!t.useSecureSessionCookie||!!t.usePartitionedCrossSiteSessionCookie||!!t.useCrossSiteSessionCookie,e.crossSite=!!t.usePartitionedCrossSiteSessionCookie||!!t.useCrossSiteSessionCookie,e.partitioned=!!t.usePartitionedCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(e.domain=function(){if(void 0===_e){for(var t="dd_site_test_".concat(ve()),e=window.location.hostname.split("."),n=e.pop();e.length&&!Se(t);)Ee(t,"test",1e3,{domain:n="".concat(e.pop(),".").concat(n)});ke(t,{domain:n}),_e=n}return _e}()),e}(t);return function(t){if(void 0===document.cookie||null===document.cookie)return!1;try{var e="dd_cookie_test_".concat(ve()),n="test";Ee(e,n,6e4,t);var r=Se(e)===n;return ke(e,t),r}catch(t){return T.error(t),!1}}(e)?{type:"Cookie",cookieOptions:e}:void 0}(t);return!e&&t.allowFallbackToLocalStorage&&(e=function(){try{var t=ve(),e="".concat("_dd_test_").concat(t);localStorage.setItem(e,t);var n=localStorage.getItem(e);return localStorage.removeItem(e),t===n?{type:"LocalStorage"}:void 0}catch(t){return}}()),e}function Ke(t,e,n){var r,i,o,a,s=new vt,u=new vt,c="Cookie"===t.type?(i=t.cookieOptions,a={isLockEnabled:1===(null!=ye?ye:ye=function(t){var e;void 0===t&&(t=window);var n=t.navigator.userAgent;return t.chrome||/HeadlessChrome/.test(n)?1:0===(null===(e=t.navigator.vendor)||void 0===e?void 0:e.indexOf("Apple"))||/safari/i.test(n)&&!/chrome|android/i.test(n)?2:t.document.documentMode?0:3}()),persistSession:(o=i,function(t){Ee(Ie,Ae(t),we,o)}),retrieveSession:Re,clearSession:De(i)},function(t){if(!Ce(Ie)){var e=Ce("_dd"),n=Ce("_dd_r"),r=Ce("_dd_l"),i={};e&&(i.id=e),r&&/^[01]$/.test(r)&&(i.logs=r),n&&/^[012]$/.test(n)&&(i.rum=n),Te(i)||(Oe(i),t.persistSession(i))}}(a),a):{isLockEnabled:!1,persistSession:Ne,retrieveSession:Pe,clearSession:Me},l=c.clearSession,f=c.retrieveSession,d=Z((function(){je({process:function(t){return b(t)?void 0:{}},after:m},c)}),1e3),h=b(r=f())?r:{},p=Q((function(){var t;je({process:function(r){var i=m(r);return t=function(t){var r=n(t[e]),i=r.trackingType,o=r.isTracked;return t[e]=i,o&&!t.id&&(t.id=ve(),t.created=String(Zt())),o}(i),i},after:function(e){t&&!y()&&function(t){h=t,s.notify()}(e),h=e}},c)}),1e3),v=p.throttled,g=p.cancel;function m(t){return b(t)||(t={}),y()&&(function(t){return h.id!==t.id||h[e]!==t[e]}(t)?(h={},u.notify()):h=t),t}function y(){return void 0!==h[e]}function b(t){return(void 0===t.created||Zt()-Number(t.created)<144e5)&&(void 0===t.expire||Zt()<Number(t.expire))}return{expandOrRenewSession:v,expandSession:function(){je({process:function(t){return y()?m(t):void 0}},c)},getSession:function(){return h},renewObservable:s,expireObservable:u,expire:function(){g(),l(),m({})},stop:function(){$(d)}}}var Ge=n(2586),qe=n.n(Ge),He=n(3010),We=n.n(He);function Je(t){return function(t,e){var n=function(){if(void 0===Ye)try{var t=new Xe("http://test/path");Ye="http://test/path"===t.href}catch(t){Ye=!1}return Ye?Xe:void 0}();if(n)try{return void 0!==e?new n(t,e):new n(t)}catch(n){throw new Error("Failed to construct URL: ".concat(String(n)," ").concat(et({url:t,base:e})))}if(void 0===e&&!/:/.test(t))throw new Error("Invalid URL: '".concat(t,"'"));var r=document,i=r.createElement("a");if(void 0!==e){var o=(r=document.implementation.createHTMLDocument("")).createElement("base");o.href=e,r.head.appendChild(o),r.body.appendChild(i)}return i.href=t,i}(t,location.href).href}var Ye,Xe=We(),Ze="datadoghq.com";function $e(t,e,n){var r=function(t,e){var n="/api/v2/".concat(e),r=t.proxy;if("string"==typeof r){var i=Je(r);return function(t){return"".concat(i,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(t)))}}if("function"==typeof r)return function(t){return r({path:n,parameters:t})};var o=function(t,e){var n=e.site,r=void 0===n?Ze:n,i=e.internalAnalyticsSubdomain;if("logs"===t&&e.usePciIntake&&r===Ze)return"pci.browser-intake-datadoghq.com";if(i&&r===Ze)return"".concat(i,".").concat(Ze);if("dd0g-gov.com"===r)return"http-intake.logs.".concat(r);var o=r.split("."),a=o.pop();return"browser-intake-".concat(o.join("-"),".").concat(a)}(e,t);return function(t){return"https://".concat(o).concat(n,"?").concat(t)}}(t,e);return{build:function(i,o){var a=function(t,e,n,r,i){var o=t.clientToken,a=t.internalAnalyticsSubdomain,s=i.retry,u=i.flushReason,c=i.encoding,l=["sdk_version:".concat("5.12.0"),"api:".concat(r)].concat(n);u&&de(se.COLLECT_FLUSH_REASON)&&l.push("flush_reason:".concat(u)),s&&l.push("retry_count:".concat(s.count),"retry_after:".concat(s.lastFailureStatus));var f=["ddsource=browser","ddtags=".concat(encodeURIComponent(l.join(","))),"dd-api-key=".concat(o),"dd-evp-origin-version=".concat(encodeURIComponent("5.12.0")),"dd-evp-origin=browser","dd-request-id=".concat(ve())];return c&&f.push("dd-evp-encoding=".concat(c)),"rum"===e&&f.push("batch_time=".concat($t())),a&&qe()(f).call(f),f.join("&")}(t,e,n,i,o);return r(a)},urlPrefix:r(""),trackType:e}}var Qe=/[^a-z0-9_:./-]/;function tn(t,e){var n=200-t.length-1;(e.length>n||Qe.test(e))&&T.warn("".concat(t," value doesn't meet tag requirements and will be sanitized"));var r=e.replace(/,/g,"_");return"".concat(t,":").concat(r)}function en(t){var e,n,r,i;if(t&&t.clientToken)if(void 0===t.sessionSampleRate||pe(t.sessionSampleRate))if(void 0===t.telemetrySampleRate||pe(t.telemetrySampleRate))if(void 0===t.telemetryConfigurationSampleRate||pe(t.telemetryConfigurationSampleRate)){if(void 0===t.trackingConsent||rt(bt,t.trackingConsent))return Array.isArray(t.enableExperimentalFeatures)&&t.enableExperimentalFeatures.filter((function(t){return rt(se,t)})).forEach((function(t){fe.add(t)})),z({beforeSend:t.beforeSend&&O(t.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:ze(t),sessionSampleRate:null!==(e=t.sessionSampleRate)&&void 0!==e?e:100,telemetrySampleRate:null!==(n=t.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=t.telemetryConfigurationSampleRate)&&void 0!==r?r:5,service:t.service,silentMultipleInit:!!t.silentMultipleInit,allowUntrustedEvents:!!t.allowUntrustedEvents,trackingConsent:null!==(i=t.trackingConsent)&&void 0!==i?i:bt.GRANTED,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},function(t){var e=function(t){var e=t.env,n=t.service,r=t.version,i=t.datacenter,o=[];return e&&o.push(tn("env",e)),n&&o.push(tn("service",n)),r&&o.push(tn("version",r)),i&&o.push(tn("datacenter",i)),o}(t),n=function(t,e){return{logsEndpointBuilder:$e(t,"logs",e),rumEndpointBuilder:$e(t,"rum",e),sessionReplayEndpointBuilder:$e(t,"replay",e)}}(t,e),r=F(n).map((function(t){return t.urlPrefix})),i=function(t,e,n){if(t.replica){var r=z({},t,{site:Ze,clientToken:t.replica.clientToken}),i={logsEndpointBuilder:$e(r,"logs",n),rumEndpointBuilder:$e(r,"rum",n)};return e.push.apply(e,F(i).map((function(t){return t.urlPrefix}))),z({applicationId:t.replica.applicationId},i)}}(t,r,e);return z({isIntakeUrl:function(t){return r.some((function(e){return 0===t.indexOf(e)}))},replica:i,site:t.site||Ze},n)}(t));T.error('Tracking Consent should be either "granted" or "not-granted"')}else T.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");else T.error("Telemetry Sample Rate should be a number between 0 and 100");else T.error("Session Sample Rate should be a number between 0 and 100");else T.error("Client Token is not configured, we will not send any data.")}var nn={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function rn(t,e,n,r,i){return n?Vt({name:t,message:e,stack:[{func:"?",url:n,line:null!=r?r:void 0,column:null!=i?i:void 0}]}):void 0}function on(t,e,n){return void 0===t?[]:"all"===t||Array.isArray(t)&&t.every((function(t){return B(e,t)}))?"all"===t?e:function(t){var e=new Set;return t.forEach((function(t){return e.add(t)})),j(e)}(t):void T.error("".concat(n,' should be "all" or an array with allowed values "').concat(e.join('", "'),'"'))}var an="logs";function sn(t,e){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:t,payload:e})}var un={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function cn(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||Ce("datadog-synthetics-injects-rum"))}function ln(){var t=window._DATADOG_SYNTHETICS_RESULT_ID||Ce("datadog-synthetics-result-id");return"string"==typeof t?t:void 0}var fn=1/0,dn=function(){function t(t,e){var n=this;this.expireDelay=t,this.maxEntries=e,this.entries=[],this.clearOldValuesInterval=Z((function(){return n.clearOldValues()}),6e4)}return t.prototype.add=function(t,e){var n=this,r={value:t,startTime:e,endTime:fn,remove:function(){ae(n.entries,r)},close:function(t){r.endTime=t}};return this.maxEntries&&this.entries.length>=this.maxEntries&&this.entries.pop(),this.entries.unshift(r),r},t.prototype.find=function(t){void 0===t&&(t=fn);for(var e=0,n=this.entries;e<n.length;e++){var r=n[e];if(r.startTime<=t){if(t<=r.endTime)return r.value;break}}},t.prototype.closeActive=function(t){var e=this.entries[0];e&&e.endTime===fn&&e.close(t)},t.prototype.findAll=function(t,e){void 0===t&&(t=fn),void 0===e&&(e=0);var n=t+e;return this.entries.filter((function(e){return e.startTime<=n&&t<=e.endTime})).map((function(t){return t.value}))},t.prototype.reset=function(){this.entries=[]},t.prototype.stop=function(){$(this.clearOldValuesInterval)},t.prototype.clearOldValues=function(){for(var t=Qt()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<t;)this.entries.pop()},t}(),hn=[];function pn(t,e,n,r){var i=new vt,o=new vt,a=Ke(t.sessionStoreStrategyType,e,n);hn.push((function(){return a.stop()}));var s=new dn(144e5);function u(){return{id:a.getSession().id,trackingType:a.getSession()[e]}}return hn.push((function(){return s.stop()})),a.renewObservable.subscribe((function(){s.add(u(),Qt()),i.notify()})),a.expireObservable.subscribe((function(){o.notify(),s.closeActive(Qt())})),a.expandOrRenewSession(),s.add(u(),[0,ee()][0]),r.observable.subscribe((function(){r.isGranted()?a.expandOrRenewSession():a.expire()})),function(t,e){var n=wt(t,window,[yt.CLICK,yt.TOUCH_START,yt.KEY_DOWN,yt.SCROLL],(function(){r.isGranted()&&a.expandOrRenewSession()}),{capture:!0,passive:!0}).stop;hn.push(n)}(t),function(t,e){var n=function(){"visible"===document.visibilityState&&a.expandSession()},r=_t(t,document,yt.VISIBILITY_CHANGE,n).stop;hn.push(r);var i=Z(n,6e4);hn.push((function(){$(i)}))}(t),{findActiveSession:function(t){return s.find(t)},renewObservable:i,expireObservable:o,expire:a.expire}}function vn(t){return he(t.sessionSampleRate)?"1":"0"}function gn(){var t,e=window.navigator;return{status:e.onLine?"connected":"not_connected",interfaces:e.connection&&e.connection.type?[e.connection.type]:void 0,effective_type:null===(t=e.connection)||void 0===t?void 0:t.effectiveType}}var mn,yn=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],bn=["ddog-gov.com"],_n={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1};function wn(t,e){U(C.debug,t,e),Sn(z({type:"log",message:t,status:"debug"},e))}function En(t,e){Sn(z({type:"log",status:"error"},function(t){if(t instanceof Error){var e=xt(t);return{error:{kind:e.name,stack:Vt(Cn(e))},message:e.message}}return{error:{stack:Bt},message:"".concat("Uncaught"," ").concat(et(t))}}(t),e))}function Sn(t){mn&&_n.sentEventCount<_n.maxEventsPerPage&&(_n.sentEventCount+=1,mn(t))}function Cn(t){return t.stack=t.stack.filter((function(t){return!t.url||yn.some((function(e){return V(t.url,e)}))})),t}var kn=!1;function In(t){var e,n=window;if(cn()){var r=i(n.DD_RUM_SYNTHETICS);return r||kn||(kn=!0,wn("Logs sent before RUM is injected by the synthetics worker",{testId:(e=window._DATADOG_SYNTHETICS_PUBLIC_ID||Ce("datadog-synthetics-public-id"),"string"==typeof e?e:void 0),resultId:ln()})),r}return i(n.DD_RUM);function i(e){if(e&&e.getInternalContext)return e.getInternalContext(t)}}function xn(t,e,n,r,i){var o=ie.concat(["custom"]),a={};o.forEach((function(t){var n,r,o,s,u;a[t]=(n=t,r=e.eventRateLimiterThreshold,o=i,s=0,u=!1,{isLimitReached:function(){if(0===s&&Y((function(){s=0}),6e4),(s+=1)<=r||u)return u=!1,!1;if(s===r+1){u=!0;try{o({message:"Reached max number of ".concat(n,"s by minute: ").concat(r),source:Ht,startClocks:te()})}finally{u=!1}}return!0}})})),n.subscribe(0,(function(i){var o,s,u=i.rawLogsEvent,c=i.messageContext,l=void 0===c?void 0:c,f=i.savedCommonContext,d=void 0===f?void 0:f,h=u.date-ee(),p=t.findTrackedSession(h);if(p){var v=d||r(),g=ft({service:e.service,session_id:p.id,usr:it(v.user)?void 0:v.user,view:v.view},v.context,In(h),u,l);!1===(null===(o=e.beforeSend)||void 0===o?void 0:o.call(e,g))||g.origin!==Ht&&(null!==(s=a[g.status])&&void 0!==s?s:a.custom).isLimitReached()||n.notify(1,g)}}))}var Tn,On={};function An(t,e,n){var r,i,o,a=t.map((function(t){return function(t){return"string"==typeof t?dt(t):t instanceof Error?zt(xt(t)):et(dt(t),void 0,2)}(t)})).join(" ");if(e===C.error){var s=function(t,e){for(var n=0;n<t.length;n+=1){var r=t[n];if(r instanceof Error)return r}}(t);r=s?Vt(xt(s)):void 0,i=Ft(s),o=s?Gt(s,"console"):void 0}return{api:e,message:a,stack:r,handlingStack:n,fingerprint:i,causes:o}}var Ln,Rn,Dn=((Tn={})[C.log]=ne.info,Tn[C.debug]=ne.debug,Tn[C.info]=ne.info,Tn[C.warn]=ne.warn,Tn[C.error]=ne.error,Tn),Nn=((Ln={})[nn.cspViolation]=ne.error,Ln[nn.intervention]=ne.error,Ln[nn.deprecation]=ne.warn,Ln);function Pn(t,e,n){var r=t[e],i=function(t,e){return function(){var n,r,i=j(arguments);return M(e,null,[{target:this,parameters:i,onPostCall:function(t){r=t}}]),"function"==typeof t&&(n=t.apply(this,i)),r&&M(r,null,[n]),n}}(r,n),o=function(){if("function"==typeof i)return i.apply(this,arguments)};return t[e]=o,{stop:function(){t[e]===o?t[e]=r:i=r}}}var Mn,Un=new WeakMap;function Bn(t){var e=t.target,n=t.parameters,r=n[0],i=n[1];Un.set(e,{state:"open",method:String(r).toUpperCase(),url:Je(String(i))})}function jn(t){var e=t.target,n=Un.get(e);n&&(n.isAborted=!0)}function Fn(t){return t>=500}function Vn(t,e){if(!t.forwardErrorsToLogs)return{stop:tt};var n=function(t){return Rn||(Rn=function(t){return new vt((function(e){var n=Pn(XMLHttpRequest.prototype,"open",Bn).stop,r=Pn(XMLHttpRequest.prototype,"send",(function(n){!function(t,e,n){var r=t.target,i=Un.get(r);if(i){var o=i;o.state="start",o.startClocks=te(),o.isAborted=!1,o.xhr=r;var a=!1,s=Pn(r,"onreadystatechange",(function(){r.readyState===XMLHttpRequest.DONE&&u()})).stop,u=function(){if(c(),s(),!a){a=!0;var t,e=i;e.state="complete",e.duration=(t=o.startClocks.timeStamp,$t()-t),e.status=r.status,n.notify(z({},e))}},c=_t(e,r,"loadend",u).stop;n.notify(o)}}(n,t,e)})).stop,i=Pn(XMLHttpRequest.prototype,"abort",jn).stop;return function(){n(),r(),i()}}))}(t)),Rn}(t).subscribe((function(t){"complete"===t.state&&i("xhr",t)})),r=(Mn||(Mn=new vt((function(t){if(window.fetch){var e=Pn(window,"fetch",(function(e){return function(t,e){var n=t.parameters,r=t.onPostCall,i=n[0],o=n[1],a=o&&o.method;void 0===a&&i instanceof Request&&(a=i.method);var s=void 0!==a?String(a).toUpperCase():"GET",u=i instanceof Request?i.url:Je(String(i)),c={state:"start",init:o,input:i,method:s,startClocks:te(),url:u};e.notify(c),n[0]=c.input,n[1]=c.init,r((function(t){return function(t,e,n){var r=function(e){var r=n;r.state="resolve","stack"in e||e instanceof Error?(r.status=0,r.isAborted=e instanceof DOMException&&e.code===DOMException.ABORT_ERR,r.error=e):"status"in e&&(r.response=e,r.responseType=e.type,r.status=e.status,r.isAborted=!1),t.notify(r)};e.then(P(r),P(r))}(e,t,c)}))}(e,t)})).stop;return e}}))),Mn).subscribe((function(t){"resolve"===t.state&&i("fetch",t)}));function i(n,r){function i(t){e.notify(0,{rawLogsEvent:{message:"".concat(Kn(n)," error ").concat(r.method," ").concat(r.url),date:r.startClocks.timeStamp,error:{stack:t||"Failed to load"},http:{method:r.method,status_code:r.status,url:r.url},status:ne.error,origin:"network"}})}t.isIntakeUrl(r.url)||!function(t){return 0===t.status&&"opaque"!==t.responseType}(r)&&!Fn(r.status)||("xhr"in r?function(t,e,n){"string"==typeof t.response?n(zn(t.response,e)):n(t.response)}(r.xhr,t,i):r.response?function(t,e,n){var r=function(t){try{return t.clone()}catch(t){return}}(t);r&&r.body?window.TextDecoder?function(t,e,n){!function(t,e,n){var r=t.getReader(),i=[],o=0;function a(){var t,a;if(r.cancel().catch(tt),n.collectStreamBody){var s;if(1===i.length)s=i[0];else{s=new Uint8Array(o);var u=0;i.forEach((function(t){s.set(t,u),u+=t.length}))}t=s.slice(0,n.bytesLimit),a=s.length>n.bytesLimit}e(void 0,t,a)}!function t(){r.read().then(P((function(e){e.done?a():(n.collectStreamBody&&i.push(e.value),(o+=e.value.length)>n.bytesLimit?a():t())})),P((function(t){return e(t)})))}()}(t,(function(t,e,r){if(t)n(t);else{var i=(new TextDecoder).decode(e);r&&(i+="..."),n(void 0,i)}}),{bytesLimit:e,collectStreamBody:!0})}(r.body,e.requestErrorResponseLengthLimit,(function(t,e){n(t?"Unable to retrieve response: ".concat(t):e)})):r.text().then(P((function(t){return n(zn(t,e))})),P((function(t){return n("Unable to retrieve response: ".concat(t))}))):n()}(r.response,t,i):r.error&&function(t,e,n){n(zn(Vt(xt(t)),e))}(r.error,t,i))}return{stop:function(){n.unsubscribe(),r.unsubscribe()}}}function zn(t,e){return t.length>e.requestErrorResponseLengthLimit?"".concat(t.substring(0,e.requestErrorResponseLengthLimit),"..."):t}function Kn(t){return"xhr"===t?"XHR":"Fetch"}function Gn(t){var e,n=function(e,n){var r=jt({stackTrace:e,originalError:n,startClocks:te(),nonErrorPrefix:"Uncaught",source:Yt,handling:"unhandled"});t.notify(r)},r=(e=n,Pn(window,"onerror",(function(t){var n,r=t.parameters,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4];n=u instanceof Error?xt(u):function(t,e,n,r){var i=[{url:e,column:r,line:n}],o=function(t){var e,n,r;return"[object String]"==={}.toString.call(t)&&(n=(e=Ut.exec(t))[1],r=e[2]),{name:n,message:r}}(t);return{name:o.name,message:o.message,stack:i}}(i,o,a,s),e(n,null!=u?u:i)}))).stop,i=function(t){return Pn(window,"onunhandledrejection",(function(e){var n=e.parameters[0].reason||"Empty reason",r=xt(n);t(r,n)}))}(n).stop;return{stop:function(){r(),i()}}}var qn,Hn=function(){function t(){this.callbacks={}}return t.prototype.notify=function(t,e){var n=this.callbacks[t];n&&n.forEach((function(t){return t(e)}))},t.prototype.subscribe=function(t,e){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter((function(t){return e!==t}))}}},t}(),Wn=((qn={})[ne.debug]=0,qn[ne.info]=1,qn[ne.warn]=2,qn[ne.error]=3,qn);function Jn(t,e,n){var r=n.getHandler(),i=Array.isArray(r)?r:[r];return Wn[t]>=Wn[n.getLevel()]&&B(i,e)}var Yn=function(){function t(t,e,n,r){var i=this;this.encoder=t,this.request=e,this.flushController=n,this.messageBytesLimit=r,this.upsertBuffer={},this.flushSubscription=this.flushController.flushObservable.subscribe((function(t){return i.flush(t)}))}return t.prototype.add=function(t){this.addOrUpdate(t)},t.prototype.upsert=function(t,e){this.addOrUpdate(t,e)},t.prototype.stop=function(){this.flushSubscription.unsubscribe()},t.prototype.flush=function(t){var e=F(this.upsertBuffer).join("\n");this.upsertBuffer={};var n,r=(n=t.reason,B(F(un),n)),i=r?this.request.sendOnExit:this.request.send;if(r&&this.encoder.isAsync){var o=this.encoder.finishSync();o.outputBytesCount&&i(Xn(o,t));var a=[o.pendingData,e].filter(Boolean).join("\n");a&&i({data:a,bytesCount:W(a),flushReason:t.reason})}else e&&this.encoder.write(this.encoder.isEmpty?e:"\n".concat(e)),this.encoder.finish((function(e){i(Xn(e,t))}))},t.prototype.addOrUpdate=function(t,e){var n=et(t),r=this.encoder.estimateEncodedBytesCount(n);r>=this.messageBytesLimit?T.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB.")):(this.hasMessageFor(e)&&this.remove(e),this.push(n,r,e))},t.prototype.push=function(t,e,n){var r=this;this.flushController.notifyBeforeAddMessage(e),void 0!==n?(this.upsertBuffer[n]=t,this.flushController.notifyAfterAddMessage()):this.encoder.write(this.encoder.isEmpty?t:"\n".concat(t),(function(t){r.flushController.notifyAfterAddMessage(t-e)}))},t.prototype.remove=function(t){var e=this.upsertBuffer[t];delete this.upsertBuffer[t];var n=this.encoder.estimateEncodedBytesCount(e);this.flushController.notifyAfterRemoveMessage(n)},t.prototype.hasMessageFor=function(t){return void 0!==t&&void 0!==this.upsertBuffer[t]},t}();function Xn(t,e){return{data:"string"==typeof t.output?t.output:new Blob([t.output],{type:"text/plain"}),bytesCount:t.outputBytesCount,encoding:t.encoding,flushReason:e.reason}}function Zn(t,e,n,r,i){0===e.transportStatus&&0===e.queuedPayloads.size()&&e.bandwidthMonitor.canHandle(t)?Qn(t,e,n,{onSuccess:function(){return tr(0,e,n,r,i)},onFailure:function(){e.queuedPayloads.enqueue(t),$n(e,n,r,i)}}):e.queuedPayloads.enqueue(t)}function $n(t,e,n,r){2===t.transportStatus&&Y((function(){Qn(t.queuedPayloads.first(),t,e,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=1e3,tr(1,t,e,n,r)},onFailure:function(){t.currentBackoffTime=Math.min(6e4,2*t.currentBackoffTime),$n(t,e,n,r)}})}),t.currentBackoffTime)}function Qn(t,e,n,r){var i=r.onSuccess,o=r.onFailure;e.bandwidthMonitor.add(t),n(t,(function(n){e.bandwidthMonitor.remove(t),function(t){return"opaque"!==t.type&&(0===t.status&&!navigator.onLine||408===t.status||429===t.status||Fn(t.status))}(n)?(e.transportStatus=e.bandwidthMonitor.ongoingRequestCount>0?1:2,t.retry={count:t.retry?t.retry.count+1:1,lastFailureStatus:n.status},o()):(e.transportStatus=0,i())}))}function tr(t,e,n,r,i){0===t&&e.queuedPayloads.isFull()&&!e.queueFullReported&&(i({message:"Reached max ".concat(r," events size queued for upload: ").concat(3,"MiB"),source:Ht,startClocks:te()}),e.queueFullReported=!0);var o=e.queuedPayloads;for(e.queuedPayloads=er();o.size()>0;)Zn(o.dequeue(),e,n,r,i)}function er(){var t=[];return{bytesCount:0,enqueue:function(e){this.isFull()||(t.push(e),this.bytesCount+=e.bytesCount)},first:function(){return t[0]},dequeue:function(){var e=t.shift();return e&&(this.bytesCount-=e.bytesCount),e},size:function(){return t.length},isFull:function(){return this.bytesCount>=3145728}}}var nr=!1;function rr(t,e,n,r){var i=new XMLHttpRequest;i.open("POST",e,!0),n instanceof Blob&&i.setRequestHeader("Content-Type",n.type),_t(t,i,"loadend",(function(){null==r||r({status:i.status})}),{once:!0}),i.send(n)}function ir(t,e,n,r,i,o){var a=u(t,e),s=n&&u(t,n);function u(t,e){var n=e.endpoint,a=e.encoder;return new Yn(a,function(t,e,n,r){var i={transportStatus:0,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(t){return 0===this.ongoingRequestCount||this.ongoingByteCount+t.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(t){this.ongoingRequestCount+=1,this.ongoingByteCount+=t.bytesCount},remove:function(t){this.ongoingRequestCount-=1,this.ongoingByteCount-=t.bytesCount}},queuedPayloads:er(),queueFullReported:!1},o=function(r,i){return function(t,e,n,r,i){if(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(t){return!1}}()&&r.bytesCount<n){var o=e.build("fetch",r);fetch(o,{method:"POST",body:r.data,keepalive:!0,mode:"cors"}).then(P((function(t){return null==i?void 0:i({status:t.status,type:t.type})})),P((function(){var n=e.build("xhr",r);rr(t,n,r.data,i)})))}else{var a=e.build("xhr",r);rr(t,a,r.data,i)}}(t,e,n,r,i)};return{send:function(t){Zn(t,i,o,e.trackType,r)},sendOnExit:function(r){!function(t,e,n,r){if(navigator.sendBeacon&&r.bytesCount<n)try{var i=e.build("beacon",r);if(navigator.sendBeacon(i,r.data))return}catch(t){!function(t){nr||(nr=!0,En(t))}(t)}rr(t,e.build("xhr",r),r.data)}(t,e,n,r)}}}(t,n,t.batchBytesLimit,r),function(t){var e,n=t.messagesLimit,r=t.bytesLimit,i=t.durationLimit,o=t.pageExitObservable,a=t.sessionExpireObservable,s=o.subscribe((function(t){return d(t.reason)})),u=a.subscribe((function(){return d("session_expire")})),c=new vt((function(){return function(){s.unsubscribe(),u.unsubscribe()}})),l=0,f=0;function d(t){if(0!==f){var e=f,n=l;f=0,l=0,h(),c.notify({reason:t,messagesCount:e,bytesCount:n})}}function h(){X(e),e=void 0}return{flushObservable:c,get messagesCount(){return f},notifyBeforeAddMessage:function(t){l+t>=r&&d("bytes_limit"),f+=1,l+=t,void 0===e&&(e=Y((function(){d("duration_limit")}),i))},notifyAfterAddMessage:function(t){void 0===t&&(t=0),l+=t,f>=n?d("messages_limit"):l>=r&&d("bytes_limit")},notifyAfterRemoveMessage:function(t){l-=t,0==(f-=1)&&h()}}}({messagesLimit:t.batchMessagesLimit,bytesLimit:t.batchBytesLimit,durationLimit:t.flushTimeout,pageExitObservable:i,sessionExpireObservable:o}),t.messageBytesLimit)}return{flushObservable:a.flushController.flushObservable,add:function(t,e){void 0===e&&(e=!0),a.add(t),s&&e&&s.add(n.transformMessage?n.transformMessage(t):t)},upsert:function(t,e){a.upsert(t,e),s&&s.upsert(n.transformMessage?n.transformMessage(t):t,e)},stop:function(){a.stop(),null==s||s.stop()}}}function or(){var t="",e=0;return{isAsync:!1,get isEmpty(){return!t},write:function(n,r){var i=W(n);e+=i,t+=n,r&&r(i)},finish:function(t){t(this.finishSync())},finishSync:function(){var n={output:t,outputBytesCount:e,rawBytesCount:e,pendingData:""};return t="",e=0,n},estimateEncodedBytesCount:function(t){return t.length}}}function ar(t,e,n,r,i){var o=function(t,e){var n,r=new vt;_n.telemetryEnabled=!B(bn,e.site)&&he(e.telemetrySampleRate),_n.telemetryConfigurationEnabled=_n.telemetryEnabled&&he(e.telemetryConfigurationSampleRate);var i={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self};return mn=function(e){if(_n.telemetryEnabled){var o=function(t,e,r){return ft({type:"telemetry",date:$t(),service:t,version:"5.12.0",source:"browser",_dd:{format_version:2},telemetry:ft(e,{runtime_env:r,connectivity:gn()}),experimental_features:j(fe)},void 0!==n?n():{})}(t,e,i);r.notify(o),sn("telemetry",o)}},A=En,z(_n,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(t){n=t},observable:r,enabled:_n.telemetryEnabled}}("browser-logs-sdk",e);o.setContextProvider((function(){var t,e,n,r,o,a;return{application:{id:null===(t=In())||void 0===t?void 0:t.application_id},session:{id:null===(e=i.findTrackedSession())||void 0===e?void 0:e.id},view:{id:null===(r=null===(n=In())||void 0===n?void 0:n.view)||void 0===r?void 0:r.id},action:{id:null===(a=null===(o=In())||void 0===o?void 0:o.user_action)||void 0===a?void 0:a.id}}}));var a=[];if(le()){var s=ce(),u=o.observable.subscribe((function(t){return s.send("internal_telemetry",t)}));a.push((function(){return u.unsubscribe()}))}else{var c=ir(e,{endpoint:e.rumEndpointBuilder,encoder:or()},e.replica&&{endpoint:e.replica.rumEndpointBuilder,encoder:or()},n,r,i.expireObservable);a.push((function(){return c.stop()}));var l=o.observable.subscribe((function(t){return c.add(t,function(t){return"datad0g.com"===t.site}(e))}));a.push((function(){return l.unsubscribe()}))}return function(t){_n.telemetryConfigurationEnabled&&Sn({type:"configuration",configuration:t})}(function(t){var e,n={session_sample_rate:(e=t).sessionSampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:e.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:!!e.proxy,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,allow_fallback_to_local_storage:!!e.allowFallbackToLocalStorage,store_contexts_across_pages:!!e.storeContextsAcrossPages,allow_untrusted_events:!!e.allowUntrustedEvents,tracking_consent:e.trackingConsent};return z({forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports,use_pci_intake:t.usePciIntake},n)}(t)),{telemetry:o,stop:function(){a.forEach((function(t){return t()}))}}}var sr,ur,cr,lr=function(t){var e,n,r=function(t){void 0===t&&(t=2);var e=new Map,n=!1;function r(r){if(void 0===r&&(r=0),!n&&0!==t){var i=2===t?3072:16384,o=r;e.forEach((function(t){o+=t.getBytesCount()})),o>i&&(function(t){T.warn("Customer data exceeds the recommended ".concat(t/1024,"KiB threshold. More details: https://docs.datadoghq.com/real_user_monitoring/browser/troubleshooting/#customer-data-exceeds-the-recommended-threshold-warning"))}(i),n=!0)}}return{createDetachedTracker:function(){var t=ot((function(){return r(t.getBytesCount())}));return t},getOrCreateTracker:function(t){return e.has(t)||e.set(t,ot(r)),e.get(t)},setCompressionStatus:function(e){0===t&&(t=e,r())},getCompressionStatus:function(){return t},stop:function(){e.forEach((function(t){return t.stop()})),e.clear()}}}(),i=mt(r.getOrCreateTracker(2)),o=mt(r.getOrCreateTracker(1)),a={tryToInit:function(t){e||(e=t)},update:function(t){e=t,n.notify()},isGranted:function(){return e===bt.GRANTED},observable:n=new vt};function s(){return function(t,e){return{view:{referrer:document.referrer,url:window.location.href},context:t.getContext(),user:e.getContext()}}(i,o)}var u,c,l=function(t,e,n){var r,i,o=new ue,a=e.observable.subscribe(s);function s(){if(i&&r&&e.isGranted()){a.unsubscribe();var t=n(r,i);o.drain(t)}}return{init:function(t){if(t)if(le()&&(t=function(t){return z({},t,{clientToken:"empty"})}(t)),r=t,i)kt("DD_LOGS",t);else{var n=function(t){!0===t.usePciIntake&&t.site&&"datadoghq.com"!==t.site&&T.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");var e=en(t),n=on(t.forwardConsoleLogs,F(C),"Forward Console Logs"),r=on(t.forwardReports,F(nn),"Forward Reports");if(e&&n&&r)return t.forwardErrorsToLogs&&!B(n,C.error)&&n.push(C.error),z({forwardErrorsToLogs:!1!==t.forwardErrorsToLogs,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:32768},e)}(t);n&&(i=n,e.tryToInit(n.trackingConsent),s())}else T.error("Missing configuration")},get initConfiguration(){return r},getInternalContext:tt,handleLog:function(e,n,r,i){void 0===r&&(r=t()),void 0===i&&(i=$t()),o.add((function(t){return t.handleLog(e,n,r,i)}))}}}(s,a,(function(t,e){t.storeContextsAcrossPages&&(St(e,i,an,2),St(e,o,an,1));var n=function(t,e,n,r){var i=new Hn,o=[];i.subscribe(1,(function(t){return sn("logs",t)}));var a=function(t){return function(e){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:Ht,status:ne.error}}),wn("Error reported to customer",{"error.message":e.message})}}(i),s=function(t){return new vt((function(e){var n=de(se.PAGEHIDE),r=wt(t,window,[yt.VISIBILITY_CHANGE,yt.FREEZE,yt.PAGE_HIDE],(function(t){t.type===yt.PAGE_HIDE&&n?e.notify({reason:un.PAGEHIDE}):t.type===yt.VISIBILITY_CHANGE&&"hidden"===document.visibilityState?e.notify({reason:un.HIDDEN}):t.type===yt.FREEZE&&e.notify({reason:un.FROZEN})}),{capture:!0}).stop,i=tt;return n||(i=_t(t,window,yt.BEFORE_UNLOAD,(function(){e.notify({reason:un.UNLOADING})})).stop),function(){r(),i()}}))}(e),u=!e.sessionStoreStrategyType||le()||cn()?function(t){var e="1"===vn(t)?{}:void 0;return{findTrackedSession:function(){return e},expireObservable:new vt}}(e):function(t,e){var n=pn(t,"logs",(function(e){return function(t,e){var n=function(t){return"0"===t||"1"===t}(e)?e:vn(t);return{trackingType:n,isTracked:"1"===n}}(t,e)}),e);return{findTrackedSession:function(t){var e=n.findActiveSession(t);return e&&"1"===e.trackingType?{id:e.id}:void 0},expireObservable:n.expireObservable}}(e,r),c=ar(t,e,a,s,u).stop;o.push((function(){return c()})),Vn(e,i),function(t,e){if(!t.forwardErrorsToLogs)return{stop:tt};var n=new vt;Gn(n).stop,n.subscribe((function(t){e.notify(0,{rawLogsEvent:{message:t.message,date:t.startClocks.timeStamp,error:{kind:t.type,stack:t.stack,causes:t.causes},origin:Yt,status:ne.error}})}))}(e,i),function(t,e){var n,r;(n=t.forwardConsoleLogs,r=n.map((function(t){return On[t]||(On[t]=function(t){return new vt((function(e){var n=k[t];return k[t]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n.apply(console,r);var o=Kt();M((function(){e.notify(An(r,t,o))}))},function(){k[t]=n}}))}(t)),On[t]})),gt.apply(void 0,r)).subscribe((function(t){e.notify(0,{rawLogsEvent:{date:$t(),message:t.message,origin:Wt,error:t.api===C.error?{stack:t.stack,fingerprint:t.fingerprint,causes:t.causes}:void 0,status:Dn[t.api]}})}))}(e,i),function(t,e){(function(t,e){var n=[];B(e,nn.cspViolation)&&n.push(function(t){return new vt((function(e){return _t(t,document,yt.SECURITY_POLICY_VIOLATION,(function(t){e.notify(function(t){var e=nn.cspViolation,n="'".concat(t.blockedURI,"' blocked by '").concat(t.effectiveDirective,"' directive");return{type:nn.cspViolation,subtype:t.effectiveDirective,message:"".concat(e,": ").concat(n),stack:rn(t.effectiveDirective,t.originalPolicy?"".concat(n,' of the policy "').concat(me(t.originalPolicy,100,"..."),'"'):"no policy",t.sourceFile,t.lineNumber,t.columnNumber),originalReport:t}}(t))})).stop}))}(t));var r=e.filter((function(t){return t!==nn.cspViolation}));return r.length&&n.push(function(t){return new vt((function(e){if(window.ReportingObserver){var n=P((function(t,n){return t.forEach((function(t){e.notify(function(t){var e=t.type,n=t.body;return{type:e,subtype:n.id,message:"".concat(e,": ").concat(n.message),originalReport:t,stack:rn(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}(t))}))})),r=new window.ReportingObserver(n,{types:t,buffered:!0});return r.observe(),function(){r.disconnect()}}}))}(r)),gt.apply(void 0,n)})(t,t.forwardReports).subscribe((function(t){var n,r=t.message,i=Nn[t.type];i===ne.error?n={kind:t.subtype,stack:t.stack}:t.stack&&(r+=" Found in ".concat(function(t){var e;return null===(e=/@ (.+)/.exec(t))||void 0===e?void 0:e[1]}(t.stack))),e.notify(0,{rawLogsEvent:{date:$t(),message:r,origin:Xt,error:n,status:i}})}))}(e,i);var l,f=function(t){return{handleLog:function(e,n,r,i){var o=ft(n.getContext(),e.context);Jn(e.status,"console",n)&&function(t,e){I[t.status].call(k,t.message,e)}(e,o),Jn(e.status,re,n)&&t.notify(0,{rawLogsEvent:{date:i||$t(),message:e.message,status:e.status,origin:Jt},messageContext:o,savedCommonContext:r})}}}(i).handleLog;if(xn(u,e,i,n,a),le())!function(t){var e=ce();t.subscribe(1,(function(t){e.send("log",t)}))}(i);else{var d=function(t,e,n,r,i){var o=ir(t,{endpoint:t.logsEndpointBuilder,encoder:or()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:or()},n,r,i.expireObservable);return e.subscribe(1,(function(t){o.add(t)})),o}(e,i,a,s,u).stop;o.push((function(){return d()}))}return{handleLog:f,getInternalContext:(l=u,{get:function(t){var e=l.findTrackedSession(t);if(e)return{session_id:e.id}}}).get,stop:function(){o.forEach((function(t){return t()}))}}}(t,e,s,a);return l=function(t,e){return z({init:function(t){kt("DD_LOGS",t)},initConfiguration:t},e)}(t,n),n})),f={},d=new oe((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l.handleLog.apply(l,t)}),r.createDetachedTracker());return u={logger:d,init:P((function(t){return l.init(t)})),setTrackingConsent:P((function(t){return a.update(t)})),getGlobalContext:P((function(){return i.getContext()})),setGlobalContext:P((function(t){return i.setContext(t)})),setGlobalContextProperty:P((function(t,e){return i.setContextProperty(t,e)})),removeGlobalContextProperty:P((function(t){return i.removeContextProperty(t)})),clearGlobalContext:P((function(){return i.clearContext()})),createLogger:P((function(t,e){return void 0===e&&(e={}),f[t]=new oe((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l.handleLog.apply(l,t)}),r.createDetachedTracker(),dt(t),e.handler,e.level,dt(e.context)),f[t]})),getLogger:P((function(t){return f[t]})),getInitConfiguration:P((function(){return lt(l.initConfiguration)})),getInternalContext:P((function(t){return l.getInternalContext(t)})),setUser:P((function(t){(function(t){var e="object"===ut(t);return e||T.error("Unsupported user:",t),e})(t)&&o.setContext(Ct(t))})),getUser:P((function(){return o.getContext()})),setUserProperty:P((function(t,e){var n,r=Ct((n={},n[t]=e,n))[t];o.setContextProperty(t,r)})),removeUserProperty:P((function(t){return o.removeContextProperty(t)})),clearUser:P((function(){return o.clearContext()}))},c=z({version:"5.12.0",onReady:function(t){t()}},u),Object.defineProperty(c,"_setDebug",{get:function(){return D},enumerable:!1}),c}();sr=q(),ur=lr,cr=sr["DD_LOGS"],sr.DD_LOGS=ur,cr&&cr.q&&cr.q.forEach((function(t){return O(t,"onReady callback threw an error:")()}));var fr={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},dr=console,hr={};Object.keys(fr).forEach((function(t){hr[t]=dr[t]}));var pr="Datadog Browser SDK:",vr={debug:hr.debug.bind(dr,pr),log:hr.log.bind(dr,pr),info:hr.info.bind(dr,pr),warn:hr.warn.bind(dr,pr),error:hr.error.bind(dr,pr)};function gr(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,n)}catch(t){vr.error(e,t)}}}var mr,yr=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},br=!1;function _r(t){br=t}function wr(t){return function(){return Er(t,this,arguments)}}function Er(t,e,n){try{return t.apply(e,n)}catch(t){if(Sr(t),mr)try{mr(t)}catch(t){Sr(t)}}}function Sr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];br&&vr.error.apply(vr,yr(["[MONITOR]"],t,!1))}function Cr(t,e){return-1!==t.indexOf(e)}function kr(t){if(Array.from)return Array.from(t);var e=[];if(t instanceof Set)t.forEach((function(t){return e.push(t)}));else for(var n=0;n<t.length;n++)e.push(t[n]);return e}function Ir(t,e){for(var n=0;n<t.length;n+=1){var r=t[n];if(e(r,n))return r}}function xr(t){return Object.keys(t).map((function(e){return t[e]}))}function Tr(t){return Object.keys(t).map((function(e){return[e,t[e]]}))}function Or(t,e){return t.slice(0,e.length)===e}function Ar(t){return window.CSS&&window.CSS.escape?window.CSS.escape(t):t.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,(function(t,e){return e?"\0"===t?"�":"".concat(t.slice(0,-1),"\\").concat(t.charCodeAt(t.length-1).toString(16)," "):"\\".concat(t)}))}function Lr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach((function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})),t}function Rr(){if("object"==typeof G())return G();Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var t=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof t&&(t="object"==typeof self?self:"object"==typeof window?window:{}),t}var Dr=/[^\u0000-\u007F]/;function Nr(t){return Dr.test(t)?void 0!==window.TextEncoder?(new TextEncoder).encode(t).length:new Blob([t]).size:t.length}function Pr(t,e){var n,r=Rr();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=t[r.Zone.__symbol__(e)]),n||(n=t[e]),n}function Mr(t,e){return Pr(Rr(),"setTimeout")(wr(t),e)}function Ur(t){Pr(Rr(),"clearTimeout")(t)}function Br(t,e){return Pr(Rr(),"setInterval")(wr(t),e)}function jr(t){Pr(Rr(),"clearInterval")(t)}function Fr(t,e,n){var r,i,o=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];s?r=n:(o?t.apply(void 0,n):r=n,s=!0,i=Mr((function(){a&&r&&t.apply(void 0,r),s=!1,r=void 0}),e))},cancel:function(){Ur(i),s=!1,r=void 0}}}function Vr(){}function zr(t,e,n){if("object"!=typeof t||null===t)return JSON.stringify(t);var r=Kr(Object.prototype),i=Kr(Array.prototype),o=Kr(Object.getPrototypeOf(t)),a=Kr(t);try{return JSON.stringify(t,e,n)}catch(t){return"<error: unable to serialize object>"}finally{r(),i(),o(),a()}}function Kr(t){var e=t,n=e.toJSON;return n?(delete e.toJSON,function(){e.toJSON=n}):Vr}function Gr(t){return Lr({},t)}function qr(t,e){return Object.keys(t).some((function(n){return t[n]===e}))}function Hr(t){return 0===Object.keys(t).length}function Wr(t){var e=0,n=Fr((function(n){e=Nr(zr(n)),t()}),200),r=n.throttled,i=n.cancel,o=function(){i(),e=0};return{updateCustomerData:function(t){Hr(t)?o():r(t)},resetCustomerData:o,getBytesCount:function(){return e},stop:function(){i()}}}function Jr(t){return null===t?"null":Array.isArray(t)?"array":typeof t}function Yr(t,e,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var t=new WeakSet;return{hasAlreadyBeenSeen:function(e){var n=t.has(e);return n||t.add(e),n}}}var e=[];return{hasAlreadyBeenSeen:function(t){var n=e.indexOf(t)>=0;return n||e.push(t),n}}}()),void 0===e)return t;if("object"!=typeof e||null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){var r=st()(e)||[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.sticky?"y":"",e.unicode?"u":""].join("");return new RegExp(e.source,r)}if(!n.hasAlreadyBeenSeen(e)){if(Array.isArray(e)){for(var i=Array.isArray(t)?t:[],o=0;o<e.length;++o)i[o]=Yr(i[o],e[o],n);return i}var a="object"===Jr(t)?t:{};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=Yr(a[s],e[s],n));return a}}function Xr(t){return Yr(void 0,t)}function Zr(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];null!=o&&(t=Yr(t,o))}return t}function $r(t,e){var n;void 0===e&&(e=225280);var r=Kr(Object.prototype),i=Kr(Array.prototype),o=[],a=new WeakMap,s=Qr(t,"$",void 0,o,a),u=(null===(n=JSON.stringify(s))||void 0===n?void 0:n.length)||0;if(!(u>e)){for(;o.length>0&&u<e;){var c=o.shift(),l=0;if(Array.isArray(c.source))for(var f=0;f<c.source.length;f++){if(u+=void 0!==(d=Qr(c.source[f],c.path,f,o,a))?JSON.stringify(d).length:4,u+=l,l=1,u>e){ti(e,"truncated",t);break}c.target[f]=d}else for(var f in c.source)if(Object.prototype.hasOwnProperty.call(c.source,f)){var d;if(void 0!==(d=Qr(c.source[f],c.path,f,o,a))&&(u+=JSON.stringify(d).length+l+f.length+3,l=1),u>e){ti(e,"truncated",t);break}c.target[f]=d}}return r(),i(),s}ti(e,"discarded",t)}function Qr(t,e,n,r,i){var o,a=function(t){var e=t;if(e&&"function"==typeof e.toJSON)try{return e.toJSON()}catch(t){}return t}(t);if(!a||"object"!=typeof a)return"bigint"==typeof(o=a)?"[BigInt] ".concat(o.toString()):"function"==typeof o?"[Function] ".concat(o.name||"unknown"):"symbol"==typeof o?"[Symbol] ".concat(o.description||o.toString()):o;var s=function(t){try{if(t instanceof Event)return{isTrusted:t.isTrusted};var e=Object.prototype.toString.call(t).match(/\[object (.*)\]/);if(e&&e[1])return"[".concat(e[1],"]")}catch(t){}return"[Unserializable]"}(a);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;var u=t;if(i.has(u))return"[Reference seen at ".concat(i.get(u),"]");var c=void 0!==n?"".concat(e,".").concat(n):e,l=Array.isArray(a)?[]:{};return i.set(u,c),r.push({source:a,target:l,path:c}),l}function ti(t,e,n){vr.warn("The data provided has been ".concat(e," as it is over the limit of ").concat(t," characters:"),n)}var ei,ni=function(){function t(t){this.onFirstSubscribe=t,this.observers=[]}return t.prototype.subscribe=function(t){var e=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),this.observers.push(t),{unsubscribe:function(){e.observers=e.observers.filter((function(e){return t!==e})),!e.observers.length&&e.onLastUnsubscribe&&e.onLastUnsubscribe()}}},t.prototype.notify=function(t){this.observers.forEach((function(e){return e(t)}))},t}();function ri(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ni((function(e){var n=t.map((function(t){return t.subscribe((function(t){return e.notify(t)}))}));return function(){return n.forEach((function(t){return t.unsubscribe()}))}}))}function ii(t){var e={},n=new ni,r={getContext:function(){return Xr(e)},setContext:function(i){"object"===Jr(i)?(e=$r(i),t.updateCustomerData(e)):r.clearContext(),n.notify()},setContextProperty:function(r,i){e[r]=$r(i),t.updateCustomerData(e),n.notify()},removeContextProperty:function(r){delete e[r],t.updateCustomerData(e),n.notify()},clearContext:function(){e={},t.resetCustomerData(),n.notify()},changeObservable:n};return r}function oi(t,e,n,r,i){return ai(t,e,[n],r,i)}function ai(t,e,n,r,i){var o=void 0===i?{}:i,a=o.once,s=o.capture,u=o.passive,c=wr((function(e){(e.isTrusted||e.__ddIsTrusted||t.allowUntrustedEvents)&&(a&&d(),r(e))})),l=u?{capture:s,passive:u}:s,f=Pr(e,"addEventListener");function d(){var t=Pr(e,"removeEventListener");n.forEach((function(n){return t.call(e,n,c,l)}))}return n.forEach((function(t){return f.call(e,t,c,l)})),{stop:d}}!function(t){t.BEFORE_UNLOAD="beforeunload",t.CLICK="click",t.DBL_CLICK="dblclick",t.KEY_DOWN="keydown",t.LOAD="load",t.POP_STATE="popstate",t.SCROLL="scroll",t.TOUCH_START="touchstart",t.TOUCH_END="touchend",t.TOUCH_MOVE="touchmove",t.VISIBILITY_CHANGE="visibilitychange",t.PAGE_SHOW="pageshow",t.FREEZE="freeze",t.RESUME="resume",t.DOM_CONTENT_LOADED="DOMContentLoaded",t.POINTER_DOWN="pointerdown",t.POINTER_UP="pointerup",t.POINTER_CANCEL="pointercancel",t.HASH_CHANGE="hashchange",t.PAGE_HIDE="pagehide",t.MOUSE_DOWN="mousedown",t.MOUSE_UP="mouseup",t.MOUSE_MOVE="mousemove",t.FOCUS="focus",t.BLUR="blur",t.CONTEXT_MENU="contextmenu",t.RESIZE="resize",t.CHANGE="change",t.INPUT="input",t.PLAY="play",t.PAUSE="pause",t.SECURITY_POLICY_VIOLATION="securitypolicyviolation",t.SELECTION_CHANGE="selectionchange",t.STORAGE="storage"}(ei||(ei={}));var si=[];function ui(t,e,n,r){var i=function(t,e){return"".concat("_dd_c","_").concat(t,"_").concat(e)}(n,r);function o(){var t=localStorage.getItem(i);return null!==t?JSON.parse(t):{}}si.push(oi(t,window,ei.STORAGE,(function(t){var n=t.key;i===n&&e.setContext(o())}))),e.changeObservable.subscribe((function(){localStorage.setItem(i,JSON.stringify(e.getContext()))})),e.setContext(Zr(o(),e.getContext()))}function ci(){var t="",e=0;return{isAsync:!1,get isEmpty(){return!t},write:function(n,r){var i=Nr(n);e+=i,t+=n,r&&r(i)},finish:function(t){t(this.finishSync())},finishSync:function(){var n={output:t,outputBytesCount:e,rawBytesCount:e,pendingData:""};return t="",e=0,n},estimateEncodedBytesCount:function(t){return t.length}}}function li(t){return 0!==t&&100*Math.random()<=t}function fi(t,e){return+t.toFixed(e)}function di(t){return hi(t)&&t>=0&&t<=100}function hi(t){return"number"==typeof t}var pi,vi=1e3;function gi(t){return{relative:t,timeStamp:(e=t,n=yi()-performance.now(),n>Ii()?Math.round(Ci(n,e)):function(t){return Math.round(Ci(Ii(),t))}(e))};var e,n}function mi(t){return hi(t)?fi(1e6*t,0):t}function yi(){return(new Date).getTime()}function bi(){return yi()}function _i(){return performance.now()}function wi(){return{relative:_i(),timeStamp:bi()}}function Ei(){return{relative:0,timeStamp:Ii()}}function Si(t,e){return e-t}function Ci(t,e){return t+e}function ki(t){return t-Ii()}function Ii(){return void 0===pi&&(pi=performance.timing.navigationStart),pi}var xi="?";function Ti(t){var e=[],n=Ui(t,"stack"),r=String(t);return n&&Or(n,r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach((function(t){var n=function(t){var e=Li.exec(t);if(e){var n=e[2]&&0===e[2].indexOf("native"),r=e[2]&&0===e[2].indexOf("eval"),i=Ri.exec(e[2]);return r&&i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3]),{args:n?[e[2]]:[],column:e[4]?+e[4]:void 0,func:e[1]||xi,line:e[3]?+e[3]:void 0,url:n?void 0:e[2]}}}(t)||function(t){var e=Di.exec(t);if(e)return{args:[],column:e[3]?+e[3]:void 0,func:xi,line:e[2]?+e[2]:void 0,url:e[1]}}(t)||function(t){var e=Ni.exec(t);if(e)return{args:[],column:e[4]?+e[4]:void 0,func:e[1]||xi,line:+e[3],url:e[2]}}(t)||function(t){var e=Pi.exec(t);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1,r=Mi.exec(e[3]);return n&&r&&(e[3]=r[1],e[4]=r[2],e[5]=void 0),{args:e[2]?e[2].split(","):[],column:e[5]?+e[5]:void 0,func:e[1]||xi,line:e[4]?+e[4]:void 0,url:e[3]}}}(t);n&&(!n.func&&n.line&&(n.func=xi),e.push(n))})),{message:Ui(t,"message"),name:Ui(t,"name"),stack:e}}var Oi="((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",Ai="(?::(\\d+))",Li=new RegExp("^\\s*at (.*?) ?\\(".concat(Oi).concat(Ai,"?").concat(Ai,"?\\)?\\s*$"),"i"),Ri=new RegExp("\\((\\S*)".concat(Ai).concat(Ai,"\\)")),Di=new RegExp("^\\s*at ?".concat(Oi).concat(Ai,"?").concat(Ai,"??\\s*$"),"i"),Ni=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Pi=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Mi=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Ui(t,e){if("object"==typeof t&&t&&e in t){var n=t[e];return"string"==typeof n?n:void 0}}var Bi=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/,ji="No stack, consider using an instance of Error";function Fi(t){var e=t.stackTrace,n=t.originalError,r=t.handlingStack,i=t.startClocks,o=t.nonErrorPrefix,a=t.source,s=t.handling,u=n instanceof Error,c=function(t,e,n,r){return(null==t?void 0:t.message)&&(null==t?void 0:t.name)?t.message:e?"Empty message":"".concat(n," ").concat(zr($r(r)))}(e,u,o,n),l=function(t,e){return void 0!==e&&(!!t||e.stack.length>0&&(e.stack.length>1||void 0!==e.stack[0].url))}(u,e)?zi(e):ji,f=u?function(t,e){for(var n=t,r=[];(null==n?void 0:n.cause)instanceof Error&&r.length<10;){var i=Ti(n.cause);r.push({message:n.cause.message,source:e,type:null==i?void 0:i.name,stack:i&&zi(i)}),n=n.cause}return r.length?r:void 0}(n,a):void 0;return{startClocks:i,source:a,handling:s,handlingStack:r,originalError:n,type:null==e?void 0:e.name,message:c,stack:l,causes:f,fingerprint:Vi(n)}}function Vi(t){return t instanceof Error&&"dd_fingerprint"in t?String(t.dd_fingerprint):void 0}function zi(t){var e=Ki(t);return t.stack.forEach((function(t){var n="?"===t.func?"<anonymous>":t.func,r=t.args&&t.args.length>0?"(".concat(t.args.join(", "),")"):"",i=t.line?":".concat(t.line):"",o=t.line&&t.column?":".concat(t.column):"";e+="\n  at ".concat(n).concat(r," @ ").concat(t.url).concat(i).concat(o)})),e}function Ki(t){return"".concat(t.name||"Error",": ").concat(t.message)}function Gi(){var t,e=new Error;if(!e.stack)try{throw e}catch(t){}return Er((function(){var n=Ti(e);n.stack=n.stack.slice(2),t=zi(n)})),t}function qi(t){var e=Lr({},t);return["id","name","email"].forEach((function(t){t in e&&(e[t]=String(e[t]))})),e}function Hi(t,e){e.silentMultipleInit||vr.error("".concat(t," is already initialized."))}function Wi(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}var Ji=function(){function t(){this.buffer=[]}return t.prototype.add=function(t){this.buffer.push(t)>500&&this.buffer.splice(0,1)},t.prototype.remove=function(t){Wi(this.buffer,t)},t.prototype.drain=function(t){this.buffer.forEach((function(e){return e(t)})),this.buffer.length=0},t}();function Yi(){var t=Rr().DatadogEventBridge;if(t)return{getAllowedWebViewHosts:function(){return JSON.parse(t.getAllowedWebViewHosts())},send:function(e,n){t.send(JSON.stringify({eventType:e,event:n}))}}}function Xi(t){var e;void 0===t&&(t=null===(e=Rr().location)||void 0===e?void 0:e.hostname);var n=Yi();return!!n&&n.getAllowedWebViewHosts().some((function(e){return t===e||(n=t,r=".".concat(e),n.slice(-r.length)===r);var n,r}))}function Zi(t){return t?(parseInt(t,10)^16*Math.random()>>parseInt(t,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,Zi)}var $i,Qi,to,eo=/([\w-]+)\s*=\s*([^;]+)/g;function no(t,e){for(eo.lastIndex=0;;){var n=eo.exec(t);if(!n)break;if(n[1]===e)return n[2]}}function ro(t,e,n){void 0===n&&(n="");var r=t.charCodeAt(e-1),i=r>=55296&&r<=56319?e+1:e;return t.length<=i?t:"".concat(t.slice(0,i)).concat(n)}function io(t,e,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires=".concat(i.toUTCString()),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain=".concat(r.domain):"",u=r&&r.secure?";secure":"",c=r&&r.partitioned?";partitioned":"";document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/;samesite=").concat(a).concat(s).concat(u).concat(c)}function oo(t){return no(document.cookie,t)}function ao(t){return $i||($i=function(t){var e=new Map;for(eo.lastIndex=0;;){var n=eo.exec(t);if(!n)break;e.set(n[1],n[2])}return e}(document.cookie)),$i.get(t)}function so(t,e){io(t,"",0,e)}function uo(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||ao("datadog-synthetics-injects-rum"))}!function(t){t.PAGEHIDE="pagehide",t.FEATURE_FLAGS="feature_flags",t.RESOURCE_PAGE_STATES="resource_page_states",t.COLLECT_FLUSH_REASON="collect_flush_reason",t.ZERO_LCP_TELEMETRY="zero_lcp_telemetry",t.DISABLE_REPLAY_INLINE_CSS="disable_replay_inline_css",t.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql"}(to||(to={}));var co=new Set;function lo(t){return co.has(t)}var fo,ho=9e5;function po(){return null!=fo?fo:fo=function(t){var e;void 0===t&&(t=window);var n=t.navigator.userAgent;return t.chrome||/HeadlessChrome/.test(n)?1:0===(null===(e=t.navigator.vendor)||void 0===e?void 0:e.indexOf("Apple"))||/safari/i.test(n)&&!/chrome|android/i.test(n)?2:t.document.documentMode?0:3}()}var vo="_dd_s",go=/^([a-z]+)=([a-z0-9-]+)$/;function mo(t){return Hr(t)}function yo(t){t.expire=String(yi()+ho)}function bo(t){return Tr(t).map((function(t){var e=t[0],n=t[1];return"".concat(e,"=").concat(n)})).join("&")}function _o(t){var e={};return function(t){return!!t&&(-1!==t.indexOf("&")||go.test(t))}(t)&&t.split("&").forEach((function(t){var n=go.exec(t);if(null!==n){var r=n[1],i=n[2];e[r]=i}})),e}function wo(){return _o(oo(vo))}function Eo(t){return function(){so(vo,t)}}function So(t){localStorage.setItem(vo,bo(t))}function Co(){return _o(localStorage.getItem(vo))}function ko(){localStorage.removeItem(vo)}var Io,xo=[];function To(t,e,n){var r;void 0===n&&(n=0);var i=e.isLockEnabled,o=e.retrieveSession,a=e.persistSession,s=e.clearSession;if(Io||(Io=t),t===Io)if(i&&n>=100)Ao(e);else{var u,c=o();if(i){if(c.lock)return void Oo(t,e,n);if(u=Zi(),c.lock=u,a(c),(c=o()).lock!==u)return void Oo(t,e,n)}var l=t.process(c);if(i&&(c=o()).lock!==u)Oo(t,e,n);else{if(l&&(mo(l)?s():(yo(l),a(l))),i&&(!l||!mo(l))){if((c=o()).lock!==u)return void Oo(t,e,n);delete c.lock,a(c),l=c}null===(r=t.after)||void 0===r||r.call(t,l||c),Ao(e)}}else xo.push(t)}function Oo(t,e,n){Mr((function(){To(t,e,n+1)}),10)}function Ao(t){Io=void 0;var e=xo.shift();e&&To(e,t)}function Lo(t){var e=function(t){var e=function(t){var e={};return e.secure=!!t.useSecureSessionCookie||!!t.usePartitionedCrossSiteSessionCookie||!!t.useCrossSiteSessionCookie,e.crossSite=!!t.usePartitionedCrossSiteSessionCookie||!!t.useCrossSiteSessionCookie,e.partitioned=!!t.usePartitionedCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(e.domain=function(){if(void 0===Qi){for(var t="dd_site_test_".concat(Zi()),e=window.location.hostname.split("."),n=e.pop();e.length&&!oo(t);)n="".concat(e.pop(),".").concat(n),io(t,"test",vi,{domain:n});so(t,{domain:n}),Qi=n}return Qi}()),e}(t);return function(t){if(void 0===document.cookie||null===document.cookie)return!1;try{var e="dd_cookie_test_".concat(Zi()),n="test";io(e,n,6e4,t);var r=oo(e)===n;return so(e,t),r}catch(t){return vr.error(t),!1}}(e)?{type:"Cookie",cookieOptions:e}:void 0}(t);return!e&&t.allowFallbackToLocalStorage&&(e=function(){try{var t=Zi(),e="".concat("_dd_test_").concat(t);localStorage.setItem(e,t);var n=localStorage.getItem(e);return localStorage.removeItem(e),t===n?{type:"LocalStorage"}:void 0}catch(t){return}}()),e}function Ro(t,e,n){var r,i,o,a,s=new ni,u=new ni,c="Cookie"===t.type?(i=t.cookieOptions,a={isLockEnabled:1===po(),persistSession:(o=i,function(t){io(vo,bo(t),ho,o)}),retrieveSession:wo,clearSession:Eo(i)},function(t){if(!ao(vo)){var e=ao("_dd"),n=ao("_dd_r"),r=ao("_dd_l"),i={};e&&(i.id=e),r&&/^[01]$/.test(r)&&(i.logs=r),n&&/^[012]$/.test(n)&&(i.rum=n),mo(i)||(yo(i),t.persistSession(i))}}(a),a):{isLockEnabled:!1,persistSession:So,retrieveSession:Co,clearSession:ko},l=c.clearSession,f=c.retrieveSession,d=Br((function(){To({process:function(t){return g(t)?void 0:{}},after:p},c)}),1e3),h=g(r=f())?r:{};function p(t){return g(t)||(t={}),v()&&(function(t){return h.id!==t.id||h[e]!==t[e]}(t)?(h={},u.notify()):h=t),t}function v(){return void 0!==h[e]}function g(t){return(void 0===t.created||yi()-Number(t.created)<144e5)&&(void 0===t.expire||yi()<Number(t.expire))}return{expandOrRenewSession:Fr((function(){var t;To({process:function(r){var i=p(r);return t=function(t){var r=n(t[e]),i=r.trackingType,o=r.isTracked;return t[e]=i,o&&!t.id&&(t.id=Zi(),t.created=String(yi())),o}(i),i},after:function(e){t&&!v()&&function(t){h=t,s.notify()}(e),h=e}},c)}),1e3).throttled,expandSession:function(){To({process:function(t){return v()?p(t):void 0}},c)},getSession:function(){return h},renewObservable:s,expireObservable:u,expire:function(){l(),p({})},stop:function(){jr(d)}}}function Do(t){return No(t,location.href).href}function No(t,e){var n=function(){if(void 0===Po)try{var t=new Mo("http://test/path");Po="http://test/path"===t.href}catch(t){Po=!1}return Po?Mo:void 0}();if(n)try{return void 0!==e?new n(t,e):new n(t)}catch(n){throw new Error("Failed to construct URL: ".concat(String(n)," ").concat(zr({url:t,base:e})))}if(void 0===e&&!/:/.test(t))throw new Error("Invalid URL: '".concat(t,"'"));var r=document,i=r.createElement("a");if(void 0!==e){var o=(r=document.implementation.createHTMLDocument("")).createElement("base");o.href=e,r.head.appendChild(o),r.body.appendChild(i)}return i.href=t,i}var Po,Mo=We(),Uo="datad0g.com",Bo="datadoghq.com";function jo(t,e,n){var r=function(t,e){var n="/api/v2/".concat(e),r=t.proxy;if("string"==typeof r){var i=Do(r);return function(t){return"".concat(i,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(t)))}}if("function"==typeof r)return function(t){return r({path:n,parameters:t})};var o=function(t){var e=t.site,n=void 0===e?Bo:e,r=t.internalAnalyticsSubdomain;if(r&&n===Bo)return"".concat(r,".").concat(Bo);if("dd0g-gov.com"===n)return"http-intake.logs.".concat(n);var i=n.split("."),o=i.pop();return"browser-intake-".concat(i.join("-"),".").concat(o)}(t);return function(t){return"https://".concat(o).concat(n,"?").concat(t)}}(t,e);return{build:function(i,o){var a=function(t,e,n,r,i){var o=t.clientToken,a=t.internalAnalyticsSubdomain,s=i.retry,u=i.flushReason,c=i.encoding,l=["sdk_version:".concat("5.9.0"),"api:".concat(r)].concat(n);u&&lo(to.COLLECT_FLUSH_REASON)&&l.push("flush_reason:".concat(u)),s&&l.push("retry_count:".concat(s.count),"retry_after:".concat(s.lastFailureStatus));var f=["ddsource=browser","ddtags=".concat(encodeURIComponent(l.join(","))),"dd-api-key=".concat(o),"dd-evp-origin-version=".concat(encodeURIComponent("5.9.0")),"dd-evp-origin=browser","dd-request-id=".concat(Zi())];return c&&f.push("dd-evp-encoding=".concat(c)),"rum"===e&&f.push("batch_time=".concat(bi())),a&&qe()(f).call(f),f.join("&")}(t,e,n,i,o);return r(a)},urlPrefix:r(""),trackType:e}}var Fo=/[^a-z0-9_:./-]/;function Vo(t,e){var n=200-t.length-1;(e.length>n||Fo.test(e))&&vr.warn("".concat(t," value doesn't meet tag requirements and will be sanitized"));var r=e.replace(/,/g,"_");return"".concat(t,":").concat(r)}var zo={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};function Ko(t){var e,n,r;if(t&&t.clientToken)if(void 0===t.sessionSampleRate||di(t.sessionSampleRate))if(void 0===t.telemetrySampleRate||di(t.telemetrySampleRate)){if(void 0===t.telemetryConfigurationSampleRate||di(t.telemetryConfigurationSampleRate))return Array.isArray(t.enableExperimentalFeatures)&&t.enableExperimentalFeatures.filter((function(t){return qr(to,t)})).forEach((function(t){co.add(t)})),Lr({beforeSend:t.beforeSend&&gr(t.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:Lo(t),sessionSampleRate:null!==(e=t.sessionSampleRate)&&void 0!==e?e:100,telemetrySampleRate:null!==(n=t.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=t.telemetryConfigurationSampleRate)&&void 0!==r?r:5,service:t.service,silentMultipleInit:!!t.silentMultipleInit,allowUntrustedEvents:!!t.allowUntrustedEvents,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},function(t){var e=function(t){var e=t.env,n=t.service,r=t.version,i=t.datacenter,o=[];return e&&o.push(Vo("env",e)),n&&o.push(Vo("service",n)),r&&o.push(Vo("version",r)),i&&o.push(Vo("datacenter",i)),o}(t),n=function(t,e){return{logsEndpointBuilder:jo(t,"logs",e),rumEndpointBuilder:jo(t,"rum",e),sessionReplayEndpointBuilder:jo(t,"replay",e)}}(t,e),r=xr(n).map((function(t){return t.urlPrefix})),i=function(t,e,n){if(t.replica){var r=Lr({},t,{site:Bo,clientToken:t.replica.clientToken}),i={logsEndpointBuilder:jo(r,"logs",n),rumEndpointBuilder:jo(r,"rum",n)};return e.push.apply(e,xr(i).map((function(t){return t.urlPrefix}))),Lr({applicationId:t.replica.applicationId},i)}}(t,r,e);return Lr({isIntakeUrl:function(t){return r.some((function(e){return 0===t.indexOf(e)}))},replica:i,site:t.site||Bo},n)}(t));vr.error("Telemetry Configuration Sample Rate should be a number between 0 and 100")}else vr.error("Telemetry Sample Rate should be a number between 0 and 100");else vr.error("Session Sample Rate should be a number between 0 and 100");else vr.error("Client Token is not configured, we will not send any data.")}function Go(t){var e=Jr(t);return"string"===e||"function"===e||t instanceof RegExp}function qo(t,e,n){return void 0===n&&(n=!1),t.some((function(t){try{if("function"==typeof t)return t(e);if(t instanceof RegExp)return t.test(e);if("string"==typeof t)return n?Or(e,t):t===e}catch(t){vr.error(t)}return!1}))}function Ho(t){0!==t.status||t.isAborted||(t.traceId=void 0,t.spanId=void 0,t.traceSampled=void 0)}function Wo(t,e,n,r){if(void 0!==Jo()&&n.findTrackedSession()){var i,o,a,s,u,c=Ir(t.allowedTracingUrls,(function(t){return qo([t.match],e.url,!0)}));c&&(e.traceId=new Yo,e.spanId=new Yo,e.traceSampled=!hi(t.traceSampleRate)||li(t.traceSampleRate),r((i=e.traceId,o=e.spanId,a=e.traceSampled,s=c.propagatorTypes,u={},s.forEach((function(t){switch(t){case"datadog":Lr(u,{"x-datadog-origin":"rum","x-datadog-parent-id":o.toDecimalString(),"x-datadog-sampling-priority":a?"1":"0","x-datadog-trace-id":i.toDecimalString()});break;case"tracecontext":Lr(u,{traceparent:"00-0000000000000000".concat(i.toPaddedHexadecimalString(),"-").concat(o.toPaddedHexadecimalString(),"-0").concat(a?"1":"0")});break;case"b3":Lr(u,{b3:"".concat(i.toPaddedHexadecimalString(),"-").concat(o.toPaddedHexadecimalString(),"-").concat(a?"1":"0")});break;case"b3multi":Lr(u,{"X-B3-TraceId":i.toPaddedHexadecimalString(),"X-B3-SpanId":o.toPaddedHexadecimalString(),"X-B3-Sampled":a?"1":"0"})}})),u)))}}function Jo(){return window.crypto||window.msCrypto}var Yo=function(){function t(){this.buffer=new Uint8Array(8),Jo().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return t.prototype.toString=function(t){var e=this.readInt32(0),n=this.readInt32(4),r="";do{var i=e%t*4294967296+n;e=Math.floor(e/t),n=Math.floor(i/t),r=(i%t).toString(t)+r}while(e||n);return r},t.prototype.toDecimalString=function(){return this.toString(10)},t.prototype.toPaddedHexadecimalString=function(){var t=this.toString(16);return Array(17-t.length).join("0")+t},t.prototype.readInt32=function(t){return 16777216*this.buffer[t]+(this.buffer[t+1]<<16)+(this.buffer[t+2]<<8)+this.buffer[t+3]},t}(),Xo=["tracecontext","datadog"];function Zo(t){var e=new Set;return Array.isArray(t.allowedTracingUrls)&&t.allowedTracingUrls.length>0&&t.allowedTracingUrls.forEach((function(t){Go(t)?Xo.forEach((function(t){return e.add(t)})):"object"===Jr(t)&&Array.isArray(t.propagatorTypes)&&t.propagatorTypes.forEach((function(t){return e.add(t)}))})),kr(e)}function $o(t,e,n){var r,i,o,a,s=t.ignoreInitIfSyntheticsWillInjectRum,u=t.startDeflateWorker,c=new Ji;function l(){if(o&&a){var t;if(a.trackViewsManually){if(!r)return;c.remove(r.callback),t=r.options}var e=n(o,a,i,t);c.drain(e)}}return{init:function(t){if(t){var e=Xi();if(e&&(t=function(t){return Lr({},t,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100})}(t)),o=t,a)Hi("DD_RUM",t);else if(!s||!uo()){var n=function(t){var e,n;if(t.applicationId)if(void 0===t.sessionReplaySampleRate||di(t.sessionReplaySampleRate))if(void 0===t.traceSampleRate||di(t.traceSampleRate))if(void 0===t.excludedActivityUrls||Array.isArray(t.excludedActivityUrls)){var r=function(t){if(void 0!==t.allowedTracingUrls){if(!Array.isArray(t.allowedTracingUrls))return void vr.error("Allowed Tracing URLs should be an array");if(0!==t.allowedTracingUrls.length&&void 0===t.service)return void vr.error("Service needs to be configured when tracing is enabled");var e=[];return t.allowedTracingUrls.forEach((function(t){var n;Go(t)?e.push({match:t,propagatorTypes:Xo}):"object"===Jr(n=t)&&Go(n.match)&&Array.isArray(n.propagatorTypes)?e.push(t):vr.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",t)})),e}return[]}(t);if(r){var i=Ko(t);if(i)return Lr({applicationId:t.applicationId,version:t.version,actionNameAttribute:t.actionNameAttribute,sessionReplaySampleRate:null!==(e=t.sessionReplaySampleRate)&&void 0!==e?e:0,startSessionReplayRecordingManually:!!t.startSessionReplayRecordingManually,traceSampleRate:t.traceSampleRate,allowedTracingUrls:r,excludedActivityUrls:null!==(n=t.excludedActivityUrls)&&void 0!==n?n:[],workerUrl:t.workerUrl,compressIntakeRequests:!!t.compressIntakeRequests,trackUserInteractions:!!t.trackUserInteractions,trackViewsManually:!!t.trackViewsManually,trackResources:!!t.trackResources,trackLongTasks:!!t.trackLongTasks,subdomain:t.subdomain,defaultPrivacyLevel:qr(zo,t.defaultPrivacyLevel)?t.defaultPrivacyLevel:zo.MASK,customerDataTelemetrySampleRate:1},i)}}else vr.error("Excluded Activity Urls should be an array");else vr.error("Trace Sample Rate should be a number between 0 and 100");else vr.error("Session Replay Sample Rate should be a number between 0 and 100");else vr.error("Application ID is not configured, no RUM data will be collected.")}(t);n&&(e||n.sessionStoreStrategyType?n.compressIntakeRequests&&!e&&u&&!(i=u(n,"Datadog RUM",Vr))||(a=n,l()):vr.warn("No storage available for session. We will not send any data."))}}else vr.error("Missing configuration")},get initConfiguration(){return o},getInternalContext:Vr,stopSession:Vr,addTiming:function(t,e){void 0===e&&(e=bi()),c.add((function(n){return n.addTiming(t,e)}))},startView:function(t,e){void 0===e&&(e=wi());var n=function(n){n.startView(t,e)};c.add(n),r||(r={options:t,callback:n},l())},addAction:function(t,n){void 0===n&&(n=e()),c.add((function(e){return e.addAction(t,n)}))},addError:function(t,n){void 0===n&&(n=e()),c.add((function(e){return e.addError(t,n)}))},addFeatureFlagEvaluation:function(t,e){c.add((function(n){return n.addFeatureFlagEvaluation(t,e)}))}}}function Qo(t,e){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:t,payload:e})}function ta(){var t,e=window.navigator;return{status:e.onLine?"connected":"not_connected",interfaces:e.connection&&e.connection.type?[e.connection.type]:void 0,effective_type:null===(t=e.connection)||void 0===t?void 0:t.effectiveType}}var ea,na="configuration",ra=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],ia=["ddog-gov.com"],oa={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1};function aa(t,e){Sr(fr.debug,t,e),ua(Lr({type:"log",message:t,status:"debug"},e))}function sa(t,e){ua(Lr({type:"log",status:"error"},function(t){if(t instanceof Error){var e=Ti(t);return{error:{kind:e.name,stack:zi(ca(e))},message:e.message}}return{error:{stack:ji},message:"".concat("Uncaught"," ").concat(zr(t))}}(t),e))}function ua(t){ea&&oa.sentEventCount<oa.maxEventsPerPage&&(oa.sentEventCount+=1,ea(t))}function ca(t){return t.stack=t.stack.filter((function(t){return!t.url||ra.some((function(e){return Or(t.url,e)}))})),t}var la={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function fa(t){return Cr(xr(la),t)}function da(){var t,e=window;if(e.Zone&&(t=Pr(e,"MutationObserver"),e.MutationObserver&&t===e.MutationObserver)){var n=Pr(new e.MutationObserver(Vr),"originalInstance");t=n&&n.constructor}return t||(t=e.MutationObserver),t}function ha(t,e,n){if(document.readyState===e||"complete"===document.readyState)n();else{var r="complete"===e?ei.LOAD:ei.DOM_CONTENT_LOADED;oi(t,window,r,n,{once:!0})}}var pa,va="initial_document",ga=[["document",function(t){return va===t}],["xhr",function(t){return"xmlhttprequest"===t}],["fetch",function(t){return"fetch"===t}],["beacon",function(t){return"beacon"===t}],["css",function(t,e){return/\.css$/i.test(e)}],["js",function(t,e){return/\.js$/i.test(e)}],["image",function(t,e){return Cr(["image","img","icon"],t)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(e)}],["font",function(t,e){return null!==/\.(woff|eot|woff2|ttf)$/i.exec(e)}],["media",function(t,e){return Cr(["audio","video"],t)||null!==/\.(mp3|mp4)$/i.exec(e)}]];function ma(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=1;n<t.length;n+=1)if(t[n-1]>t[n])return!1;return!0}function ya(t){var e=ba(t);if(e){var n=e.startTime,r=e.fetchStart,i=e.redirectStart,o=e.redirectEnd,a=e.domainLookupStart,s=e.domainLookupEnd,u=e.connectStart,c=e.secureConnectionStart,l=e.connectEnd,f=e.requestStart,d=e.responseStart,h={download:wa(n,d,e.responseEnd),first_byte:wa(n,f,d)};return l!==r&&(h.connect=wa(n,u,l),ma(u,c,l)&&(h.ssl=wa(n,c,l))),s!==r&&(h.dns=wa(n,a,s)),_a(t)&&(h.redirect=wa(n,i,o)),h}}function ba(t){if(ma(t.startTime,t.fetchStart,t.domainLookupStart,t.domainLookupEnd,t.connectStart,t.connectEnd,t.requestStart,t.responseStart,t.responseEnd)){if(!_a(t))return t;var e=t.redirectStart,n=t.redirectEnd;if(e<t.startTime&&(e=t.startTime),n<t.startTime&&(n=t.fetchStart),ma(t.startTime,e,n,t.fetchStart))return Lr({},t,{redirectEnd:n,redirectStart:e})}}function _a(t){return t.fetchStart!==t.startTime}function wa(t,e,n){return{duration:mi(Si(e,n)),start:mi(Si(t,e))}}function Ea(t){if(t.startTime<t.responseStart)return t.decodedBodySize}function Sa(t,e){return e&&!t.isIntakeUrl(e)}function Ca(t){return t.nodeType===Node.TEXT_NODE}function ka(t){return t.nodeType===Node.ELEMENT_NODE}function Ia(t){return ka(t)&&Boolean(t.shadowRoot)}function xa(t){var e=t;return!!e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&ka(e.host)}function Ta(t,e){t.childNodes.forEach(e),Ia(t)&&e(t.shadowRoot)}function Oa(t){return xa(t)?t.host:t.parentNode}function Aa(t){var e=function(t){var e=t.querySelector("meta[name=dd-trace-id]"),n=t.querySelector("meta[name=dd-trace-time]");return La(e&&e.content,n&&n.content)}(t)||function(t){var e=function(t){for(var e=0;e<t.childNodes.length;e+=1)if(n=Ra(t.childNodes[e]))return n;if(t.body)for(e=t.body.childNodes.length-1;e>=0;e-=1){var n,r=t.body.childNodes[e];if(n=Ra(r))return n;if(!Ca(r))break}}(t);if(e)return La(no(e,"trace-id"),no(e,"trace-time"))}(t);if(e&&!(e.traceTime<=yi()-12e4))return e.traceId}function La(t,e){var n=e&&Number(e);if(t&&n)return{traceId:t,traceTime:n}}function Ra(t){if(t&&function(t){return t.nodeType===Node.COMMENT_NODE}(t)){var e=/^\s*DATADOG;(.*?)\s*$/.exec(t.data);if(e)return e[1]}}function Da(){return void 0!==window.performance&&"getEntries"in performance}function Na(t){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(t)}function Pa(t,e){var n=[];if(function(t,e){ha(t,"interactive",(function(){var t,n={entryType:pa.RESOURCE,initiatorType:va,traceId:Aa(document),toJSON:function(){return Lr({},t,{toJSON:void 0})}};if(Na(pa.NAVIGATION)&&performance.getEntriesByType(pa.NAVIGATION).length>0){var r=performance.getEntriesByType(pa.NAVIGATION)[0];t=Lr(r.toJSON(),n)}else{var i=Ma();t=Lr(i,{decodedBodySize:0,duration:i.responseEnd,name:window.location.href,startTime:0},n)}e(t)}))}(e,(function(n){Ua(t,e,[n])})),Da()){var r=performance.getEntries();Mr((function(){return Ua(t,e,r)}))}if(window.PerformanceObserver){var i=wr((function(n){return Ua(t,e,n.getEntries())})),o=[pa.RESOURCE,pa.NAVIGATION,pa.LONG_TASK,pa.PAINT],a=[pa.LARGEST_CONTENTFUL_PAINT,pa.FIRST_INPUT,pa.LAYOUT_SHIFT,pa.EVENT];try{a.forEach((function(t){var e=new window.PerformanceObserver(i);e.observe({type:t,buffered:!0,durationThreshold:40}),n.push((function(){return e.disconnect()}))}))}catch(t){o.push.apply(o,a)}var s=new PerformanceObserver(i);if(s.observe({entryTypes:o}),n.push((function(){return s.disconnect()})),Da()&&"addEventListener"in performance){var u=oi(e,performance,"resourcetimingbufferfull",(function(){performance.clearResourceTimings()})).stop;n.push(u)}}if(Na(pa.NAVIGATION)||function(t,e){function n(){e(Lr(Ma(),{entryType:pa.NAVIGATION}))}ha(t,"complete",(function(){Mr(n)}))}(e,(function(n){Ua(t,e,[n])})),!Na(pa.FIRST_INPUT)){var c=function(t,e){var n=yi(),r=!1,i=ai(t,window,[ei.CLICK,ei.MOUSE_DOWN,ei.KEY_DOWN,ei.TOUCH_START,ei.POINTER_DOWN],(function(e){if(e.cancelable){var n={entryType:pa.FIRST_INPUT,processingStart:_i(),processingEnd:_i(),startTime:e.timeStamp,duration:0,name:""};e.type===ei.POINTER_DOWN?function(t,e){ai(t,window,[ei.POINTER_UP,ei.POINTER_CANCEL],(function(t){t.type===ei.POINTER_UP&&o(e)}),{once:!0})}(t,n):o(n)}}),{passive:!0,capture:!0}).stop;return{stop:i};function o(t){if(!r){r=!0,i();var o=t.processingStart-t.startTime;o>=0&&o<yi()-n&&e(t)}}}(e,(function(n){Ua(t,e,[n])})).stop;n.push(c)}return{stop:function(){n.forEach((function(t){return t()}))}}}function Ma(){var t={},e=performance.timing;for(var n in e)if(hi(e[n])){var r=n,i=e[r];t[r]=0===i?0:ki(i)}return t}function Ua(t,e,n){var r=n.filter((function(t){return qr(pa,t.entryType)})).filter((function(t){return!function(t){return t.entryType===pa.NAVIGATION&&t.loadEventEnd<=0}(t)&&!function(t,e){return e.entryType===pa.RESOURCE&&!Sa(t,e.name)}(e,t)}));r.length&&t.notify(0,r)}!function(t){t.EVENT="event",t.FIRST_INPUT="first-input",t.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",t.LAYOUT_SHIFT="layout-shift",t.LONG_TASK="longtask",t.NAVIGATION="navigation",t.PAINT="paint",t.RESOURCE="resource"}(pa||(pa={}));var Ba="agent";function ja(t,e,n){var r=0,i=!1;return{isLimitReached:function(){if(0===r&&Mr((function(){r=0}),6e4),(r+=1)<=e||i)return i=!1,!1;if(r===e+1){i=!0;try{n({message:"Reached max number of ".concat(t,"s by minute: ").concat(e),source:Ba,startClocks:wi()})}finally{i=!1}}return!0}}}function Fa(t,e,n){for(var r=t,i=e.split("."),o=0;o<i.length;o+=1){var a=i[o];if(!Va(r))return;o!==i.length-1?r=r[a]:r[a]=n}}function Va(t){return"object"===Jr(t)}function za(t,e){return Va(t)&&Object.prototype.hasOwnProperty.call(t,e)}var Ka,Ga={"view.name":"string","view.url":"string","view.referrer":"string"},qa={context:"object"};function Ha(t,e,n,r,i,o,a,s,u){var c,l;(c={}).view=Ga,c.error=Lr({"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string"},qa,Ga),c.resource=Lr({"resource.url":"string"},lo(to.WRITABLE_RESOURCE_GRAPHQL)&&{"resource.graphql":"object"},qa,Ga),c.action=Lr({"action.target.name":"string"},qa,Ga),c.long_task=Lr({},qa,Ga),Ka=c;var f=((l={}).error=ja("error",t.eventRateLimiterThreshold,u),l.action=ja("action",t.eventRateLimiterThreshold,u),l),d=function(){var t,e="string"==typeof(t=window._DATADOG_SYNTHETICS_PUBLIC_ID||ao("datadog-synthetics-public-id"))?t:void 0,n=function(){var t=window._DATADOG_SYNTHETICS_RESULT_ID||ao("datadog-synthetics-result-id");return"string"==typeof t?t:void 0}();if(e&&n)return{test_id:e,result_id:n,injected:uo()}}(),h=function(){var t,e=null===(t=window.Cypress)||void 0===t?void 0:t.env("traceId");if("string"==typeof e)return{test_execution_id:e}}();e.subscribe(10,(function(u){var c,l=u.startTime,p=u.rawRumEvent,v=u.domainContext,g=u.savedCommonContext,m=u.customerContext,y=r.findView(l),b=i.findUrl(l),_=n.findTrackedSession(l);if(_&&y&&b){var w=g||s(),E=o.findActionId(l),S=Zr({_dd:{format_version:2,drift:Math.round(yi()-Ci(Ii(),performance.now())),configuration:{session_sample_rate:fi(t.sessionSampleRate,3),session_replay_sample_rate:fi(t.sessionReplaySampleRate,3)},browser_sdk_version:Xi()?"5.9.0":void 0},application:{id:t.applicationId},date:bi(),service:y.service||t.service,version:y.version||t.version,source:"browser",session:{id:_.id,type:d?"synthetics":h?"ci_test":"user"},view:{id:y.id,name:y.name,url:b.url,referrer:b.referrer},action:(c=p,-1!==["error","resource","long_task"].indexOf(c.type)&&E?{id:E}:void 0),synthetics:d,ci_test:h,display:a.get(),connectivity:ta()},p);S.context=Zr(w.context,m),"has_replay"in S.session||(S.session.has_replay=w.hasReplay),"view"===S.type&&(S.session.sampled_for_replay=_.sessionReplayAllowed),Hr(w.user)||(S.usr=w.user),function(t,e,n,r){var i;if(e){var o=function(t,e,n){var r=Xr(t),i=n(r);return Tr(e).forEach((function(e){var n=e[0],i=e[1],o=function(t,e){for(var n=t,r=0,i=e.split(".");r<i.length;r++){var o=i[r];if(!za(n,o))return;n=n[o]}return n}(r,n),a=Jr(o);a===i?Fa(t,n,$r(o)):"object"!==i||"undefined"!==a&&"null"!==a||Fa(t,n,{})})),i}(t,Ka[t.type],(function(t){return e(t,n)}));if(!1===o&&"view"!==t.type)return!1;!1===o&&vr.warn("Can't dismiss view events using beforeSend!")}return!(null===(i=r[t.type])||void 0===i?void 0:i.isLimitReached())}(S,t.beforeSend,v,f)&&(Hr(S.context)&&delete S.context,e.notify(11,S))}}))}var Wa,Ja=function(){function t(){this.callbacks={}}return t.prototype.notify=function(t,e){var n=this.callbacks[t];n&&n.forEach((function(t){return t(e)}))},t.prototype.subscribe=function(t,e){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter((function(t){return e!==t}))}}},t}(),Ya=1/0,Xa=function(){function t(t,e){var n=this;this.expireDelay=t,this.maxEntries=e,this.entries=[],this.clearOldValuesInterval=Br((function(){return n.clearOldValues()}),6e4)}return t.prototype.add=function(t,e){var n=this,r={value:t,startTime:e,endTime:Ya,remove:function(){Wi(n.entries,r)},close:function(t){r.endTime=t}};return this.maxEntries&&this.entries.length>=this.maxEntries&&this.entries.pop(),this.entries.unshift(r),r},t.prototype.find=function(t){void 0===t&&(t=Ya);for(var e=0,n=this.entries;e<n.length;e++){var r=n[e];if(r.startTime<=t){if(t<=r.endTime)return r.value;break}}},t.prototype.closeActive=function(t){var e=this.entries[0];e&&e.endTime===Ya&&e.close(t)},t.prototype.findAll=function(t,e){void 0===t&&(t=Ya),void 0===e&&(e=0);var n=Ci(t,e);return this.entries.filter((function(e){return e.startTime<=n&&t<=e.endTime})).map((function(t){return t.value}))},t.prototype.reset=function(){this.entries=[]},t.prototype.stop=function(){jr(this.clearOldValuesInterval)},t.prototype.clearOldValues=function(){for(var t=_i()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<t;)this.entries.pop()},t}();function Za(t,e,n){var r=t[e],i=function(t,e){return function(){var n,r,i=arguments;return Er(e,null,[{target:this,parameters:i,onPostCall:function(t){r=t}}]),"function"==typeof t&&(n=t.apply(this,i)),r&&Er(r,null,[n]),n}}(r,n),o=function(){if("function"==typeof i)return i.apply(this,arguments)};return t[e]=o,{stop:function(){t[e]===o?t[e]=r:i=r}}}function $a(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e);if(!r||!r.set||!r.configurable)return{stop:Vr};var i=function(t,e){Mr((function(){n(t,e)}),0)},o=function(t){r.set.call(this,t),i(this,t)};return Object.defineProperty(t,e,{set:o}),{stop:function(){var n;(null===(n=Object.getOwnPropertyDescriptor(t,e))||void 0===n?void 0:n.set)===o?Object.defineProperty(t,e,r):i=Vr}}}var Qa,ts=new WeakMap;function es(t){var e=t.target,n=t.parameters,r=n[0],i=n[1];ts.set(e,{state:"open",method:String(r).toUpperCase(),url:Do(String(i))})}function ns(t){var e=t.target,n=ts.get(e);n&&(n.isAborted=!0)}var rs=1;function is(t,e,n){var r=function(t,e){return{clearTracingIfNeeded:Ho,traceFetch:function(n){return Wo(t,n,e,(function(t){var e;if(n.input instanceof Request&&!(null===(e=n.init)||void 0===e?void 0:e.headers))n.input=new Request(n.input),Object.keys(t).forEach((function(e){n.input.headers.append(e,t[e])}));else{n.init=Gr(n.init);var r=[];n.init.headers instanceof Headers?n.init.headers.forEach((function(t,e){r.push([e,t])})):Array.isArray(n.init.headers)?n.init.headers.forEach((function(t){r.push(t)})):n.init.headers&&Object.keys(n.init.headers).forEach((function(t){r.push([t,n.init.headers[t]])})),n.init.headers=r.concat(Tr(t))}}))},traceXhr:function(n,r){return Wo(t,n,e,(function(t){Object.keys(t).forEach((function(e){r.setRequestHeader(e,t[e])}))}))}}}(e,n);!function(t,e,n){(function(t){return Wa||(Wa=function(t){return new ni((function(e){var n=Za(XMLHttpRequest.prototype,"open",es).stop,r=Za(XMLHttpRequest.prototype,"send",(function(n){!function(t,e,n){var r=t.target,i=ts.get(r);if(i){var o=i;o.state="start",o.startClocks=wi(),o.isAborted=!1,o.xhr=r;var a=!1,s=Za(r,"onreadystatechange",(function(){r.readyState===XMLHttpRequest.DONE&&u()})).stop,u=function(){if(c(),s(),!a){a=!0;var t=i;t.state="complete",t.duration=Si(o.startClocks.timeStamp,bi()),t.status=r.status,n.notify(Gr(t))}},c=oi(e,r,"loadend",u).stop;n.notify(o)}}(n,t,e)})).stop,i=Za(XMLHttpRequest.prototype,"abort",ns).stop;return function(){n(),r(),i()}}))}(t)),Wa})(e).subscribe((function(r){var i=r;if(Sa(e,i.url))switch(i.state){case"start":n.traceXhr(i,i.xhr),i.requestIndex=os(),t.notify(5,{requestIndex:i.requestIndex,url:i.url});break;case"complete":n.clearTracingIfNeeded(i),t.notify(6,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"xhr",url:i.url,xhr:i.xhr})}}))}(t,e,r),function(t,e,n){(Qa||(Qa=new ni((function(t){if(window.fetch){var e=Za(window,"fetch",(function(e){return function(t,e){var n=t.parameters,r=t.onPostCall,i=n[0],o=n[1],a=o&&o.method;void 0===a&&i instanceof Request&&(a=i.method);var s=void 0!==a?String(a).toUpperCase():"GET",u=i instanceof Request?i.url:Do(String(i)),c={state:"start",init:o,input:i,method:s,startClocks:wi(),url:u};e.notify(c),n[0]=c.input,n[1]=c.init,r((function(t){return function(t,e,n){var r=function(e){var r=n;r.state="resolve","stack"in e||e instanceof Error?(r.status=0,r.isAborted=e instanceof DOMException&&e.code===DOMException.ABORT_ERR,r.error=e):"status"in e&&(r.response=e,r.responseType=e.type,r.status=e.status,r.isAborted=!1),t.notify(r)};e.then(wr(r),wr(r))}(e,t,c)}))}(e,t)})).stop;return e}}))),Qa).subscribe((function(r){var i=r;if(Sa(e,i.url))switch(i.state){case"start":n.traceFetch(i),i.requestIndex=os(),t.notify(5,{requestIndex:i.requestIndex,url:i.url});break;case"resolve":!function(t,e){var n=t.response&&function(t){try{return t.clone()}catch(t){return}}(t.response);n&&n.body?function(t,e,n){var r=t.getReader(),i=[],o=0;function a(){if(r.cancel().catch(Vr),n.collectStreamBody){var t;if(1===i.length)t=i[0];else{t=new Uint8Array(o);var a=0;i.forEach((function(e){t.set(e,a),a+=e.length}))}t.slice(0,n.bytesLimit),t.length>n.bytesLimit}e()}!function t(){r.read().then(wr((function(e){e.done?a():(n.collectStreamBody&&i.push(e.value),(o+=e.value.length)>n.bytesLimit?a():t())})),wr((function(t){return e()})))}()}(n.body,(function(){e(Si(t.startClocks.timeStamp,bi()))}),{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):e(Si(t.startClocks.timeStamp,bi()))}(i,(function(e){n.clearTracingIfNeeded(i),t.notify(6,{duration:e,method:i.method,requestIndex:i.requestIndex,responseType:i.responseType,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"fetch",url:i.url,response:i.response,init:i.init,input:i.input})}))}}))}(t,e,r)}function os(){var t=rs;return rs+=1,t}function as(t){var e=t.lifeCycle,n=t.isChildEvent,r=t.onChange,i=void 0===r?Vr:r,o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},a=e.subscribe(11,(function(t){var e;if("view"!==t.type&&n(t))switch(t.type){case"error":o.errorCount+=1,i();break;case"action":o.actionCount+=1,t.action.frustration&&(o.frustrationCount+=t.action.frustration.type.length),i();break;case"long_task":o.longTaskCount+=1,i();break;case"resource":(null===(e=t._dd)||void 0===e?void 0:e.discarded)||(o.resourceCount+=1,i())}}));return{stop:function(){a.unsubscribe()},eventCounts:o}}function ss(t,e,n,r,i){var o=function(t,e,n){return new ni((function(r){var i,o=[],a=0;o.push(e.subscribe(c),t.subscribe(0,(function(t){t.some((function(t){return t.entryType===pa.RESOURCE&&!us(n,t.name)}))&&c()})),t.subscribe(5,(function(t){us(n,t.url)||(void 0===i&&(i=t.requestIndex),a+=1,c())})),t.subscribe(6,(function(t){us(n,t.url)||void 0===i||t.requestIndex<i||(a-=1,c())})));var s,u=(s=c,Za(window,"open",s)).stop;return function(){u(),o.forEach((function(t){return t.unsubscribe()}))};function c(){r.notify({isBusy:a>0})}}))}(t,e,n);return function(t,e,n){var r,i=!1,o=Mr(wr((function(){return c({hadActivity:!1})})),100),a=void 0!==n?Mr(wr((function(){return c({hadActivity:!0,end:bi()})})),n):void 0,s=t.subscribe((function(t){var e=t.isBusy;Ur(o),Ur(r);var n=bi();e||(r=Mr(wr((function(){return c({hadActivity:!0,end:n})})),100))})),u=function(){i=!0,Ur(o),Ur(r),Ur(a),s.unsubscribe()};function c(t){i||(u(),e(t))}return{stop:u}}(o,r,i)}function us(t,e){return qo(t.excludedActivityUrls,e)}var cs=n(7241),ls=n.n(cs),fs="data-dd-action-name";function ds(t,e){var n;if(void 0===ps&&(ps="closest"in HTMLElement.prototype),ps)n=t.closest("[".concat(e,"]"));else for(var r=t;r;){if(r.hasAttribute(e)){n=r;break}r=r.parentElement}if(n){var i=n.getAttribute(e);return bs(ys(ls()(i).call(i)))}}var hs,ps,vs=[function(t,e){if(void 0===hs&&(hs="labels"in HTMLInputElement.prototype),hs){if("labels"in t&&t.labels&&t.labels.length>0)return _s(t.labels[0],e)}else if(t.id){var n=t.ownerDocument&&Ir(t.ownerDocument.querySelectorAll("label"),(function(e){return e.htmlFor===t.id}));return n&&_s(n,e)}},function(t){if("INPUT"===t.nodeName){var e=t,n=e.getAttribute("type");if("button"===n||"submit"===n||"reset"===n)return e.value}},function(t,e){if("BUTTON"===t.nodeName||"LABEL"===t.nodeName||"button"===t.getAttribute("role"))return _s(t,e)},function(t){return t.getAttribute("aria-label")},function(t,e){var n=t.getAttribute("aria-labelledby");if(n)return n.split(/\s+/).map((function(e){return function(t,e){return t.ownerDocument?t.ownerDocument.getElementById(e):null}(t,e)})).filter((function(t){return Boolean(t)})).map((function(t){return _s(t,e)})).join(" ")},function(t){return t.getAttribute("alt")},function(t){return t.getAttribute("name")},function(t){return t.getAttribute("title")},function(t){return t.getAttribute("placeholder")},function(t,e){if("options"in t&&t.options.length>0)return _s(t.options[0],e)}],gs=[function(t,e){return _s(t,e)}];function ms(t,e,n){for(var r=t,i=0;i<=10&&r&&"BODY"!==r.nodeName&&"HTML"!==r.nodeName&&"HEAD"!==r.nodeName;){for(var o=0,a=n;o<a.length;o++){var s=(0,a[o])(r,e);if("string"==typeof s){var u=ls()(s).call(s);if(u)return bs(ys(u))}}if("FORM"===r.nodeName)break;r=r.parentElement,i+=1}}function ys(t){return t.replace(/\s+/g," ")}function bs(t){return t.length>100?"".concat(ro(t,100)," [...]"):t}function _s(t,e){if(!t.isContentEditable){if("innerText"in t){var n=t.innerText,r=function(e){for(var r=t.querySelectorAll(e),i=0;i<r.length;i+=1){var o=r[i];if("innerText"in o){var a=o.innerText;a&&ls()(a).call(a).length>0&&(n=n.replace(a,""))}}};return 0===po()&&r("script, style"),r("[".concat(fs,"]")),e&&r("[".concat(e,"]")),n}return t.textContent}}var ws,Es=[fs,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],Ss=[xs,function(t){if(t.id&&!Is(t.id))return"#".concat(Ar(t.id))}],Cs=[xs,function(t){if("BODY"!==t.tagName&&t.classList.length>0)for(var e=0;e<t.classList.length;e+=1){var n=t.classList[e];if(!Is(n))return"".concat(Ar(t.tagName),".").concat(Ar(n))}},function(t){return Ar(t.tagName)}];function ks(t,e){for(var n="",r=t;r&&"HTML"!==r.nodeName;){var i=Os(r,Ss,As,e,n);if(i)return i;n=Os(r,Cs,Ls,e,n)||Rs(Ts(r),n),r=r.parentElement}return n}function Is(t){return/[0-9]/.test(t)}function xs(t,e){if(e&&(i=o(e)))return i;for(var n=0,r=Es;n<r.length;n++){var i;if(i=o(r[n]))return i}function o(e){if(t.hasAttribute(e))return"".concat(Ar(t.tagName),"[").concat(e,'="').concat(Ar(t.getAttribute(e)),'"]')}}function Ts(t){for(var e=t.parentElement.firstElementChild,n=1;e&&e!==t;)e.tagName===t.tagName&&(n+=1),e=e.nextElementSibling;return"".concat(Ar(t.tagName),":nth-of-type(").concat(n,")")}function Os(t,e,n,r,i){for(var o=0,a=e;o<a.length;o++){var s=(0,a[o])(t,r);if(s){var u=Rs(s,i);if(n(t,u))return u}}}function As(t,e){return 1===t.ownerDocument.querySelectorAll(e).length}function Ls(t,e){return 1===t.parentElement.querySelectorAll(function(){if(void 0===ws)try{document.querySelector(":scope"),ws=!0}catch(t){ws=!1}return ws}()?Rs(":scope",e):e).length}function Rs(t,e){return e?"".concat(t,">").concat(e):t}function Ds(){var t=window.getSelection();return!t||t.isCollapsed}function Ns(t){return t.target instanceof Element&&!1!==t.isPrimary}function Ps(t){return!t.hasPageActivity&&!t.getUserActivity().input&&(n='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *',!((e=t.event.target).matches?e.matches(n):e.msMatchesSelector&&e.msMatchesSelector(n)));var e,n}function Ms(t,e,n){var r,i=new Xa(3e5),o=new ni;t.subscribe(8,(function(){i.reset()})),t.subscribe(4,u);var a=function(t,e){var n,r,i=e.onPointerDown,o=e.onPointerUp,a={selection:!1,input:!1},s=[oi(t,window,ei.POINTER_DOWN,(function(t){Ns(t)&&(n=Ds(),a={selection:!1,input:!1},r=i(t))}),{capture:!0}),oi(t,window,ei.SELECTION_CHANGE,(function(){n&&Ds()||(a.selection=!0)}),{capture:!0}),oi(t,window,ei.POINTER_UP,(function(t){if(Ns(t)&&r){var e=a;o(r,t,(function(){return e})),r=void 0}}),{capture:!0}),oi(t,window,ei.INPUT,(function(){a.input=!0}),{capture:!0})];return{stop:function(){s.forEach((function(t){return t.stop()}))}}}(n,{onPointerDown:function(r){return function(t,e,n,r){var i,o,a,s,u,c=(a=r,s=t.actionNameAttribute,u=a.target.getBoundingClientRect(),{type:"click",target:{width:Math.round(u.width),height:Math.round(u.height),selector:ks(a.target,s)},position:{x:Math.round(a.clientX-u.left),y:Math.round(a.clientY-u.top)},name:(i=a.target,o=s,ds(i,fs)||o&&ds(i,o)||ms(i,o,vs)||ms(i,o,gs)||"")}),l=!1;return ss(e,n,t,(function(t){l=t.hadActivity}),100),{clickActionBase:c,hadActivityOnPointerDown:function(){return l}}}(n,t,e,r)},onPointerUp:function(r,a,u){var c=r.clickActionBase,l=r.hadActivityOnPointerDown;return function(t,e,n,r,i,o,a,s,u,c){var l=Us(e,r,u,a,s);o(l);var f=ss(e,n,t,(function(t){t.hadActivity&&t.end<l.startClocks.timeStamp?l.discard():t.hadActivity?l.stop(t.end):c()?l.stop(l.startClocks.timeStamp):l.stop()}),1e4).stop,d=e.subscribe(4,(function(t){var e=t.endClocks;l.stop(e.timeStamp)})),h=i.subscribe((function(){l.stop()}));l.stopObservable.subscribe((function(){d.unsubscribe(),f(),h.unsubscribe()}))}(n,t,e,i,o,s,c,a,u,l)}}).stop;return{stop:function(){u(),o.notify(),a()},actionContexts:{findActionId:function(t){return i.findAll(t)}}};function s(t){if(!r||!r.tryAppend(t)){var e=t.clone();r=function(t,e){var n,r=[],i=0;function o(t){t.stopObservable.subscribe(a),r.push(t),Ur(n),n=Mr(s,1e3)}function a(){1===i&&r.every((function(t){return t.isStopped()}))&&(i=2,e(r))}function s(){Ur(n),0===i&&(i=1,a())}return o(t),{tryAppend:function(t){return 0===i&&(r.length>0&&(e=r[r.length-1].event,n=t.event,!(e.target===n.target&&(a=e,u=n,Math.sqrt(Math.pow(a.clientX-u.clientX,2)+Math.pow(a.clientY-u.clientY,2))<=100)&&e.timeStamp-n.timeStamp<=1e3))?(s(),!1):(o(t),!0));var e,n,a,u},stop:function(){s()}}}(t,(function(t){!function(t,e){!function(t,e){if(function(t){if(t.some((function(t){return t.getUserActivity().selection})))return!1;for(var e=0;e<t.length-2;e+=1)if(t[e+3-1].event.timeStamp-t[e].event.timeStamp<=vi)return!0;return!1}(t))return e.addFrustration("rage_click"),t.some(Ps)&&e.addFrustration("dead_click"),e.hasError&&e.addFrustration("error_click"),{isRage:!0};var n=t.some((function(t){return t.getUserActivity().selection}));return t.forEach((function(t){t.hasError&&t.addFrustration("error_click"),Ps(t)&&!n&&t.addFrustration("dead_click")})),{isRage:!1}}(t,e).isRage?(e.discard(),t.forEach((function(t){return t.validate()}))):(t.forEach((function(t){return t.discard()})),e.stop(bi()),e.validate(t.map((function(t){return t.event}))))}(t,e)}))}}function u(){r&&r.stop()}}function Us(t,e,n,r,i){var o,a=Zi(),s=wi(),u=e.add(a,s.relative),c=as({lifeCycle:t,isChildEvent:function(t){return void 0!==t.action&&(Array.isArray(t.action.id)?Cr(t.action.id,a):t.action.id===a)}}),l=0,f=[],d=new ni;function h(t){0===l&&(l=1,(o=t)?u.close(ki(o)):u.remove(),c.stop(),d.notify())}return{event:i,stop:h,stopObservable:d,get hasError(){return c.eventCounts.errorCount>0},get hasPageActivity(){return void 0!==o},getUserActivity:n,addFrustration:function(t){f.push(t)},startClocks:s,isStopped:function(){return 1===l||2===l},clone:function(){return Us(t,e,n,r,i)},validate:function(e){if(h(),1===l){var n=c.eventCounts,u=n.resourceCount,d=n.errorCount,p=n.longTaskCount,v=Lr({type:"click",duration:o&&Si(s.timeStamp,o),startClocks:s,id:a,frustrationTypes:f,counts:{resourceCount:u,errorCount:d,longTaskCount:p},events:null!=e?e:[i],event:i},r);t.notify(1,v),l=2}},discard:function(){h(),l=2}}}function Bs(t,e){var n=js(t)?{action:{id:t.id,loading_time:mi(t.duration),frustration:{type:t.frustrationTypes},error:{count:t.counts.errorCount},long_task:{count:t.counts.longTaskCount},resource:{count:t.counts.resourceCount}},_dd:{action:{target:t.target,position:t.position}}}:void 0;return{customerContext:js(t)?void 0:t.context,rawRumEvent:Zr({action:{id:Zi(),target:{name:t.name},type:t.type},date:t.startClocks.timeStamp,type:"action",view:{in_foreground:e.isInActivePageStateAt(t.startClocks.relative)}},n),startTime:t.startClocks.relative,domainContext:js(t)?{events:t.events}:{}}}function js(t){return"custom"!==t.type}function Fs(t){var e,n=function(e,n){var r=Fi({stackTrace:e,originalError:n,startClocks:wi(),nonErrorPrefix:"Uncaught",source:"source",handling:"unhandled"});t.notify(r)},r=(e=n,Za(window,"onerror",(function(t){var n,r=t.parameters,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4];n=u instanceof Error?Ti(u):function(t,e,n,r){var i=[{url:e,column:r,line:n}],o=function(t){var e,n,r;return"[object String]"==={}.toString.call(t)&&(n=(e=Bi.exec(t))[1],r=e[2]),{name:n,message:r}}(t);return{name:o.name,message:o.message,stack:i}}(i,o,a,s),e(n,null!=u?u:i)}))).stop,i=function(t){return Za(window,"onunhandledrejection",(function(e){var n=e.parameters[0].reason||"Empty reason",r=Ti(n);t(r,n)}))}(n).stop;return{stop:function(){r(),i()}}}var Vs={};function zs(t,e,n){var r,i,o=t.map((function(t){return function(t){return"string"==typeof t?$r(t):t instanceof Error?Ki(Ti(t)):zr($r(t),void 0,2)}(t)})).join(" ");if(e===fr.error){var a=Ir(t,(function(t){return t instanceof Error}));r=a?zi(Ti(a)):void 0,i=Vi(a)}return{api:e,message:o,stack:r,handlingStack:n,fingerprint:i}}var Ks="csp_violation";function Gs(t,e,n,r,i){return n?zi({name:t,message:e,stack:[{func:"?",url:n,line:null!=r?r:void 0,column:null!=i?i:void 0}]}):void 0}function qs(t,e,n,r){var i=new ni;return function(t){var e,n;(e=[fr.error],n=e.map((function(t){return Vs[t]||(Vs[t]=function(t){return new ni((function(e){var n=dr[t];return dr[t]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n.apply(console,r);var o=Gi();Er((function(){e.notify(zs(r,t,o))}))},function(){dr[t]=n}}))}(t)),Vs[t]})),ri.apply(void 0,n)).subscribe((function(e){return t.notify({startClocks:wi(),message:e.message,stack:e.stack,fingerprint:e.fingerprint,source:"console",handling:"handled",handlingStack:e.handlingStack})}))}(i),Fs(i),function(t,e){(function(t,e){var n=[];Cr(e,Ks)&&n.push(function(t){return new ni((function(e){return oi(t,document,ei.SECURITY_POLICY_VIOLATION,(function(t){e.notify(function(t){var e="'".concat(t.blockedURI,"' blocked by '").concat(t.effectiveDirective,"' directive");return{type:Ks,subtype:t.effectiveDirective,message:"".concat("csp_violation",": ").concat(e),stack:Gs(t.effectiveDirective,t.originalPolicy?"".concat(e,' of the policy "').concat(ro(t.originalPolicy,100,"..."),'"'):"no policy",t.sourceFile,t.lineNumber,t.columnNumber),originalReport:t}}(t))})).stop}))}(t));var r=e.filter((function(t){return t!==Ks}));return r.length&&n.push(function(t){return new ni((function(e){if(window.ReportingObserver){var n=wr((function(t,n){return t.forEach((function(t){e.notify(function(t){var e=t.type,n=t.body;return{type:e,subtype:n.id,message:"".concat(e,": ").concat(n.message),originalReport:t,stack:Gs(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}(t))}))})),r=new window.ReportingObserver(n,{types:t,buffered:!0});return r.observe(),function(){r.disconnect()}}}))}(r)),ri.apply(void 0,n)})(t,[Ks,"intervention"]).subscribe((function(t){return e.notify({startClocks:wi(),message:t.message,stack:t.stack,type:t.subtype,source:"report",handling:"unhandled",originalError:t.originalReport})}))}(e,i),i.subscribe((function(e){return t.notify(12,{error:e})})),function(t,e,n){return t.subscribe(12,(function(r){var i=r.error,o=r.customerContext,a=r.savedCommonContext;t.notify(10,Lr({customerContext:o,savedCommonContext:a},function(t,e,n){var r={date:t.startClocks.timeStamp,error:{id:Zi(),message:t.message,source:t.source,stack:t.stack,handling_stack:t.handlingStack,type:t.type,handling:t.handling,causes:t.causes,source_type:"browser",fingerprint:t.fingerprint},type:"error",view:{in_foreground:e.isInActivePageStateAt(t.startClocks.relative)}},i=n.findFeatureFlagEvaluations(t.startClocks.relative);return i&&!Hr(i)&&(r.feature_flags=i),{rawRumEvent:r,startTime:t.startClocks.relative,domainContext:{error:t.originalError}}}(i,e,n)))})),{addError:function(e,n){var r=e.error,i=e.handlingStack,o=e.startClocks,a=e.context,s=Fi({stackTrace:r instanceof Error?Ti(r):void 0,originalError:r,handlingStack:i,startClocks:o,nonErrorPrefix:"Provided",source:"custom",handling:"handled"});t.notify(12,{customerContext:a,savedCommonContext:n,error:s})}}}(t,n,r)}function Hs(t){return Ci(t.startTime,t.duration)}function Ws(t,e,n,r){t.subscribe(6,(function(i){var o=function(t,e,n,r){var i,o=function(t){if(performance&&"getEntriesByName"in performance){var e=performance.getEntriesByName(t.url,"resource");if(e.length&&"toJSON"in e[0]){var n=e.map((function(t){return t.toJSON()})).filter(ba).filter((function(e){return n=e,r=t.startClocks.relative,i=Hs({startTime:t.startClocks.relative,duration:t.duration}),n.startTime>=r-1&&Hs(n)<=Ci(i,1);var n,r,i}));return 1===n.length?n[0]:void 0}}}(t),a=o?gi(o.startTime):t.startClocks,s=Ys(e,n,a),u=function(t,e){if(t.traceSampled&&t.traceId&&t.spanId)return{_dd:{span_id:t.spanId.toDecimalString(),trace_id:t.traceId.toDecimalString(),rule_psr:Zs(e)}}}(t,e);if(s||u){var c="xhr"===t.type?"xhr":"fetch",l=o?Xs(o):void 0,f=function(t,e,n){var r;return(null===(r=t.findAll(e.relative,n))||void 0===r?void 0:r.some((function(t){return"frozen"===t.state})))?void 0:mi(n)}(r,a,t.duration),d=$s(r,a,null!==(i=null==o?void 0:o.duration)&&void 0!==i?i:t.duration),h=Zr({date:a.timeStamp,resource:{id:Zi(),type:c,duration:f,method:t.method,status_code:t.status,url:t.url},type:"resource",_dd:{discarded:!s}},u,l,d);return{startTime:a.relative,rawRumEvent:h,domainContext:{performanceEntry:o,xhr:t.xhr,response:t.response,requestInput:t.input,requestInit:t.init,error:t.error}}}}(i,e,n,r);o&&t.notify(10,o)})),t.subscribe(0,(function(i){for(var o=0,a=i;o<a.length;o++){var s=a[o];if(s.entryType===pa.RESOURCE&&"xmlhttprequest"!==(c=s).initiatorType&&"fetch"!==c.initiatorType){var u=Js(s,e,n,r);u&&t.notify(10,u)}}var c}))}function Js(t,e,n,r){var i=gi(t.startTime),o=Ys(e,n,i),a=function(t,e){if(t.traceId)return{_dd:{trace_id:t.traceId,rule_psr:Zs(e)}}}(t,e);if(o||a){var s=function(t){var e=t.name;if(!function(t){try{return!!No(t)}catch(t){return!1}}(e))return aa('Failed to construct URL for "'.concat(t.name,'"')),"other";for(var n=function(t){var e=No(t).pathname;return"/"===e[0]?e:"/".concat(e)}(e),r=0,i=ga;r<i.length;r++){var o=i[r],a=o[0];if((0,o[1])(t.initiatorType,n))return a}return"other"}(t),u=Xs(t),c=$s(r,i,t.duration),l=Zr({date:i.timeStamp,resource:{id:Zi(),type:s,url:t.name},type:"resource",_dd:{discarded:!o}},a,u,c);return{startTime:i.relative,rawRumEvent:l,domainContext:{performanceEntry:t}}}}function Ys(t,e,n){return t.trackResources&&e.findTrackedSession(n.relative)}function Xs(t){return{resource:Lr({duration:(e=t,n=e.duration,r=e.startTime,i=e.responseEnd,mi(0===n&&r<i?Si(r,i):n)),size:Ea(t)},ya(t))};var e,n,r,i}function Zs(t){return hi(t.traceSampleRate)?t.traceSampleRate/100:void 0}function $s(t,e,n){if(lo(to.RESOURCE_PAGE_STATES))return{_dd:{page_states:t.findAll(e.relative,n),page_was_discarded:String(document.wasDiscarded)}}}var Qs,tu,eu=!1;function nu(t){var e=t.toJSON();return delete e.element,e}function ru(t,e,n,r){var i={},o=function(t,e){return{stop:t.subscribe(0,(function(t){for(var e=0,o=t;e<o.length;e++){var a=o[e];a.entryType===pa.NAVIGATION&&(s={domComplete:a.domComplete,domContentLoaded:a.domContentLoadedEventEnd,domInteractive:a.domInteractive,loadEvent:a.loadEventEnd,firstByte:a.responseStart>=0&&a.responseStart<=_i()?a.responseStart:void 0},n(s.loadEvent),i.navigationTimings=s,r())}var s})).unsubscribe}}(t).stop,a=function(t,e){var n,r;return void 0===e&&(e=window),"hidden"===document.visibilityState?n=0:(n=1/0,r=ai(t,e,[ei.PAGE_HIDE,ei.VISIBILITY_CHANGE],(function(t){t.type!==ei.PAGE_HIDE&&"hidden"!==document.visibilityState||(n=t.timeStamp,r())}),{capture:!0}).stop),{get timeStamp(){return n},stop:function(){null==r||r()}}}(e),s=function(t,e,n){return{stop:t.subscribe(0,(function(t){var n,o=Ir(t,(function(t){return t.entryType===pa.PAINT&&"first-contentful-paint"===t.name&&t.startTime<e.timeStamp&&t.startTime<6e5}));o&&(n=o.startTime,i.firstContentfulPaint=n,r())})).unsubscribe}}(t,a).stop,u=function(t,e,n,r,i){var o=1/0,a=ai(e,r,[ei.POINTER_DOWN,ei.KEY_DOWN],(function(t){o=t.timeStamp}),{capture:!0,once:!0}).stop,s=0,u=t.subscribe(0,(function(t){var r=function(t,e){for(var r=t.length-1;r>=0;r-=1){var i=t[r];if((a=i).entryType===pa.LARGEST_CONTENTFUL_PAINT&&a.startTime<o&&a.startTime<n.timeStamp&&a.startTime<6e5&&a.size>s)return i}var a}(t);if(r){var a=void 0;r.element&&(a=ks(r.element,e.actionNameAttribute)),lo(to.ZERO_LCP_TELEMETRY)&&function(t,e){if(!eu){var n=0===t.startTime?"LCP with startTime = 0":void 0!==Qs&&t.startTime<Qs.startTime?"LCP with startTime < previous LCP":void 0!==Qs&&t.size<Qs.size?"LCP with size < previous LCP":void 0;n&&(eu=!0,aa(n,{debug:{entry:nu(t),previousLcp:Qs,timeOrigin:performance.timeOrigin,now:_i(),lcpEntries:e.map(nu)}})),Qs=nu(t)}}(r,t.filter((function(t){return t.entryType===pa.LARGEST_CONTENTFUL_PAINT}))),i({value:r.startTime,targetSelector:a}),s=r.size}})).unsubscribe;return{stop:function(){a(),u()}}}(t,e,a,window,(function(t){i.largestContentfulPaint=t,r()})).stop,c=function(t,e,n,o){return{stop:t.subscribe(0,(function(t){var o,a=Ir(t,(function(t){return t.entryType===pa.FIRST_INPUT&&t.startTime<n.timeStamp}));if(a){var s=Si(a.startTime,a.processingStart),u=void 0;a.target&&ka(a.target)&&(u=ks(a.target,e.actionNameAttribute)),o={delay:s>=0?s:0,time:a.startTime,targetSelector:u},i.firstInput=o,r()}})).unsubscribe}}(t,e,a).stop;return{stop:function(){o(),s(),u(),c(),a.stop()},initialViewMetrics:i}}var iu,ou=0,au=1/0,su=0,uu=function(){return tu?ou:window.performance.interactionCount||0};function cu(){var t,e=window.visualViewport;return t=e?e.pageLeft-e.offsetLeft:void 0!==window.scrollX?window.scrollX:window.pageXOffset||0,Math.round(t)}function lu(){var t,e=window.visualViewport;return t=e?e.pageTop-e.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0,Math.round(t)}function fu(t){return iu||(iu=function(t){return new ni((function(e){var n=Fr((function(){e.notify(du())}),200).throttled;return oi(t,window,ei.RESIZE,n,{capture:!0,passive:!0}).stop}))}(t)),iu}function du(){var t=window.visualViewport;return t?{width:Number(t.width*t.scale),height:Number(t.height*t.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}function hu(t,e,n,r,i,o){var a={},s=function(t,e,n,i,o,s){var u="initial_load"===i,c=!0,l=[];function f(){var t;!c&&!u&&l.length>0&&(t=Math.max.apply(Math,l),a.loadingTime=t,r())}return{stop:ss(t,e,n,(function(t){c&&(c=!1,t.hadActivity&&l.push(Si(o.timeStamp,t.end)),f())})).stop,setLoadEvent:function(t){u&&(u=!1,l.push(t),f())}}}(t,e,n,i,o),u=s.stop,c=s.setLoadEvent,l=function(t,e,n,r){void 0===r&&(r=function(t,e){return void 0===e&&(e=1e3),new ni((function(n){if(window.ResizeObserver){var r=Fr((function(){var t,e;n.notify((t=lu(),e=du().height,{scrollHeight:Math.round((document.scrollingElement||document.documentElement).scrollHeight),scrollDepth:Math.round(e+t),scrollTop:t}))}),e,{leading:!1,trailing:!0}),i=document.scrollingElement||document.documentElement,o=new ResizeObserver(wr(r.throttled));o.observe(i);var a=oi(t,window,ei.SCROLL,r.throttled,{passive:!0});return function(){r.cancel(),o.unobserve(i),a.stop()}}}))}(t));var i=0,o=0,a=0,s=r.subscribe((function(t){var r=t.scrollDepth,s=t.scrollTop,u=t.scrollHeight,c=!1;if(r>i&&(i=r,c=!0),u>o){o=u;var l=_i();a=Si(e.relative,l),c=!0}c&&n({maxDepth:Math.min(i,o),maxDepthScrollTop:s,maxScrollHeight:o,maxScrollHeightTime:a})}));return{stop:function(){return s.unsubscribe()}}}(n,o,(function(t){a.scroll=t})).stop,f=function(t,e,n){if(!Na(pa.LAYOUT_SHIFT))return{stop:Vr};var r=0;n({value:0});var i=function(){var t,e,n,r,i=0,o=0;return{update:function(a){var s,u;void 0===t||a.startTime-e>=vi||a.startTime-t>=5e3?(t=e=a.startTime,i=a.value,o=0,n=void 0):(i+=a.value,e=a.startTime),a.value>o&&(o=a.value,r=a.startTime,n=(null===(s=a.sources)||void 0===s?void 0:s.length)?null===(u=Ir(a.sources,(function(t){return!!t.node&&ka(t.node)})))||void 0===u?void 0:u.node:void 0)},value:function(){return i},largestLayoutShiftTarget:function(){return n},largestLayoutShiftTime:function(){return r}}}();return{stop:e.subscribe(0,(function(e){for(var o=0,a=e;o<a.length;o++){var s=a[o];if(s.entryType===pa.LAYOUT_SHIFT&&!s.hadRecentInput&&(i.update(s),i.value()>r)){var u=fi(r=i.value(),4),c=i.largestLayoutShiftTarget(),l=void 0;c&&c.isConnected&&(l=ks(c,t.actionNameAttribute)),n({value:u,targetSelector:l})}}})).unsubscribe}}(n,t,(function(t){a.cumulativeLayoutShift=t,r()})).stop,d=function(t,e,n,r){if(!(Na(pa.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return{getInteractionToNextPaint:function(){},setViewEnd:Vr,stop:Vr};var i,o=function(t){"interactionCount"in performance||tu||(tu=new window.PerformanceObserver(wr((function(t){t.getEntries().forEach((function(t){var e=t;e.interactionId&&(au=Math.min(au,e.interactionId),su=Math.max(su,e.interactionId),ou=(su-au)/7+1)}))})))).observe({type:"event",buffered:!0,durationThreshold:0});var e="initial_load"===t?0:uu(),n={stopped:!1};function r(){return uu()-e}return{getViewInteractionCount:function(){return n.stopped?n.interactionCount:r()},stopViewInteractionCount:function(){n={stopped:!0,interactionCount:r()}}}}(n),a=o.getViewInteractionCount,s=o.stopViewInteractionCount,u=1/0,c=function(t){var e=[];function n(){e.sort((function(t,e){return e.duration-t.duration})).splice(10)}return{process:function(t){var r=e.findIndex((function(e){return t.interactionId===e.interactionId})),i=e[e.length-1];-1!==r?t.duration>e[r].duration&&(e[r]=t,n()):(e.length<10||t.duration>i.duration)&&(e.push(t),n())},estimateP98Interaction:function(){var n=Math.min(e.length-1,Math.floor(t()/50));return e[n]}}}(a),l=-1;return{getInteractionToNextPaint:function(){return l>=0?{value:Math.min(l,6e4),targetSelector:i}:a()?{value:0}:void 0},setViewEnd:function(t){u=t,s()},stop:r.subscribe(0,(function(n){for(var r=0,o=n;r<o.length;r++){var a=o[r];(a.entryType===pa.EVENT||a.entryType===pa.FIRST_INPUT)&&a.interactionId&&a.startTime>=e&&a.startTime<=u&&c.process(a)}var s=c.estimateP98Interaction();s&&(l=s.duration,i=s.target&&ka(s.target)?ks(s.target,t.actionNameAttribute):void 0)})).unsubscribe}}(n,o.relative,i,t),h=d.stop,p=d.getInteractionToNextPaint;return{stop:function(){u(),f(),l()},stopINPTracking:h,setLoadEvent:c,setViewEnd:d.setViewEnd,getCommonViewMetrics:function(){return a.interactionToNextPaint=p(),a}}}function pu(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}function vu(t,e,n,r,i,o,a,s,u){return t.subscribe(3,(function(n){return t.notify(10,function(t,e,n,r,i){var o,a,s,u,c,l,f,d,h,p,v,g,m,y,b,_=r.getReplayStats(t.id),w=n.findFeatureFlagEvaluations(t.startClocks.relative),E=i.findAll(t.startClocks.relative,t.duration),S={_dd:{document_version:t.documentVersion,replay_stats:_,page_states:E,configuration:{start_session_replay_recording_manually:e.startSessionReplayRecordingManually}},date:t.startClocks.timeStamp,type:"view",view:{action:{count:t.eventCounts.actionCount},frustration:{count:t.eventCounts.frustrationCount},cumulative_layout_shift:null===(o=t.commonViewMetrics.cumulativeLayoutShift)||void 0===o?void 0:o.value,cumulative_layout_shift_target_selector:null===(a=t.commonViewMetrics.cumulativeLayoutShift)||void 0===a?void 0:a.targetSelector,first_byte:mi(null===(s=t.initialViewMetrics.navigationTimings)||void 0===s?void 0:s.firstByte),dom_complete:mi(null===(u=t.initialViewMetrics.navigationTimings)||void 0===u?void 0:u.domComplete),dom_content_loaded:mi(null===(c=t.initialViewMetrics.navigationTimings)||void 0===c?void 0:c.domContentLoaded),dom_interactive:mi(null===(l=t.initialViewMetrics.navigationTimings)||void 0===l?void 0:l.domInteractive),error:{count:t.eventCounts.errorCount},first_contentful_paint:mi(t.initialViewMetrics.firstContentfulPaint),first_input_delay:mi(null===(f=t.initialViewMetrics.firstInput)||void 0===f?void 0:f.delay),first_input_time:mi(null===(d=t.initialViewMetrics.firstInput)||void 0===d?void 0:d.time),first_input_target_selector:null===(h=t.initialViewMetrics.firstInput)||void 0===h?void 0:h.targetSelector,interaction_to_next_paint:mi(null===(p=t.commonViewMetrics.interactionToNextPaint)||void 0===p?void 0:p.value),interaction_to_next_paint_target_selector:null===(v=t.commonViewMetrics.interactionToNextPaint)||void 0===v?void 0:v.targetSelector,is_active:t.isActive,name:t.name,largest_contentful_paint:mi(null===(g=t.initialViewMetrics.largestContentfulPaint)||void 0===g?void 0:g.value),largest_contentful_paint_target_selector:null===(m=t.initialViewMetrics.largestContentfulPaint)||void 0===m?void 0:m.targetSelector,load_event:mi(null===(y=t.initialViewMetrics.navigationTimings)||void 0===y?void 0:y.loadEvent),loading_time:(b=mi(t.commonViewMetrics.loadingTime),hi(b)&&b<0?void 0:b),loading_type:t.loadingType,long_task:{count:t.eventCounts.longTaskCount},resource:{count:t.eventCounts.resourceCount},time_spent:mi(t.duration)},feature_flags:w&&!Hr(w)?w:void 0,display:t.commonViewMetrics.scroll?{scroll:{max_depth:t.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:t.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:t.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:mi(t.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{has_replay:!!_||void 0,is_active:!!t.sessionIsActive&&void 0},privacy:{replay_level:e.defaultPrivacyLevel}};return Hr(t.customTimings)||(S.view.custom_timings=function(t,e){for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n[o]=e(t[o])}return n}(t.customTimings,mi)),{rawRumEvent:S,startTime:t.startClocks.relative,domainContext:{location:t.location}}}(n,e,o,s,a))})),function(t,e,n,r,i,o,a){var s,u=new Set,c=l("initial_load",Ei(),a);function l(i,o,a){var s=function(t,e,n,r,i,o,a){void 0===o&&(o=wi());var s,u,c,l,f=Zi(),d=new ni,h={},p=0,v=Gr(r),g=!0;a&&(u=a.name,c=a.service,l=a.version),t.notify(2,{id:f,name:u,startClocks:o,service:c,version:l});var m=Fr(D,3e3,{leading:!1}),y=m.throttled,b=m.cancel,_=hu(t,e,n,y,i,o),w=_.setLoadEvent,E=_.setViewEnd,S=_.stop,C=_.stopINPTracking,k=_.getCommonViewMetrics,I="initial_load"===i?ru(t,n,w,y):{stop:Vr,initialViewMetrics:{}},x=I.stop,T=I.initialViewMetrics,O=function(t,e,n){var r=as({lifeCycle:t,isChildEvent:function(t){return t.view.id===e},onChange:n});return{stop:r.stop,eventCounts:r.eventCounts}}(t,f,y),A=O.stop,L=O.eventCounts,R=Br(D,3e5);function D(){b(),p+=1;var e=void 0===s?bi():s.timeStamp;t.notify(3,{customTimings:h,documentVersion:p,id:f,name:u,service:c,version:l,loadingType:i,location:v,startClocks:o,commonViewMetrics:k(),initialViewMetrics:T,duration:Si(o.timeStamp,e),isActive:void 0===s,sessionIsActive:g,eventCounts:L})}return D(),{name:u,service:c,version:l,stopObservable:d,end:function(e){var n,r,i=this;void 0===e&&(e={}),s||(s=null!==(n=e.endClocks)&&void 0!==n?n:wi(),g=null===(r=e.sessionIsActive)||void 0===r||r,t.notify(4,{endClocks:s}),jr(R),E(s.relative),S(),D(),Mr((function(){i.stop()}),3e5))},stop:function(){x(),A(),C(),d.notify()},addTiming:function(t,e){if(!s){var n=function(t){return t<31536e6}(e)?e:Si(o.timeStamp,e);h[function(t){var e=t.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return e!==t&&vr.warn("Invalid timing name: ".concat(t,", sanitized to: ").concat(e)),e}(t)]=n,y()}}}}(e,n,r,t,i,o,a);return u.add(s),s.stopObservable.subscribe((function(){u.delete(s)})),s}return e.subscribe(8,(function(){c=l("route_change",void 0,{name:c.name,service:c.service,version:c.version})})),e.subscribe(7,(function(){c.end({sessionIsActive:!1})})),e.subscribe(9,(function(t){t.reason!==la.UNLOADING&&t.reason!==la.PAGEHIDE||c.end()})),o&&(s=function(t){return t.subscribe((function(t){var e,n,r,i=t.oldLocation;n=t.newLocation,(e=i).pathname===n.pathname&&(""!==(r=n.hash.substring(1))&&document.getElementById(r)||pu(n.hash)===pu(e.hash))||(c.end(),c=l("route_change"))}))}(i)),{addTiming:function(t,e){void 0===e&&(e=bi()),c.addTiming(t,e)},startView:function(t,e){c.end({endClocks:e}),c=l("route_change",e,t)},stop:function(){null==s||s.unsubscribe(),c.end(),u.forEach((function(t){return t.stop()}))}}}(n,t,r,e,i,!e.trackViewsManually,u)}var gu=[];function mu(t,e,n){var r=Ro(t.sessionStoreStrategyType,e,n);gu.push((function(){return r.stop()}));var i=new Xa(144e5);function o(){return{id:r.getSession().id,trackingType:r.getSession()[e]}}return gu.push((function(){return i.stop()})),r.renewObservable.subscribe((function(){i.add(o(),_i())})),r.expireObservable.subscribe((function(){i.closeActive(_i())})),r.expandOrRenewSession(),i.add(o(),Ei().relative),function(t,e){var n=ai(t,window,[ei.CLICK,ei.TOUCH_START,ei.KEY_DOWN,ei.SCROLL],(function(){return r.expandOrRenewSession()}),{capture:!0,passive:!0}).stop;gu.push(n)}(t),function(t,e){var n=function(){"visible"===document.visibilityState&&r.expandSession()},i=oi(t,document,ei.VISIBILITY_CHANGE,n).stop;gu.push(i);var o=Br(n,6e4);gu.push((function(){jr(o)}))}(t),{findActiveSession:function(t){return i.find(t)},renewObservable:r.renewObservable,expireObservable:r.expireObservable,expire:r.expire}}function yu(t){return"2"===t||"1"===t}var bu=function(){function t(t,e,n,r){var i=this;this.encoder=t,this.request=e,this.flushController=n,this.messageBytesLimit=r,this.upsertBuffer={},this.flushSubscription=this.flushController.flushObservable.subscribe((function(t){return i.flush(t)}))}return t.prototype.add=function(t){this.addOrUpdate(t)},t.prototype.upsert=function(t,e){this.addOrUpdate(t,e)},t.prototype.stop=function(){this.flushSubscription.unsubscribe()},t.prototype.flush=function(t){var e=xr(this.upsertBuffer).join("\n");this.upsertBuffer={};var n=fa(t.reason),r=n?this.request.sendOnExit:this.request.send;if(n&&this.encoder.isAsync){var i=this.encoder.finishSync();i.outputBytesCount&&r(_u(i,t));var o=[i.pendingData,e].filter(Boolean).join("\n");o&&r({data:o,bytesCount:Nr(o),flushReason:t.reason})}else e&&this.encoder.write(this.encoder.isEmpty?e:"\n".concat(e)),this.encoder.finish((function(e){r(_u(e,t))}))},t.prototype.addOrUpdate=function(t,e){var n=zr(t),r=this.encoder.estimateEncodedBytesCount(n);r>=this.messageBytesLimit?vr.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB.")):(this.hasMessageFor(e)&&this.remove(e),this.push(n,r,e))},t.prototype.push=function(t,e,n){var r=this;this.flushController.notifyBeforeAddMessage(e),void 0!==n?(this.upsertBuffer[n]=t,this.flushController.notifyAfterAddMessage()):this.encoder.write(this.encoder.isEmpty?t:"\n".concat(t),(function(t){r.flushController.notifyAfterAddMessage(t-e)}))},t.prototype.remove=function(t){var e=this.upsertBuffer[t];delete this.upsertBuffer[t];var n=this.encoder.estimateEncodedBytesCount(e);this.flushController.notifyAfterRemoveMessage(n)},t.prototype.hasMessageFor=function(t){return void 0!==t&&void 0!==this.upsertBuffer[t]},t}();function _u(t,e){return{data:"string"==typeof t.output?t.output:new Blob([t.output],{type:"text/plain"}),bytesCount:t.outputBytesCount,encoding:t.encoding,flushReason:e.reason}}function wu(t,e,n,r,i){0===e.transportStatus&&0===e.queuedPayloads.size()&&e.bandwidthMonitor.canHandle(t)?Su(t,e,n,{onSuccess:function(){return Cu(0,e,n,r,i)},onFailure:function(){e.queuedPayloads.enqueue(t),Eu(e,n,r,i)}}):e.queuedPayloads.enqueue(t)}function Eu(t,e,n,r){2===t.transportStatus&&Mr((function(){Su(t.queuedPayloads.first(),t,e,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=1e3,Cu(1,t,e,n,r)},onFailure:function(){t.currentBackoffTime=Math.min(6e4,2*t.currentBackoffTime),Eu(t,e,n,r)}})}),t.currentBackoffTime)}function Su(t,e,n,r){var i=r.onSuccess,o=r.onFailure;e.bandwidthMonitor.add(t),n(t,(function(n){e.bandwidthMonitor.remove(t),function(t){return"opaque"!==t.type&&(0===t.status&&!navigator.onLine||408===t.status||429===t.status||t.status>=500)}(n)?(e.transportStatus=e.bandwidthMonitor.ongoingRequestCount>0?1:2,t.retry={count:t.retry?t.retry.count+1:1,lastFailureStatus:n.status},o()):(e.transportStatus=0,i())}))}function Cu(t,e,n,r,i){0===t&&e.queuedPayloads.isFull()&&!e.queueFullReported&&(i({message:"Reached max ".concat(r," events size queued for upload: ").concat(3,"MiB"),source:Ba,startClocks:wi()}),e.queueFullReported=!0);var o=e.queuedPayloads;for(e.queuedPayloads=ku();o.size()>0;)wu(o.dequeue(),e,n,r,i)}function ku(){var t=[];return{bytesCount:0,enqueue:function(e){this.isFull()||(t.push(e),this.bytesCount+=e.bytesCount)},first:function(){return t[0]},dequeue:function(){var e=t.shift();return e&&(this.bytesCount-=e.bytesCount),e},size:function(){return t.length},isFull:function(){return this.bytesCount>=3145728}}}function Iu(t,e,n,r){var i={transportStatus:0,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(t){return 0===this.ongoingRequestCount||this.ongoingByteCount+t.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(t){this.ongoingRequestCount+=1,this.ongoingByteCount+=t.bytesCount},remove:function(t){this.ongoingRequestCount-=1,this.ongoingByteCount-=t.bytesCount}},queuedPayloads:ku(),queueFullReported:!1},o=function(r,i){return function(t,e,n,r,i){if(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(t){return!1}}()&&r.bytesCount<n){var o=e.build("fetch",r);fetch(o,{method:"POST",body:r.data,keepalive:!0,mode:"cors"}).then(wr((function(t){return null==i?void 0:i({status:t.status,type:t.type})})),wr((function(){var n=e.build("xhr",r);Lu(t,n,r.data,i)})))}else{var a=e.build("xhr",r);Lu(t,a,r.data,i)}}(t,e,n,r,i)};return{send:function(t){wu(t,i,o,e.trackType,r)},sendOnExit:function(r){!function(t,e,n,r){if(navigator.sendBeacon&&r.bytesCount<n)try{var i=e.build("beacon",r);if(navigator.sendBeacon(i,r.data))return}catch(t){!function(t){Au||(Au=!0,sa(t))}(t)}Lu(t,e.build("xhr",r),r.data)}(t,e,n,r)}}}var xu,Tu,Ou,Au=!1;function Lu(t,e,n,r){var i=new XMLHttpRequest;i.open("POST",e,!0),n instanceof Blob&&i.setRequestHeader("Content-Type",n.type),oi(t,i,"loadend",(function(){null==r||r({status:i.status})}),{once:!0}),i.send(n)}function Ru(t,e,n,r,i,o,a){var s=t.replica,u=function(t,e,n,r,i,o){var a=u(t,e),s=n&&u(t,n);function u(t,e){var n=e.endpoint,a=e.encoder;return new bu(a,Iu(t,n,t.batchBytesLimit,r),function(t){var e,n=t.messagesLimit,r=t.bytesLimit,i=t.durationLimit,o=t.pageExitObservable,a=t.sessionExpireObservable,s=o.subscribe((function(t){return d(t.reason)})),u=a.subscribe((function(){return d("session_expire")})),c=new ni((function(){return function(){s.unsubscribe(),u.unsubscribe()}})),l=0,f=0;function d(t){if(0!==f){var e=f,n=l;f=0,l=0,h(),c.notify({reason:t,messagesCount:e,bytesCount:n})}}function h(){Ur(e),e=void 0}return{flushObservable:c,get messagesCount(){return f},notifyBeforeAddMessage:function(t){l+t>=r&&d("bytes_limit"),f+=1,l+=t,void 0===e&&(e=Mr((function(){d("duration_limit")}),i))},notifyAfterAddMessage:function(t){void 0===t&&(t=0),l+=t,f>=n?d("messages_limit"):l>=r&&d("bytes_limit")},notifyAfterRemoveMessage:function(t){l-=t,0==(f-=1)&&h()}}}({messagesLimit:t.batchMessagesLimit,bytesLimit:t.batchBytesLimit,durationLimit:t.flushTimeout,pageExitObservable:i,sessionExpireObservable:o}),t.messageBytesLimit)}return{flushObservable:a.flushController.flushObservable,add:function(t,e){void 0===e&&(e=!0),a.add(t),s&&e&&s.add(n.transformMessage?n.transformMessage(t):t)},upsert:function(t,e){a.upsert(t,e),s&&s.upsert(n.transformMessage?n.transformMessage(t):t,e)},stop:function(){a.stop(),null==s||s.stop()}}}(t,{endpoint:t.rumEndpointBuilder,encoder:a(2)},s&&{endpoint:s.rumEndpointBuilder,transformMessage:function(t){return Zr(t,{application:{id:s.applicationId}})},encoder:a(3)},r,i,o);return e.subscribe(11,(function(t){"view"===t.type?u.upsert(t,t.view.id):u.add(t)})),n.subscribe((function(e){return u.add(e,function(t){return t.site===Uo}(t))})),u}function Du(){0!==xu.batchCount&&(aa("Customer data measures",xu),Mu())}function Nu(t,e){t.sum+=e,t.min=Math.min(t.min,e),t.max=Math.max(t.max,e)}function Pu(t,e){t.sum+=e.sum,t.min=Math.min(t.min,e.min),t.max=Math.max(t.max,e.max)}function Mu(){xu={batchCount:0,batchBytesCount:{min:1/0,max:0,sum:0},batchMessagesCount:{min:1/0,max:0,sum:0},globalContextBytes:{min:1/0,max:0,sum:0},userContextBytes:{min:1/0,max:0,sum:0},featureFlagBytes:{min:1/0,max:0,sum:0}}}function Uu(){Ou=!1,Tu={globalContextBytes:{min:1/0,max:0,sum:0},userContextBytes:{min:1/0,max:0,sum:0},featureFlagBytes:{min:1/0,max:0,sum:0}}}function Bu(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}var ju;function Fu(t){return Vu(t).segments_count}function Vu(t){var e;return ju||(ju=new Map),ju.has(t)?e=ju.get(t):(e={records_count:0,segments_count:0,segments_total_raw_size:0},ju.set(t,e),ju.size>10&&function(){if(ju)if(ju.keys)ju.delete(ju.keys().next().value);else{var t=!0;ju.forEach((function(e,n){t&&(ju.delete(n),t=!1)}))}}()),e}function zu(t,e){return{data:Lr({source:t},e),type:3,timestamp:bi()}}var Ku={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:zo.ALLOW,MASK:zo.MASK,MASK_USER_INPUT:zo.MASK_USER_INPUT},Gu="data-dd-privacy",qu="hidden",Hu="***",Wu="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",Ju={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0};function Yu(t,e,n){if(n&&n.has(t))return n.get(t);var r=Oa(t),i=r?Yu(r,e,n):e,o=Xu(Zu(t),i);return n&&n.set(t,o),o}function Xu(t,e){switch(e){case Ku.HIDDEN:case Ku.IGNORE:return e}switch(t){case Ku.ALLOW:case Ku.MASK:case Ku.MASK_USER_INPUT:case Ku.HIDDEN:case Ku.IGNORE:return t;default:return e}}function Zu(t){if(ka(t)){var e=t.getAttribute(Gu);if("BASE"===t.tagName)return Ku.ALLOW;if("INPUT"===t.tagName){var n=t;if("password"===n.type||"email"===n.type||"tel"===n.type)return Ku.MASK;if("hidden"===n.type)return Ku.MASK;var r=n.getAttribute("autocomplete");if(r&&0===r.indexOf("cc-"))return Ku.MASK}return e===qu||t.classList.contains("dd-privacy-hidden")?Ku.HIDDEN:"mask"===e||t.classList.contains("dd-privacy-mask")?Ku.MASK:"mask-user-input"===e||t.classList.contains("dd-privacy-mask-user-input")?Ku.MASK_USER_INPUT:"allow"===e||t.classList.contains("dd-privacy-allow")?Ku.ALLOW:function(t){if("SCRIPT"===t.nodeName)return!0;if("LINK"===t.nodeName){var e=i("rel");return/preload|prefetch/i.test(e)&&"script"===i("as")||"shortcut icon"===e||"icon"===e}if("META"===t.nodeName){var n=i("name"),r=(e=i("rel"),i("property"));return/^msapplication-tile(image|color)$/.test(n)||"application-name"===n||"icon"===e||"apple-touch-icon"===e||"shortcut icon"===e||"keywords"===n||"description"===n||/^(og|twitter|fb):/.test(r)||/^(og|twitter):/.test(n)||"pinterest"===n||"robots"===n||"googlebot"===n||"bingbot"===n||t.hasAttribute("http-equiv")||"author"===n||"generator"===n||"framework"===n||"publisher"===n||"progid"===n||/^article:/.test(r)||/^product:/.test(r)||"google-site-verification"===n||"yandex-verification"===n||"csrf-token"===n||"p:domain_verify"===n||"verify-v1"===n||"verification"===n||"shopify-checkout-api-token"===n}function i(e){return(t.getAttribute(e)||"").toLowerCase()}return!1}(t)?Ku.IGNORE:void 0}}function $u(t,e){switch(e){case Ku.MASK:case Ku.HIDDEN:case Ku.IGNORE:return!0;case Ku.MASK_USER_INPUT:return Ca(t)?Qu(t.parentNode):Qu(t);default:return!1}}function Qu(t){if(!t||t.nodeType!==t.ELEMENT_NODE)return!1;var e=t;if("INPUT"===e.tagName)switch(e.type){case"button":case"color":case"reset":case"submit":return!1}return!!Ju[e.tagName]}function tc(t,e,n){var r,i=null===(r=t.parentElement)||void 0===r?void 0:r.tagName,o=t.textContent||"";if(!e||ls()(o).call(o)){if("SCRIPT"===i)o=Hu;else if(n===Ku.HIDDEN)o=Hu;else if($u(t,n))if("DATALIST"===i||"SELECT"===i||"OPTGROUP"===i){if(!ls()(o).call(o))return}else o="OPTION"===i?Hu:o.replace(/\S/g,"x");return o}}var ec=new WeakMap;function nc(t){return ec.has(t)}function rc(t){return ec.get(t)}function ic(t,e){var n=t.tagName,r=t.value;if($u(t,e)){var i=t.type;if("INPUT"===n&&("button"===i||"submit"===i||"reset"===i))return r;if(!r||"OPTION"===n)return;return Hu}return"OPTION"===n||"SELECT"===n?t.value:"INPUT"===n||"TEXTAREA"===n?r:void 0}var oc=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,ac=/^[A-Za-z]+:|^\/\//,sc=/^data:.*,/i;var uc=/[^a-z1-6-_]/;function cc(t){var e,n=ls()(e=t.toLowerCase()).call(e);return uc.test(n)?"div":n}function lc(t,e){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='".concat(t,"' height='").concat(e,"' style='background-color:silver'%3E%3C/svg%3E")}function fc(t){if(void 0!==t&&0!==t.length)return t.map((function(t){var e=t.cssRules||t.rules;return{cssRules:Array.from(e,(function(t){return t.cssText})),disabled:t.disabled||void 0,media:t.media.length>0?Array.from(t.media):void 0}}))}function dc(t,e,n,r){if(e===Ku.HIDDEN)return null;var i=t.getAttribute(n);if(e===Ku.MASK&&n!==Gu&&!Es.includes(n)&&n!==r.actionNameAttribute){var o=t.tagName;switch(n){case"title":case"alt":case"placeholder":return Hu}if("IMG"===o&&("src"===n||"srcset"===n)){var a=t;if(a.naturalWidth>0)return lc(a.naturalWidth,a.naturalHeight);var s=t.getBoundingClientRect(),u=s.width,c=s.height;return u>0||c>0?lc(u,c):Wu}if("SOURCE"===o&&("src"===n||"srcset"===n))return Wu;if("A"===o&&"href"===n)return Hu;if(i&&Or(n,"data-"))return Hu}return i&&"string"==typeof i&&i.length>1e5&&"data:"===i.slice(0,5)?"data:truncated":i}function hc(t){if(!t)return null;var e,n,r;try{e=t.rules||t.cssRules}catch(t){}return e?(n=Array.from(e,2===po()?pc:vc).join(""),r=t.href,n.replace(oc,(function(t,e,n,i,o,a){var s=n||o||a;if(!r||!s||ac.test(s)||sc.test(s))return t;var u=e||i||"";return"url(".concat(u).concat(function(t,e){try{return No(t,e).href}catch(e){return t}}(s,r)).concat(u,")")}))):null}function pc(t){return function(t){return"selectorText"in t}(t)&&t.selectorText.includes(":")?t.cssText.replace(/(\[[\w-]+[^\\])(:[^\]]+\])/g,"$1\\$2"):vc(t)}function vc(t){return function(t){return"styleSheet"in t}(t)&&hc(t.styleSheet)||t.cssText}function gc(t,e){var n=function(t,e){switch(t.nodeType){case t.DOCUMENT_NODE:return function(t,e){return{type:0,childNodes:yc(t,e),adoptedStyleSheets:fc(t.adoptedStyleSheets)}}(t,e);case t.DOCUMENT_FRAGMENT_NODE:return function(t,e){var n=xa(t);return n&&e.serializationContext.shadowRootsController.addShadowRoot(t),{type:11,childNodes:yc(t,e),isShadowRoot:n,adoptedStyleSheets:n?fc(t.adoptedStyleSheets):void 0}}(t,e);case t.DOCUMENT_TYPE_NODE:return{type:1,name:(n=t).name,publicId:n.publicId,systemId:n.systemId};case t.ELEMENT_NODE:return function(t,e){var n,r,i=cc(t.tagName),o="svg"===(r=t).tagName||r instanceof SVGElement||void 0,a=Xu(Zu(t),e.parentNodePrivacyLevel);if(a===Ku.HIDDEN){var s=t.getBoundingClientRect(),u=s.width,c=s.height;return{type:2,tagName:i,attributes:(n={rr_width:"".concat(u,"px"),rr_height:"".concat(c,"px")},n[Gu]=qu,n),childNodes:[],isSVG:o}}if(a!==Ku.IGNORE){var l=function(t,e,n){var r;if(e===Ku.HIDDEN)return{};for(var i={},o=cc(t.tagName),a=t.ownerDocument,s=0;s<t.attributes.length;s+=1){var u=t.attributes.item(s).name,c=dc(t,e,u,n.configuration);null!==c&&(i[u]=c)}if(t.value&&("textarea"===o||"select"===o||"option"===o||"input"===o)){var l=ic(t,e);void 0!==l&&(i.value=l)}if("option"===o&&e===Ku.ALLOW){var f=t;f.selected&&(i.selected=f.selected)}if("link"===o){var d,h=Array.from(a.styleSheets).find((function(e){return e.href===t.href}));(d=hc(h))&&h&&!lo(to.DISABLE_REPLAY_INLINE_CSS)&&(i._cssText=d)}"style"===o&&t.sheet&&(d=hc(t.sheet))&&(i._cssText=d);var p,v,g=t;if("input"!==o||"radio"!==g.type&&"checkbox"!==g.type||(e===Ku.ALLOW?i.checked=!!g.checked:$u(g,e)&&delete i.checked),"audio"===o||"video"===o){var m=t;i.rr_mediaState=m.paused?"paused":"played"}var y=n.serializationContext;switch(y.status){case 0:p=Math.round(t.scrollTop),v=Math.round(t.scrollLeft),(p||v)&&y.elementsScrollPositions.set(t,{scrollTop:p,scrollLeft:v});break;case 1:y.elementsScrollPositions.has(t)&&(p=(r=y.elementsScrollPositions.get(t)).scrollTop,v=r.scrollLeft)}return v&&(i.rr_scrollLeft=v),p&&(i.rr_scrollTop=p),i}(t,a,e),f=[];return function(t){return t.childNodes.length>0||Ia(t)}(t)&&"style"!==i&&(f=yc(t,e.parentNodePrivacyLevel===a&&e.ignoreWhiteSpace===("head"===i)?e:Lr({},e,{parentNodePrivacyLevel:a,ignoreWhiteSpace:"head"===i}))),{type:2,tagName:i,attributes:l,childNodes:f,isSVG:o}}}(t,e);case t.TEXT_NODE:return function(t,e){var n=tc(t,e.ignoreWhiteSpace||!1,e.parentNodePrivacyLevel);if(void 0!==n)return{type:3,textContent:n}}(t,e);case t.CDATA_SECTION_NODE:return{type:4,textContent:""}}var n}(t,e);if(!n)return null;var r=rc(t)||mc++,i=n;return i.id=r,function(t,e){ec.set(t,e)}(t,r),e.serializedNodeIds&&e.serializedNodeIds.add(r),i}var mc=1;function yc(t,e){var n=[];return Ta(t,(function(t){var r=gc(t,e);r&&n.push(r)})),n}function bc(t,e,n){return gc(t,{serializationContext:n,parentNodePrivacyLevel:e.defaultPrivacyLevel,configuration:e})}function _c(t){return Boolean(t.changedTouches)}function wc(t){return!0===t.composed&&Ia(t.target)?t.composedPath()[0]:t.target}var Ec,Sc=function(t){return{scale:t.scale,offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,pageLeft:t.pageLeft,pageTop:t.pageTop,height:t.height,width:t.width}};function Cc(t){var e,n,r,i,o=_c(t)?t.changedTouches[0]:t,a=o.clientX,s=o.clientY;if(window.visualViewport){var u=(e=a,n=s,r=window.visualViewport,i={layoutViewportX:e,layoutViewportY:n,visualViewportX:e,visualViewportY:n},r?(function(t){return Math.abs(t.pageTop-t.offsetTop-window.scrollY)>25||Math.abs(t.pageLeft-t.offsetLeft-window.scrollX)>25}(r)?(i.layoutViewportX=Math.round(e+r.offsetLeft),i.layoutViewportY=Math.round(n+r.offsetTop)):(i.visualViewportX=Math.round(e-r.offsetLeft),i.visualViewportY=Math.round(n-r.offsetTop)),i):i);a=u.visualViewportX,s=u.visualViewportY}if(Number.isFinite(a)&&Number.isFinite(s))return{x:a,y:s};t.isTrusted&&aa("mouse/touch event without x/y")}var kc=((Ec={})[ei.POINTER_UP]=0,Ec[ei.MOUSE_DOWN]=1,Ec[ei.CLICK]=2,Ec[ei.CONTEXT_MENU]=3,Ec[ei.DBL_CLICK]=4,Ec[ei.FOCUS]=5,Ec[ei.BLUR]=6,Ec[ei.TOUCH_START]=7,Ec[ei.TOUCH_END]=9,Ec);function Ic(t,e,n){void 0===n&&(n=document);var r,i=t.defaultPrivacyLevel,o=new WeakMap,a=n!==document,s=ai(t,n,a?[ei.CHANGE]:[ei.INPUT,ei.CHANGE],(function(t){var e=wc(t);(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)&&c(e)}),{capture:!0,passive:!0}).stop;if(a)r=Vr;else{var u=[$a(HTMLInputElement.prototype,"value",c),$a(HTMLInputElement.prototype,"checked",c),$a(HTMLSelectElement.prototype,"value",c),$a(HTMLTextAreaElement.prototype,"value",c),$a(HTMLSelectElement.prototype,"selectedIndex",c)];r=function(){u.forEach((function(t){return t.stop()}))}}return function(){r(),s()};function c(t){var e=Yu(t,i);if(e!==Ku.HIDDEN){var n,r=t.type;if("radio"===r||"checkbox"===r){if($u(t,e))return;n={isChecked:t.checked}}else{var o=ic(t,e);if(void 0===o)return;n={text:o}}l(t,n);var a,s,u=t.name;"radio"===r&&u&&t.checked&&(a=document.querySelectorAll('input[type="radio"][name="'.concat(Ar(u),'"]')),s=function(e){e!==t&&l(e,{isChecked:!1})},Array.prototype.forEach.call(a,s))}}function l(t,n){if(nc(t)){var r=o.get(t);r&&r.text===n.text&&r.isChecked===n.isChecked||(o.set(t,n),e(Lr({id:rc(t)},n)))}}}function xc(t){for(var e=[],n=t;n.parentRule;){var r=Array.from(n.parentRule.cssRules).indexOf(n);e.unshift(r),n=n.parentRule}if(n.parentStyleSheet){var i=Array.from(n.parentStyleSheet.cssRules).indexOf(n);return e.unshift(i),e}}function Tc(t,e,n,r){var i=da();if(!i)return{stop:Vr,flush:Vr};var o=function(t){var e=Vr,n=[];function r(){e(),t(n),n=[]}return{addMutations:function(t){0===n.length&&(e=function(t,e){if(window.requestIdleCallback&&window.cancelIdleCallback){var n=window.requestIdleCallback(wr(t),{timeout:100});return function(){return window.cancelIdleCallback(n)}}var r=window.requestAnimationFrame(wr(t));return function(){return window.cancelAnimationFrame(r)}}(r)),n.push.apply(n,t)},flush:r,stop:function(){e()}}}((function(r){!function(t,e,n,r){var i=new Map;t.filter((function(t){return"childList"===t.type})).forEach((function(t){t.removedNodes.forEach((function(t){Oc(t,r.removeShadowRoot)}))}));var o=t.filter((function(t){return t.target.isConnected&&function(t){for(var e=t;e;){if(!nc(e)&&!xa(e))return!1;e=Oa(e)}return!0}(t.target)&&Yu(t.target,n.defaultPrivacyLevel,i)!==Ku.HIDDEN})),a=function(t,e,n,r){for(var i=new Set,o=new Map,a=function(t){t.addedNodes.forEach((function(t){i.add(t)})),t.removedNodes.forEach((function(e){i.has(e)||o.set(e,t.target),i.delete(e)}))},s=0,u=t;s<u.length;s++)a(u[s]);var c=Array.from(i);c.sort((function(t,e){var n=t.compareDocumentPosition(e);return n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_CONTAINS||n&Node.DOCUMENT_POSITION_FOLLOWING?1:n&Node.DOCUMENT_POSITION_PRECEDING?-1:0}));for(var l=new Set,f=[],d=0,h=c;d<h.length;d++){var p=h[d];if(!b(p)){var v=Yu(p.parentNode,e.defaultPrivacyLevel,r);if(v!==Ku.HIDDEN&&v!==Ku.IGNORE){var g=gc(p,{serializedNodeIds:l,parentNodePrivacyLevel:v,serializationContext:{status:2,shadowRootsController:n},configuration:e});if(g){var m=Oa(p);f.push({nextId:_(p),parentId:rc(m),node:g})}}}}var y=[];return o.forEach((function(t,e){nc(e)&&y.push({parentId:rc(t),id:rc(e)})})),{adds:f,removes:y,hasBeenSerialized:b};function b(t){return nc(t)&&l.has(rc(t))}function _(t){for(var e=t.nextSibling;e;){if(nc(e))return rc(e);e=e.nextSibling}return null}}(o.filter((function(t){return"childList"===t.type})),n,r,i),s=a.adds,u=a.removes,c=a.hasBeenSerialized,l=function(t,e,n){for(var r,i=[],o=new Set,a=t.filter((function(t){return!o.has(t.target)&&(o.add(t.target),!0)})),s=0,u=a;s<u.length;s++){var c=u[s];if(c.target.textContent!==c.oldValue){var l=Yu(Oa(c.target),e.defaultPrivacyLevel,n);l!==Ku.HIDDEN&&l!==Ku.IGNORE&&i.push({id:rc(c.target),value:null!==(r=tc(c.target,!1,l))&&void 0!==r?r:null})}}return i}(o.filter((function(t){return"characterData"===t.type&&!c(t.target)})),n,i),f=function(t,e,n){for(var r=[],i=new Map,o=t.filter((function(t){var e=i.get(t.target);return!(null==e?void 0:e.has(t.attributeName))&&(e?e.add(t.attributeName):i.set(t.target,new Set([t.attributeName])),!0)})),a=new Map,s=0,u=o;s<u.length;s++){var c=u[s];if(c.target.getAttribute(c.attributeName)!==c.oldValue){var l=Yu(c.target,e.defaultPrivacyLevel,n),f=dc(c.target,l,c.attributeName,e),d=void 0;if("value"===c.attributeName){var h=ic(c.target,l);if(void 0===h)continue;d=h}else d="string"==typeof f?f:null;var p=a.get(c.target);p||(p={id:rc(c.target),attributes:{}},r.push(p),a.set(c.target,p)),p.attributes[c.attributeName]=d}}return r}(o.filter((function(t){return"attributes"===t.type&&!c(t.target)})),n,i);(l.length||f.length||u.length||s.length)&&e({adds:s,removes:u,texts:l,attributes:f})}(r.concat(a.takeRecords()),t,e,n)})),a=new i(wr(o.addMutations));return a.observe(r,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{stop:function(){a.disconnect(),o.stop()},flush:function(){o.flush()}}}function Oc(t,e){Ia(t)&&e(t.shadowRoot),Ta(t,(function(t){return Oc(t,e)}))}function Ac(t){var e=t.emit,n=t.configuration,r=t.lifeCycle;if(!e)throw new Error("emit function is required");var i,o=function(n){e(n),Qo("record",{record:n});var r=t.viewContexts.findView();r&&(Vu(r.id).records_count+=1)},a=(i=new WeakMap,{set:function(t,e){(t!==document||document.scrollingElement)&&i.set(t===document?document.scrollingElement:t,e)},get:function(t){return i.get(t)},has:function(t){return i.has(t)}}),s=function(t){o(zu(0,t))},u=function(t){return o(zu(5,t))},c=function(t,e){var n=e.mutationCb,r=e.inputCb,i=new Map,o={addShadowRoot:function(e){if(!i.has(e)){var a=Tc(n,t,o,e),s=a.stop,u=a.flush,c=Ic(t,r,e);i.set(e,{flush:u,stop:function(){s(),c()}})}},removeShadowRoot:function(t){var e=i.get(t);e&&(e.stop(),i.delete(t))},stop:function(){i.forEach((function(t){return(0,t.stop)()}))},flush:function(){i.forEach((function(t){return(0,t.flush)()}))}};return o}(n,{mutationCb:s,inputCb:u}),l=function(t,e,n,r,i,o){var a=function(n,i){void 0===n&&(n=bi()),void 0===i&&(i={status:0,elementsScrollPositions:t,shadowRootsController:e});var o=du(),a=o.width,s=[{data:{height:o.height,href:window.location.href,width:a},type:4,timestamp:n},{data:{has_focus:document.hasFocus()},type:6,timestamp:n},{data:{node:bc(document,r,i),initialOffset:{left:cu(),top:lu()}},type:2,timestamp:n}];return window.visualViewport&&s.push({data:Sc(window.visualViewport),type:8,timestamp:n}),s};return o(a()),{stop:n.subscribe(2,(function(n){i(),o(a(n.startClocks.timeStamp,{shadowRootsController:e,status:1,elementsScrollPositions:t}))})).unsubscribe}}(a,c,r,n,f,(function(t){return t.forEach((function(t){return o(t)}))})).stop;function f(){c.flush(),p()}var d=function(t,e){var n,r,i=function(){var t=new WeakMap,e=1;return{getIdForEvent:function(n){return t.has(n)||t.set(n,e++),t.get(n)}}}(),o=Tc(e.mutationCb,e.configuration,e.shadowRootsController,document),a=function(t,e){var n=Fr((function(t){var n=wc(t);if(nc(n)){var r=Cc(t);if(!r)return;var i={id:rc(n),timeOffset:0,x:r.x,y:r.y};e([i],_c(t)?6:1)}}),50,{trailing:!1}).throttled;return ai(t,document,[ei.MOUSE_MOVE,ei.TOUCH_MOVE],n,{capture:!0,passive:!0}).stop}(t,e.mousemoveCb),s=function(t,e,n){return ai(t,document,Object.keys(kc),(function(r){var i=wc(r);if(Yu(i,t.defaultPrivacyLevel)!==Ku.HIDDEN&&nc(i)){var o,a=rc(i),s=kc[r.type];if(6!==s&&5!==s){var u=Cc(r);if(!u)return;o={id:a,type:s,x:u.x,y:u.y}}else o={id:a,type:s};var c=Lr({id:n.getIdForEvent(r)},zu(2,o));e(c)}}),{capture:!0,passive:!0}).stop}(t,e.mouseInteractionCb,i),u=function(t,e,n,r){var i=Fr((function(t){var i=wc(t);if(i&&Yu(i,n)!==Ku.HIDDEN&&nc(i)){var o=rc(i),a=i===document?{scrollTop:lu(),scrollLeft:cu()}:{scrollTop:Math.round(i.scrollTop),scrollLeft:Math.round(i.scrollLeft)};r.set(i,a),e({id:o,x:a.scrollLeft,y:a.scrollTop})}}),100).throttled;return oi(t,document,ei.SCROLL,i,{capture:!0,passive:!0}).stop}(t,e.scrollCb,e.configuration.defaultPrivacyLevel,e.elementsScrollPositions),c=function(t,e){return fu(t).subscribe(e).unsubscribe}(t,e.viewportResizeCb),l=Ic(t,e.inputCb),f=function(t,e,n){return ai(t,document,[ei.PLAY,ei.PAUSE],(function(t){var r=wc(t);r&&Yu(r,n)!==Ku.HIDDEN&&nc(r)&&e({id:rc(r),type:t.type===ei.PLAY?0:1})}),{capture:!0,passive:!0}).stop}(t,e.mediaInteractionCb,e.configuration.defaultPrivacyLevel),d=function(t){function e(t,e){t&&nc(t.ownerNode)&&e(rc(t.ownerNode))}var n=[Za(CSSStyleSheet.prototype,"insertRule",(function(n){var r=n.target,i=n.parameters,o=i[0],a=i[1];e(r,(function(e){return t({id:e,adds:[{rule:o,index:a}]})}))})),Za(CSSStyleSheet.prototype,"deleteRule",(function(n){var r=n.target,i=n.parameters[0];e(r,(function(e){return t({id:e,removes:[{index:i}]})}))}))];function r(r){n.push(Za(r.prototype,"insertRule",(function(n){var r=n.target,i=n.parameters,o=i[0],a=i[1];e(r.parentStyleSheet,(function(e){var n=xc(r);n&&(n.push(a||0),t({id:e,adds:[{rule:o,index:n}]}))}))})),Za(r.prototype,"deleteRule",(function(n){var r=n.target,i=n.parameters[0];e(r.parentStyleSheet,(function(e){var n=xc(r);n&&(n.push(i),t({id:e,removes:[{index:n}]}))}))})))}return"undefined"!=typeof CSSGroupingRule?r(CSSGroupingRule):(r(CSSMediaRule),r(CSSSupportsRule)),function(){return n.forEach((function(t){return t.stop()}))}}(e.styleSheetCb),h=function(t,e){return ai(t,window,[ei.FOCUS,ei.BLUR],(function(){e({has_focus:document.hasFocus()})})).stop}(t,e.focusCb),p=function(t,e){var n=window.visualViewport;if(!n)return Vr;var r=Fr((function(){e(Sc(n))}),200,{trailing:!1}),i=r.throttled,o=r.cancel,a=ai(t,n,[ei.RESIZE,ei.SCROLL],i,{capture:!0,passive:!0}).stop;return function(){a(),o()}}(t,e.visualViewportResizeCb),v=function(t,e,n){return t.subscribe(10,(function(t){var r,i,o;"action"===t.rawRumEvent.type&&"click"===t.rawRumEvent.action.type&&(null===(i=null===(r=t.rawRumEvent.action.frustration)||void 0===r?void 0:r.type)||void 0===i?void 0:i.length)&&"events"in t.domainContext&&(null===(o=t.domainContext.events)||void 0===o?void 0:o.length)&&e({timestamp:t.rawRumEvent.date,type:9,data:{frustrationTypes:t.rawRumEvent.action.frustration.type,recordIds:t.domainContext.events.map((function(t){return n.getIdForEvent(t)}))}})})).unsubscribe}(e.lifeCycle,e.frustrationCb,i),g=(n=e.lifeCycle,r=e.viewEndCb,n.subscribe(4,(function(){r({timestamp:bi(),type:7})})).unsubscribe);return{flush:function(){o.flush()},stop:function(){o.stop(),a(),s(),u(),c(),l(),f(),d(),h(),p(),v(),g()}}}(n,{lifeCycle:t.lifeCycle,configuration:n,elementsScrollPositions:a,inputCb:u,mediaInteractionCb:function(t){return o(zu(7,t))},mouseInteractionCb:function(t){return o(t)},mousemoveCb:function(t,e){return o(zu(e,{positions:t}))},mutationCb:s,scrollCb:function(t){return o(zu(3,t))},styleSheetCb:function(t){return o(zu(8,t))},viewportResizeCb:function(t){return o(zu(4,t))},frustrationCb:function(t){return o(t)},focusCb:function(t){return o({data:t,type:6,timestamp:bi()})},visualViewportResizeCb:function(t){o({data:t,type:8,timestamp:bi()})},viewEndCb:function(t){f(),o(t)},shadowRootsController:c}),h=d.stop,p=d.flush;return{stop:function(){c.stop(),h(),l()},flushMutations:f,shadowRootsController:c}}var Lc=function(){function t(t,e,n){this.encoder=t,this.encodedBytesCount=0;var r=e.view.id;this.metadata=Lr({start:1/0,end:-1/0,creation_reason:n,records_count:0,has_full_snapshot:!1,index_in_view:Fu(r),source:"browser"},e),function(t){Vu(t).segments_count+=1}(r)}return t.prototype.addRecord=function(t,e){var n,r=this;this.metadata.start=Math.min(this.metadata.start,t.timestamp),this.metadata.end=Math.max(this.metadata.end,t.timestamp),this.metadata.records_count+=1,(n=this.metadata).has_full_snapshot||(n.has_full_snapshot=2===t.type);var i=this.encoder.isEmpty?'{"records":[':",";this.encoder.write(i+JSON.stringify(t),(function(t){r.encodedBytesCount+=t,e(r.encodedBytesCount)}))},t.prototype.flush=function(t){var e=this;if(this.encoder.isEmpty)throw new Error("Empty segment flushed");this.encoder.write("],".concat(JSON.stringify(this.metadata).slice(1),"\n")),this.encoder.finish((function(n){var r,i;r=e.metadata.view.id,i=n.rawBytesCount,Vu(r).segments_total_raw_size+=i,t(e.metadata,n)}))},t}(),Rc=6e4;function Dc(t,e,n,r,i,o){return function(t,i,o,a){var s={status:0,nextSegmentCreationReason:"init"},u=t.subscribe(2,(function(){l("view_change")})).unsubscribe,c=t.subscribe(9,(function(t){l(t.reason)})).unsubscribe;function l(t){1===s.status&&(s.segment.flush((function(e,n){var r=function(t,e,n){var r=new FormData;r.append("segment",new Blob([t],{type:"application/octet-stream"}),"".concat(e.session.id,"-").concat(e.start));var i=Lr({raw_segment_size:n,compressed_segment_size:t.byteLength},e),o=JSON.stringify(i);return r.append("event",new Blob([o],{type:"application/json"})),{data:r,bytesCount:t.byteLength}}(n.output,e,n.rawBytesCount);fa(t)?o.sendOnExit(r):o.send(r)})),Ur(s.expirationTimeoutId)),s="stop"!==t?{status:0,nextSegmentCreationReason:t}:{status:2}}return{addRecord:function(t){if(2!==s.status){if(0===s.status){var i=function(t,e,n){var r=e.findTrackedSession(),i=n.findView();if(r&&i)return{application:{id:t},session:{id:r.id},view:{id:i.id}}}(e.applicationId,n,r);if(!i)return;s={status:1,segment:new Lc(a,i,s.nextSegmentCreationReason),expirationTimeoutId:Mr((function(){l("segment_duration_limit")}),3e4)}}s.segment.addRecord(t,(function(t){t>6e4&&l("segment_bytes_limit")}))}},stop:function(){l("stop"),u(),c()}}}(t,0,i,o)}function Nc(){return"function"==typeof Array.from&&"function"==typeof CSSSupportsRule&&"function"==typeof We().createObjectURL&&"forEach"in NodeList.prototype}function Pc(t,e,n,r){var i=e.findTrackedSession(),o=function(t,e){return Nc()?t?t.sessionReplayAllowed?e?void 0:"replay-not-started":"incorrect-session-plan":"rum-not-tracked":"browser-not-supported"}(i,r);return function(t,e){var n=e.session,r=e.viewContext,i=e.errorType,o=n?n.id:"no-session-id",a=[];void 0!==i&&a.push("error-type=".concat(i)),r&&(a.push("seed=".concat(r.id)),a.push("from=".concat(r.startClocks.timeStamp)));var s,u,c,l=(u=(s=t).site,c=s.subdomain||function(t){switch(t.site){case Bo:case"datadoghq.eu":return"app";case Uo:return"dd";default:return}}(s),"https://".concat(c?"".concat(c,"."):"").concat(u)),f="/rum/replay/sessions/".concat(o);return"".concat(l).concat(f,"?").concat(a.join("&"))}(t,{viewContext:n.findView(),errorType:o,session:i})}function Mc(t,e,n){var r,i=0,o=[],a=0,s=[],u=oi(t,e,"message",(function(t){var e=t.data;if("wrote"===e.type&&e.streamId===n){i+=e.additionalBytesCount,o.push(e.result),r=e.trailer;var a=s.shift();a&&a.id===e.id?a.writeCallback?a.writeCallback(e.result.byteLength):a.finishCallback&&a.finishCallback():(u(),aa("Worker responses received out of order."))}})).stop;function c(){var t=0===o.length?new Uint8Array(0):function(t){for(var e=t.reduce((function(t,e){return t+e.length}),0),n=new Uint8Array(e),r=0,i=0,o=t;i<o.length;i++){var a=o[i];n.set(a,r),r+=a.length}return n}(o.concat(r)),e={rawBytesCount:i,output:t,outputBytesCount:t.byteLength,encoding:"deflate"};return i=0,o=[],e}function l(){a>0&&(e.postMessage({action:"reset",streamId:n}),a=0)}return{isAsync:!0,get isEmpty(){return 0===a},write:function(t,r){e.postMessage({action:"write",id:a,data:t,streamId:n}),s.push({id:a,writeCallback:r,data:t}),a+=1},finish:function(t){l(),s.length?(s.forEach((function(t){delete t.writeCallback})),s[s.length-1].finishCallback=function(){return t(c())}):t(c())},finishSync:function(){l();var t=s.map((function(t){return delete t.writeCallback,delete t.finishCallback,t.data})).join("");return Lr(c(),{pendingData:t})},estimateEncodedBytesCount:function(t){return t.length/8},stop:function(){u()}}}function Uc(t){return new Worker(t.workerUrl||We().createObjectURL(new Blob(['!function(){"use strict";function t(t){for(var e=t.reduce((function(t,e){return t+e.length}),0),a=new Uint8Array(e),n=0,r=0,i=t;r<i.length;r++){var s=i[r];a.set(s,n),n+=s.length}return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=256,n=286,r=30,i=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),l=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=new Array(576);e(o);var d=new Array(60);e(d);var u=new Array(512);e(u);var f=new Array(256);e(f);var c=new Array(29);e(c);var p,g,w,v=new Array(r);function b(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function m(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(v);var y=function(t){return t<256?u[t]:u[256+(t>>>7)]},k=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},z=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,k(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},x=function(t,e,a){z(t,a[2*e],a[2*e+1])},A=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},E=function(t,e,a){var n,r,s=new Array(16),_=0;for(n=1;n<=i;n++)s[n]=_=_+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=A(s[h]++,h))}},Z=function(t){var e;for(e=0;e<n;e++)t.dyn_ltree[2*e]=0;for(e=0;e<r;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},U=function(t){t.bi_valid>8?k(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},S=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},R=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&S(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!S(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},L=function(t,e,n){var r,i,h,l,o=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===r?x(t,i,e):(h=f[i],x(t,h+a+1,e),0!==(l=s[h])&&(i-=c[h],z(t,i,l)),r--,h=y(r),x(t,h,n),0!==(l=_[h])&&(r-=v[h],z(t,r,l)))}while(o<t.last_lit);x(t,256,e)},F=function(t,e){var a,n,r,s=e.dyn_tree,_=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==s[2*a]?(t.heap[++t.heap_len]=o=a,t.depth[a]=0):s[2*a+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=o<2?++o:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=_[2*r+1]);for(e.max_code=o,a=t.heap_len>>1;a>=1;a--)R(t,s,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],R(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,s[2*r]=s[2*a]+s[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,s[2*a+1]=s[2*n+1]=r,t.heap[1]=r++,R(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,s,_,h,l=e.dyn_tree,o=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(s=0;s<=i;s++)t.bl_count[s]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(s=l[2*l[2*(n=t.heap[a])+1]+1]+1)>p&&(s=p,g++),l[2*n+1]=s,n>o||(t.bl_count[s]++,_=0,n>=c&&(_=f[n-c]),h=l[2*n],t.opt_len+=h*(s+_),u&&(t.static_len+=h*(d[2*n+1]+_)));if(0!==g){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(s=p;0!==s;s--)for(n=t.bl_count[s];0!==n;)(r=t.heap[--a])>o||(l[2*r+1]!==s&&(t.opt_len+=(s-l[2*r+1])*l[2*r],l[2*r+1]=s),n--)}}(t,e),E(s,o,t.bl_count)},T=function(t,e,a){var n,r,i=-1,s=e[1],_=0,h=7,l=4;for(0===s&&(h=138,l=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++_<h&&r===s||(_<l?t.bl_tree[2*r]+=_:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):_<=10?t.bl_tree[34]++:t.bl_tree[36]++,_=0,i=r,0===s?(h=138,l=3):r===s?(h=6,l=3):(h=7,l=4))},I=function(t,e,a){var n,r,i=-1,s=e[1],_=0,h=7,l=4;for(0===s&&(h=138,l=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++_<h&&r===s)){if(_<l)do{x(t,r,t.bl_tree)}while(0!=--_);else 0!==r?(r!==i&&(x(t,r,t.bl_tree),_--),x(t,16,t.bl_tree),z(t,_-3,2)):_<=10?(x(t,17,t.bl_tree),z(t,_-3,3)):(x(t,18,t.bl_tree),z(t,_-11,7));_=0,i=r,0===s?(h=138,l=3):r===s?(h=6,l=3):(h=7,l=4)}},N=!1,O=function(t,e,a,n){z(t,0+(n?1:0),3),function(t,e,a,n){U(t),n&&(k(t,a),k(t,~a)),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a,!0)},D=function(t,e,n,r){var i,s,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<a;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),F(t,t.l_desc),F(t,t.d_desc),_=function(t){var e;for(T(t,t.dyn_ltree,t.l_desc.max_code),T(t,t.dyn_dtree,t.d_desc.max_code),F(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?O(t,e,n,r):4===t.strategy||s===i?(z(t,2+(r?1:0),3),L(t,o,d)):(z(t,4+(r?1:0),3),function(t,e,a,n){var r;for(z(t,e-257,5),z(t,a-1,5),z(t,n-4,4),r=0;r<n;r++)z(t,t.bl_tree[2*l[r]+1],3);I(t,t.dyn_ltree,e-1),I(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),L(t,t.dyn_ltree,t.dyn_dtree)),Z(t),r&&U(t)},B={_tr_init:function(t){N||(!function(){var t,e,a,l,m,y=new Array(16);for(a=0,l=0;l<28;l++)for(c[l]=a,t=0;t<1<<s[l];t++)f[a++]=l;for(f[a-1]=l,m=0,l=0;l<16;l++)for(v[l]=m,t=0;t<1<<_[l];t++)u[m++]=l;for(m>>=7;l<r;l++)for(v[l]=m<<7,t=0;t<1<<_[l]-7;t++)u[256+m++]=l;for(e=0;e<=i;e++)y[e]=0;for(t=0;t<=143;)o[2*t+1]=8,t++,y[8]++;for(;t<=255;)o[2*t+1]=9,t++,y[9]++;for(;t<=279;)o[2*t+1]=7,t++,y[7]++;for(;t<=287;)o[2*t+1]=8,t++,y[8]++;for(E(o,287,y),t=0;t<r;t++)d[2*t+1]=5,d[2*t]=A(t,5);p=new b(o,s,257,n,i),g=new b(d,_,0,r,i),w=new b(new Array(0),h,0,19,7)}(),N=!0),t.l_desc=new m(t.dyn_ltree,p),t.d_desc=new m(t.dyn_dtree,g),t.bl_desc=new m(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,Z(t)},_tr_stored_block:O,_tr_flush_block:D,_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+a+1)]++,t.dyn_dtree[2*y(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){z(t,2,3),x(t,256,o),function(t){16===t.bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},C=function(t,e,a,n){for(var r=65535&t|0,i=t>>>16&65535|0,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16|0},H=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),M=function(t,e,a,n){var r=H,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return-1^t},Y={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},K={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},P=B._tr_init,j=B._tr_stored_block,G=B._tr_flush_block,X=B._tr_tally,W=B._tr_align,q=K.Z_NO_FLUSH,J=K.Z_PARTIAL_FLUSH,Q=K.Z_FULL_FLUSH,V=K.Z_FINISH,$=K.Z_BLOCK,tt=K.Z_OK,et=K.Z_STREAM_END,at=K.Z_STREAM_ERROR,nt=K.Z_DATA_ERROR,rt=K.Z_BUF_ERROR,it=K.Z_DEFAULT_COMPRESSION,st=K.Z_FILTERED,_t=K.Z_HUFFMAN_ONLY,ht=K.Z_RLE,lt=K.Z_FIXED,ot=K.Z_DEFAULT_STRATEGY,dt=K.Z_UNKNOWN,ut=K.Z_DEFLATED,ft=258,ct=262,pt=103,gt=113,wt=666,vt=function(t,e){return t.msg=Y[e],e},bt=function(t){return(t<<1)-(t>4?9:0)},mt=function(t){for(var e=t.length;--e>=0;)t[e]=0},yt=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},kt=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},zt=function(t,e){G(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,kt(t.strm)},xt=function(t,e){t.pending_buf[t.pending++]=e},At=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Et=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,_=t.nice_match,h=t.strstart>t.w_size-ct?t.strstart-(t.w_size-ct):0,l=t.window,o=t.w_mask,d=t.prev,u=t.strstart+ft,f=l[i+s-1],c=l[i+s];t.prev_length>=t.good_match&&(r>>=2),_>t.lookahead&&(_=t.lookahead);do{if(l[(a=e)+s]===c&&l[a+s-1]===f&&l[a]===l[i]&&l[++a]===l[i+1]){i+=2,a++;do{}while(l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&i<u);if(n=ft-(u-i),i=u-ft,n>s){if(t.match_start=e,s=n,n>=_)break;f=l[i+s-1],c=l[i+s]}}}while((e=d[e&o])>h&&0!=--r);return s<=t.lookahead?s:t.lookahead},Zt=function(t){var e,a,n,r,i,s,_,h,l,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-ct)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,_=t.window,h=t.strstart+t.lookahead,l=r,o=void 0,(o=s.avail_in)>l&&(o=l),a=0===o?0:(s.avail_in-=o,_.set(s.input.subarray(s.next_in,s.next_in+o),h),1===s.state.wrap?s.adler=C(s.adler,_,o,h):2===s.state.wrap&&(s.adler=M(s.adler,_,o,h)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=yt(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=yt(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<ct&&0!==t.strm.avail_in)},Ut=function(t,e){for(var a,n;;){if(t.lookahead<ct){if(Zt(t),t.lookahead<ct&&e===q)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-ct&&(t.match_length=Et(t,a)),t.match_length>=3)if(n=X(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=yt(t,t.ins_h,t.window[t.strstart+1]);else n=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2},St=function(t,e){for(var a,n,r;;){if(t.lookahead<ct){if(Zt(t),t.lookahead<ct&&e===q)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-ct&&(t.match_length=Et(t,a),t.match_length<=5&&(t.strategy===st||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=X(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(zt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=X(t,0,t.window[t.strstart-1]))&&zt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=X(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2};function Rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var Lt=[new Rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Zt(t),0===t.lookahead&&e===q)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,zt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-ct&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(zt(t,!1),t.strm.avail_out),1)})),new Rt(4,4,8,4,Ut),new Rt(4,5,16,8,Ut),new Rt(4,6,32,32,Ut),new Rt(4,4,16,16,St),new Rt(8,16,32,32,St),new Rt(8,16,128,128,St),new Rt(8,32,128,256,St),new Rt(32,128,258,1024,St),new Rt(32,258,258,4096,St)];function Ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ut,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),mt(this.dyn_ltree),mt(this.dyn_dtree),mt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),mt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),mt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Tt=function(t){if(!t||!t.state)return vt(t,at);t.total_in=t.total_out=0,t.data_type=dt;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:gt,t.adler=2===e.wrap?0:1,e.last_flush=q,P(e),tt},It=function(t){var e,a=Tt(t);return a===tt&&((e=t.state).window_size=2*e.w_size,mt(e.head),e.max_lazy_match=Lt[e.level].max_lazy,e.good_match=Lt[e.level].good_length,e.nice_match=Lt[e.level].nice_length,e.max_chain_length=Lt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),a},Nt=function(t,e,a,n,r,i){if(!t)return at;var s=1;if(e===it&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||a!==ut||n<8||n>15||e<0||e>9||i<0||i>lt)return vt(t,at);8===n&&(n=9);var _=new Ft;return t.state=_,_.strm=t,_.wrap=s,_.gzhead=null,_.w_bits=n,_.w_size=1<<_.w_bits,_.w_mask=_.w_size-1,_.hash_bits=r+7,_.hash_size=1<<_.hash_bits,_.hash_mask=_.hash_size-1,_.hash_shift=~~((_.hash_bits+3-1)/3),_.window=new Uint8Array(2*_.w_size),_.head=new Uint16Array(_.hash_size),_.prev=new Uint16Array(_.w_size),_.lit_bufsize=1<<r+6,_.pending_buf_size=4*_.lit_bufsize,_.pending_buf=new Uint8Array(_.pending_buf_size),_.d_buf=1*_.lit_bufsize,_.l_buf=3*_.lit_bufsize,_.level=e,_.strategy=i,_.method=a,It(t)},Ot={deflateInit:function(t,e){return Nt(t,e,ut,15,8,ot)},deflateInit2:Nt,deflateReset:It,deflateResetKeep:Tt,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?at:(t.state.gzhead=e,tt):at},deflate:function(t,e){var a,n;if(!t||!t.state||e>$||e<0)return t?vt(t,at):at;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===wt&&e!==V)return vt(t,0===t.avail_out?rt:at);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,xt(r,31),xt(r,139),xt(r,8),r.gzhead?(xt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),xt(r,255&r.gzhead.time),xt(r,r.gzhead.time>>8&255),xt(r,r.gzhead.time>>16&255),xt(r,r.gzhead.time>>24&255),xt(r,9===r.level?2:r.strategy>=_t||r.level<2?4:0),xt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(xt(r,255&r.gzhead.extra.length),xt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=M(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,9===r.level?2:r.strategy>=_t||r.level<2?4:0),xt(r,3),r.status=gt);else{var s=ut+(r.w_bits-8<<4)<<8;s|=(r.strategy>=_t||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(s|=32),s+=31-s%31,r.status=gt,At(r,s),0!==r.strstart&&(At(r,t.adler>>>16),At(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),kt(t),a=r.pending,r.pending!==r.pending_buf_size));)xt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),kt(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,xt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),kt(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,xt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=pt)}else r.status=pt;if(r.status===pt&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&kt(t),r.pending+2<=r.pending_buf_size&&(xt(r,255&t.adler),xt(r,t.adler>>8&255),t.adler=0,r.status=gt)):r.status=gt),0!==r.pending){if(kt(t),0===t.avail_out)return r.last_flush=-1,tt}else if(0===t.avail_in&&bt(e)<=bt(i)&&e!==V)return vt(t,rt);if(r.status===wt&&0!==t.avail_in)return vt(t,rt);if(0!==t.avail_in||0!==r.lookahead||e!==q&&r.status!==wt){var _=r.strategy===_t?function(t,e){for(var a;;){if(0===t.lookahead&&(Zt(t),0===t.lookahead)){if(e===q)return 1;break}if(t.match_length=0,a=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2}(r,e):r.strategy===ht?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=ft){if(Zt(t),t.lookahead<=ft&&e===q)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+ft;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=ft-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=X(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2}(r,e):Lt[r.level].func(r,e);if(3!==_&&4!==_||(r.status=wt),1===_||3===_)return 0===t.avail_out&&(r.last_flush=-1),tt;if(2===_&&(e===J?W(r):e!==$&&(j(r,0,0,!1),e===Q&&(mt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),kt(t),0===t.avail_out))return r.last_flush=-1,tt}return e!==V?tt:r.wrap<=0?et:(2===r.wrap?(xt(r,255&t.adler),xt(r,t.adler>>8&255),xt(r,t.adler>>16&255),xt(r,t.adler>>24&255),xt(r,255&t.total_in),xt(r,t.total_in>>8&255),xt(r,t.total_in>>16&255),xt(r,t.total_in>>24&255)):(At(r,t.adler>>>16),At(r,65535&t.adler)),kt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?tt:et)},deflateEnd:function(t){if(!t||!t.state)return at;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==pt&&e!==gt&&e!==wt?vt(t,at):(t.state=null,e===gt?vt(t,nt):tt)},deflateSetDictionary:function(t,e){var a=e.length;if(!t||!t.state)return at;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return at;if(1===r&&(t.adler=C(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(mt(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,_=t.next_in,h=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,Zt(n);n.lookahead>=3;){var l=n.strstart,o=n.lookahead-2;do{n.ins_h=yt(n,n.ins_h,n.window[l+3-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++}while(--o);n.strstart=l,n.lookahead=2,Zt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=_,t.input=h,t.avail_in=s,n.wrap=r,tt},deflateInfo:"pako deflate (from Nodeca project)"};for(var Dt=new Uint8Array(256),Bt=0;Bt<256;Bt++)Dt[Bt]=Bt>=252?6:Bt>=248?5:Bt>=240?4:Bt>=224?3:Bt>=192?2:1;Dt[254]=Dt[254]=1;var Ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Ht=Object.prototype.toString,Mt=K.Z_NO_FLUSH,Yt=K.Z_SYNC_FLUSH,Kt=K.Z_FULL_FLUSH,Pt=K.Z_FINISH,jt=K.Z_OK,Gt=K.Z_STREAM_END,Xt=K.Z_DEFAULT_COMPRESSION,Wt=K.Z_DEFAULT_STRATEGY,qt=K.Z_DEFLATED;function Jt(){this.options={level:Xt,method:qt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wt};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;var e=Ot.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==jt)throw new Error(Y[e]);if(t.header&&Ot.deflateSetHeader(this.strm,t.header),t.dictionary){var a;if(a="[object ArrayBuffer]"===Ht.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(e=Ot.deflateSetDictionary(this.strm,a))!==jt)throw new Error(Y[e]);this._dict_set=!0}}function Qt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:String(e),streamId:a})}}function Vt(t){var e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}Jt.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?Pt:Mt,"[object ArrayBuffer]"===Ht.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(n===Yt||n===Kt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((a=Ot.deflate(r,n))===Gt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=Ot.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===jt;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Jt.prototype.onData=function(t){this.chunks.push(t)},Jt.prototype.onEnd=function(t){t===jt&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,_=t.length;i<_;i++){var h=t[i];r.set(h,s),s+=h.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e){void 0===e&&(e=self);try{var a=new Map;e.addEventListener("message",(function(n){try{var r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"5.9.0"};case"write":var n=e.get(a.streamId);n||(n=new Jt,e.set(a.streamId,n));var r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,a,n,r,i,s=t.length,_=0;for(r=0;r<s;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),_+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(_),i=0,r=0;i<_;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,K.Z_SYNC_FLUSH),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:Vt(n),additionalBytesCount:i.length};case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){Qt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){Qt(e,t)}}()}();'])))}var Bc={status:0};function jc(t,e,n,r){switch(void 0===r&&(r=Uc),0===Bc.status&&function(t,e,n){void 0===n&&(n=Uc);try{var r=n(t),i=oi(t,r,"error",(function(n){Vc(t,e,n)})).stop,o=oi(t,r,"message",(function(n){var r,i=n.data;"errored"===i.type?Vc(t,e,i.error,i.streamId):"initialized"===i.type&&(r=i.version,1===Bc.status&&(Bc={status:3,worker:Bc.worker,stop:Bc.stop,version:r}))})).stop;r.postMessage({action:"init"}),Mr((function(){return function(t){1===Bc.status&&(vr.error("".concat(t," failed to start: a timeout occurred while initializing the Worker")),Bc.initializationFailureCallbacks.forEach((function(t){return t()})),Bc={status:2})}(e)}),1e4),Bc={status:1,worker:r,stop:function(){i(),o()},initializationFailureCallbacks:[]}}catch(n){Vc(t,e,n)}}(t,e,r),Bc.status){case 1:return Bc.initializationFailureCallbacks.push(n),Bc.worker;case 3:return Bc.worker}}function Fc(){return Bc.status}function Vc(t,e,n,r){if(1===Bc.status||0===Bc.status){if(vr.error("".concat(e," failed to start: an error occurred while creating the Worker:"),n),n instanceof Event||n instanceof Error&&(Cr(o=n.message,"Content Security Policy")||Cr(o,"requires 'TrustedScriptURL'"))){var i;i=t.workerUrl?"Please make sure the Worker URL ".concat(t.workerUrl," is correct and CSP is correctly configured."):"Please make sure CSP is correctly configured.",vr.error("".concat(i," See documentation at https://docs.datadoghq.com/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay"))}else sa(n);1===Bc.status&&Bc.initializationFailureCallbacks.forEach((function(t){return t()})),Bc={status:2}}else sa(n,{worker_version:3===Bc.status&&Bc.version,stream_id:r});var o}var zc=function(t,e){if(Xi()||!Nc())return{start:Vr,stop:Vr,getReplayStats:function(){},onRumStart:Vr,isRecording:function(){return!1},getSessionReplayLink:function(){}};var n={status:1},r=function(){n={status:1}},i=function(){n={status:0}},o=Vr;return{start:function(){return r()},stop:function(){return i()},getSessionReplayLink:function(){return o()},onRumStart:function(t,e,a,s,u){var c;e.startSessionReplayRecordingManually&&(n={status:0}),t.subscribe(7,(function(){2!==n.status&&3!==n.status||(i(),n={status:1})})),t.subscribe(8,(function(){1===n.status&&r()})),r=function(){var r=a.findTrackedSession();r&&r.sessionReplayAllowed?2!==n.status&&3!==n.status&&(n={status:2},ha(e,"interactive",(function(){if(2===n.status){var r=(c||(u||(u=jc(e,"Datadog Session Replay",(function(){i()}),undefined)),u&&(c=Mc(e,u,1))),c);if(r){var o=function(t,e,n,r,i,o){var a=o||Iu(e,e.sessionReplayEndpointBuilder,Rc,(function(e){t.notify(12,{error:e}),aa("Error reported to customer",{"error.message":e.message})})),s=Dc(t,e,n,r,a,i),u=s.addRecord,c=s.stop,l=Ac({emit:u,configuration:e,lifeCycle:t,viewContexts:r}).stop;return{stop:function(){l(),c()}}}(t,e,a,s,r).stop;n={status:3,stopRecording:o}}else n={status:0}}}))):n={status:1}},i=function(){0!==n.status&&(3===n.status&&n.stopRecording(),n={status:0})},o=function(){return Pc(e,a,s,0!==n.status)},1===n.status&&r()},isRecording:function(){return 3===Fc()&&3===n.status},getReplayStats:function(t){return 3===Fc()?function(t){return null==ju?void 0:ju.get(t)}(t):void 0}}}(),Kc=function(t,e,n){void 0===n&&(n={});var r=function(t){void 0===t&&(t=2);var e=new Map,n=!1;function r(r){if(void 0===r&&(r=0),!n&&0!==t){var i=2===t?3072:16384,o=r;e.forEach((function(t){o+=t.getBytesCount()})),o>i&&(function(t){vr.warn("Customer data exceeds the recommended ".concat(t/1024,"KiB threshold. More details: https://docs.datadoghq.com/real_user_monitoring/browser/troubleshooting/#customer-data-exceeds-the-recommended-threshold-warning"))}(i),n=!0)}}return{createDetachedTracker:function(){var t=Wr((function(){return r(t.getBytesCount())}));return t},getOrCreateTracker:function(t){return e.has(t)||e.set(t,Wr(r)),e.get(t)},setCompressionStatus:function(e){0===t&&(t=e,r())},getCompressionStatus:function(){return t},stop:function(){e.forEach((function(t){return t.stop()})),e.clear()}}}(0),i=ii(r.getOrCreateTracker(2)),o=ii(r.getOrCreateTracker(1));function a(){return function(t,e,n){return{context:t.getContext(),user:e.getContext(),hasReplay:!!n.isRecording()||void 0}}(i,o,e)}var s,u,c=$o(n,a,(function(t,s,u,l){t.storeContextsAcrossPages&&(ui(s,i,"rum",2),ui(s,o,"rum",1)),r.setCompressionStatus(u?1:2);var f=function(t,e,n,r,i,o,a){var s=[],u=new Ja;u.subscribe(11,(function(t){return Qo("rum",t)}));var c=function(t){var e=function(t,e){var n,r=new ni;oa.telemetryEnabled=!Cr(ia,e.site)&&li(e.telemetrySampleRate),oa.telemetryConfigurationEnabled=oa.telemetryEnabled&&li(e.telemetryConfigurationSampleRate);var i={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self};return ea=function(e){if(oa.telemetryEnabled){var o=function(t,e,r){return Zr({type:"telemetry",date:bi(),service:t,version:"5.9.0",source:"browser",_dd:{format_version:2},telemetry:Zr(e,{runtime_env:r,connectivity:ta()}),experimental_features:kr(co)},void 0!==n?n():{})}(t,e,i);r.notify(o),Qo("telemetry",o)}},mr=sa,Lr(oa,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0}),{setContextProvider:function(t){n=t},observable:r,enabled:oa.telemetryEnabled}}("browser-rum-sdk",t);if(Xi()){var n=Yi();e.observable.subscribe((function(t){return n.send("internal_telemetry",t)}))}return e}(e);c.setContextProvider((function(){var t,n;return{application:{id:e.applicationId},session:{id:null===(t=p.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(n=b.findView())||void 0===n?void 0:n.id},action:{id:E.findActionId()}}}));var l=function(t){u.notify(12,{error:t}),aa("Error reported to customer",{"error.message":t.message})},f=function(t,e){if(!lo(to.FEATURE_FLAGS))return{findFeatureFlagEvaluations:function(){},addFeatureFlagEvaluation:Vr,stop:Vr};var n=new Xa(144e5);return t.subscribe(4,(function(t){var e=t.endClocks;n.closeActive(e.relative)})),t.subscribe(2,(function(t){var r=t.startClocks;n.add({},r.relative),e.resetCustomerData()})),{findFeatureFlagEvaluations:function(t){return n.find(t)},addFeatureFlagEvaluation:function(t,r){var i=n.find();i&&(i[t]=r,e.updateCustomerData(i))},stop:function(){return e.stop()}}}(u,r.getOrCreateTracker(0)),d=function(t){return new ni((function(e){var n=lo(to.PAGEHIDE),r=ai(t,window,[ei.VISIBILITY_CHANGE,ei.FREEZE,ei.PAGE_HIDE],(function(t){t.type===ei.PAGE_HIDE&&n?e.notify({reason:la.PAGEHIDE}):t.type===ei.VISIBILITY_CHANGE&&"hidden"===document.visibilityState?e.notify({reason:la.HIDDEN}):t.type===ei.FREEZE&&e.notify({reason:la.FROZEN})}),{capture:!0}).stop,i=Vr;return n||(i=oi(t,window,ei.BEFORE_UNLOAD,(function(){e.notify({reason:la.UNLOADING})})).stop),function(){r(),i()}}))}(e),h=d.subscribe((function(t){u.notify(9,t)}));s.push((function(){return h.unsubscribe()}));var p=Xi()?function(){var t={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplayAllowed:!1};return{findTrackedSession:function(){return t},expire:Vr,expireObservable:new ni}}():function(t,e){var n=mu(t,"rum",(function(e){return function(t,e){var n;return{trackingType:n=function(t){return"0"===t||"1"===t||"2"===t}(e)?e:li(t.sessionSampleRate)?li(t.sessionReplaySampleRate)?"1":"2":"0",isTracked:yu(n)}}(t,e)}));return n.expireObservable.subscribe((function(){e.notify(7)})),n.renewObservable.subscribe((function(){e.notify(8)})),{findTrackedSession:function(t){var e=n.findActiveSession(t);if(e&&yu(e.trackingType))return{id:e.id,sessionReplayAllowed:"1"===e.trackingType}},expire:n.expire,expireObservable:n.expireObservable}}(e,u);if(Xi())!function(t){var e=Yi();t.subscribe(11,(function(t){e.send("rum",t)}))}(u);else{var v=Ru(e,u,c.observable,l,d,p.expireObservable,a);s.push((function(){return v.stop()})),function(t,e,n,r,i){e.enabled&&li(t.customerDataTelemetrySampleRate)&&(Mu(),Uu(),n.subscribe(11,(function(t){Ou=!0,Nu(Tu.globalContextBytes,r.getOrCreateTracker(2).getBytesCount()),Nu(Tu.userContextBytes,r.getOrCreateTracker(1).getBytesCount()),Nu(Tu.featureFlagBytes,Cr(["view","error"],t.type)?r.getOrCreateTracker(0).getBytesCount():0)})),i.subscribe((function(t){var e=t.bytesCount,n=t.messagesCount;Ou&&(xu.batchCount+=1,Nu(xu.batchBytesCount,e),Nu(xu.batchMessagesCount,n),Pu(xu.globalContextBytes,Tu.globalContextBytes),Pu(xu.userContextBytes,Tu.userContextBytes),Pu(xu.featureFlagBytes,Tu.featureFlagBytes),Uu())})),Br(Du,1e4))}(e,c,u,r,v.flushObservable)}var g=function(){var t=da();return new ni((function(e){if(t){var n=new t(wr((function(){return e.notify()})));return n.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return n.disconnect()}}}))}(),m=function(t,e){var n=Gr(e);return new ni((function(r){var i=function(t,e){var n=Za(history,"pushState",(function(t){(0,t.onPostCall)(e)})).stop,r=Za(history,"replaceState",(function(t){(0,t.onPostCall)(e)})).stop,i=oi(t,window,ei.POP_STATE,e).stop;return{stop:function(){n(),r(),i()}}}(t,a).stop,o=function(t,e){return oi(t,window,ei.HASH_CHANGE,e)}(t,a).stop;function a(){if(n.href!==e.href){var t=Gr(e);r.notify({newLocation:t,oldLocation:n}),n=t}}return function(){i(),o()}}))}(e,location),y=function(t,e,n,r,i,o,a,s){var u=function(t){var e=new Xa(144e5);return t.subscribe(2,(function(t){e.add(function(t){return{service:t.service,version:t.version,id:t.id,name:t.name,startClocks:t.startClocks}}(t),t.startClocks.relative)})),t.subscribe(4,(function(t){var n=t.endClocks;e.closeActive(n.relative)})),t.subscribe(8,(function(){e.reset()})),{findView:function(t){return e.find(t)},stop:function(){e.stop()}}}(t),c=function(t,e,n){var r,i=new Xa(144e5);t.subscribe(4,(function(t){var e=t.endClocks;i.closeActive(e.relative)})),t.subscribe(2,(function(t){var e=t.startClocks,o=n.href;i.add(a({url:o,referrer:r||document.referrer}),e.relative),r=o}));var o=e.subscribe((function(t){var e=t.newLocation,n=i.find();if(n){var r=_i();i.closeActive(r),i.add(a({url:e.href,referrer:n.referrer}),r)}}));function a(t){return{url:t.url,referrer:t.referrer}}return{findUrl:function(t){return i.find(t)},stop:function(){o.unsubscribe(),i.stop()}}}(t,i,n),l=function(t,e){void 0===e&&(e=500);var n,r=new Xa(144e5,4e3);o(Bu(),_i());var i=ai(t,window,[ei.PAGE_SHOW,ei.FOCUS,ei.BLUR,ei.VISIBILITY_CHANGE,ei.RESUME,ei.FREEZE,ei.PAGE_HIDE],(function(t){o(function(t){return t.type===ei.FREEZE?"frozen":t.type===ei.PAGE_HIDE?t.persisted?"frozen":"terminated":Bu()}(t),t.timeStamp)}),{capture:!0}).stop;function o(t,e){void 0===e&&(e=_i()),t!==n&&(n=t,r.closeActive(e),r.add({state:n,startTime:e},e))}return{findAll:function(t,n){var i=r.findAll(t,n);if(0!==i.length){for(var o=[],a=Math.max(0,i.length-e),s=i.length-1;s>=a;s--){var u=i[s],c=Si(t,u.startTime);o.push({state:u.state,start:mi(c)})}return o}},isInActivePageStateAt:function(t){var e=r.find(t);return void 0!==e&&"active"===e.state},addPageState:o,stop:function(){i(),r.stop()}}}(e),f=function(t,e,n,r){t.subscribe(1,(function(e){return t.notify(10,Bs(e,r))}));var i={findActionId:Vr};return n.trackUserInteractions&&(i=Ms(t,e,n).actionContexts),{addAction:function(e,n){t.notify(10,Lr({savedCommonContext:n},Bs(e,r)))},actionContexts:i}}(t,o,e,l),d=f.addAction,h=f.actionContexts,p=function(t){var e=du();return{get:function(){return{viewport:e}},stop:fu(t).subscribe((function(t){e=t})).unsubscribe}}(e);return Ha(e,t,r,u,c,h,p,a,s),{viewContexts:u,pageStateHistory:l,urlContexts:c,addAction:d,actionContexts:h,stop:function(){p.stop(),l.stop(),c.stop(),u.stop(),l.stop()}}}(u,e,location,p,m,g,i,l),b=y.viewContexts,_=y.pageStateHistory,w=y.urlContexts,E=y.actionContexts,S=y.addAction,C=y.stop;s.push(C),function(t){oa.telemetryConfigurationEnabled&&ua({type:na,configuration:t})}(function(t){var e,n={session_sample_rate:(e=t).sessionSampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:e.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:!!e.proxy,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,allow_fallback_to_local_storage:!!e.allowFallbackToLocalStorage,store_contexts_across_pages:!!e.storeContextsAcrossPages,allow_untrusted_events:!!e.allowUntrustedEvents};return Lr({session_replay_sample_rate:t.sessionReplaySampleRate,start_session_replay_recording_manually:t.startSessionReplayRecordingManually,trace_sample_rate:t.traceSampleRate,action_name_attribute:t.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(t.allowedTracingUrls)&&t.allowedTracingUrls.length>0,selected_tracing_propagators:Zo(t),default_privacy_level:t.defaultPrivacyLevel,use_excluded_activity_urls:Array.isArray(t.excludedActivityUrls)&&t.excludedActivityUrls.length>0,use_worker_url:!!t.workerUrl,compress_intake_requests:t.compressIntakeRequests,track_views_manually:t.trackViewsManually,track_user_interactions:t.trackUserInteractions,track_resources:t.trackResources,track_long_task:t.trackLongTasks},n)}(t)),function(t,e,n){t.subscribe(0,(function(r){for(var i=0,o=r;i<o.length;i++){var a=o[i];if(a.entryType!==pa.LONG_TASK)break;if(!n.findTrackedSession(a.startTime)||!e.trackLongTasks)break;var s=gi(a.startTime),u={date:s.timeStamp,long_task:{id:Zi(),duration:mi(a.duration)},type:"long_task",_dd:{discarded:!1}};t.notify(10,{rawRumEvent:u,startTime:s.relative,domainContext:{performanceEntry:a}})}}))}(u,e,p),Ws(u,e,p,_);var k=vu(u,e,location,g,m,f,_,n,o),I=k.addTiming,x=k.startView,T=k.stop;s.push(T);var O=qs(u,e,_,f).addError;is(u,e,p);var A=Pa(u,e).stop;s.push(A);var L=function(t,e,n,r,i){return{get:function(o){var a=n.findView(o),s=i.findUrl(o),u=e.findTrackedSession(o);if(u&&a&&s){var c=r.findActionId(o);return{application_id:t,session_id:u.id,user_action:c?{id:c}:void 0,view:{id:a.id,name:a.name,referrer:s.referrer,url:s.url}}}}}}(e.applicationId,p,b,E,w);return{addAction:S,addError:O,addTiming:I,addFeatureFlagEvaluation:f.addFeatureFlagEvaluation,startView:x,lifeCycle:u,viewContexts:b,session:p,stopSession:function(){return p.expire()},getInternalContext:L.get,stop:function(){s.forEach((function(t){return t()}))}}}(t,s,e,r,a,l,u&&n.createDeflateEncoder?function(t){return n.createDeflateEncoder(s,u,t)}:ci);return e.onRumStart(f.lifeCycle,s,f.session,f.viewContexts,u),c=function(t,e){return Lr({init:function(t){Hi("DD_RUM",t)},initConfiguration:t},e)}(t,f),f})),l=wr((function(t){var e="object"==typeof t?t:{name:t};c.startView(e)})),f=(s={init:wr((function(t){return c.init(t)})),setGlobalContextProperty:wr((function(t,e){return i.setContextProperty(t,e)})),removeGlobalContextProperty:wr((function(t){return i.removeContextProperty(t)})),getGlobalContext:wr((function(){return i.getContext()})),setGlobalContext:wr((function(t){return i.setContext(t)})),clearGlobalContext:wr((function(){return i.clearContext()})),getInternalContext:wr((function(t){return c.getInternalContext(t)})),getInitConfiguration:wr((function(){return Xr(c.initConfiguration)})),addAction:wr((function(t,e){c.addAction({name:$r(t),context:$r(e),startClocks:wi(),type:"custom"})})),addError:function(t,e){var n=Gi();Er((function(){c.addError({error:t,handlingStack:n,context:$r(e),startClocks:wi()})}))},addTiming:wr((function(t,e){c.addTiming($r(t),e)})),setUser:wr((function(t){(function(t){var e="object"===Jr(t);return e||vr.error("Unsupported user:",t),e})(t)&&o.setContext(qi(t))})),getUser:wr((function(){return o.getContext()})),setUserProperty:wr((function(t,e){var n,r=qi((n={},n[t]=e,n))[t];o.setContextProperty(t,r)})),removeUserProperty:wr((function(t){return o.removeContextProperty(t)})),clearUser:wr((function(){return o.clearContext()})),startView:l,stopSession:wr((function(){c.stopSession()})),addFeatureFlagEvaluation:wr((function(t,e){c.addFeatureFlagEvaluation($r(t),$r(e))})),getSessionReplayLink:wr((function(){return e.getSessionReplayLink()})),startSessionReplayRecording:wr((function(){return e.start()})),stopSessionReplayRecording:wr((function(){return e.stop()}))},u=Lr({version:"5.9.0",onReady:function(t){t()}},s),Object.defineProperty(u,"_setDebug",{get:function(){return _r},enumerable:!1}),u);return f}(0,zc,{startDeflateWorker:jc,createDeflateEncoder:Mc});!function(t,e,n){var r=t[e];t[e]=n,r&&r.q&&r.q.forEach((function(t){return gr(t,"onReady callback threw an error:")()}))}(Rr(),"DD_RUM",Kc);class Gc{constructor(){this.events=new Map,this.previousEmits=new Map}waitForNext(t){return new Promise((e=>{this.once(t,e)}))}on(t,e,{replayLast:n=!1}={}){return this.events.has(t)||this.events.set(t,[]),this.events.get(t).push(e),n&&this.previousEmits.has(t)&&e(this.previousEmits.get(t)),()=>{this.removeListener(t,e)}}once(t,e,n){const r=this.on(t,(function(...t){r(),e(...t)}),n);return r}removeListener(t,e){var n;if(!this.events.has(t))return;const r=null!=(n=this.events.get(t))?n:[],i=r.findIndex((t=>t===e));r.splice(i,1)}emit(t,e){var n;this.previousEmits.set(t,e);const r=null!=(n=this.events.get(t))?n:[];for(const t of r.slice())t(e)}clear(){this.events.clear(),this.previousEmits.clear()}}const qc=new Gc,Hc=new Gc,Wc=new class{constructor(){this.session=void 0,this.deviceID=void 0,this.clientDeviceID=void 0,this.merchantClientID=void 0,this.authenticatedShopperSession=void 0,this.shopperLoginDeviceToken=void 0,this.traceID=void 0,this.boltAppSession=void 0,this.boltAppName=void 0,this.isEmbeddedCheckout=void 0,this.boltSourceName=void 0,this.boltSourceBuildNumber=void 0,this.merchantReferrer=void 0,this.checkoutType=void 0}setTraceID(t){this.traceID=t,function(t){Hc.emit("trace_id_observed",t)}(t)}};var Jc=n(1335);const Yc={name:"track",url:"https://connect.bolt.com",storage_key:"checkout"},Xc={timestamp:"1750664616265",build:"4549309",branch:"master",version:"4549309-fce765252f8",release_sha:"fce765252f811901c8c1a91191aa10f2f9f81d30",isV2Build:!0},Zc=["test","local","development","staging","sandbox","production"];function $c(){const t="production";return t}n(3110);const Qc=String.fromCharCode(...Array.from({length:32},((t,e)=>e)));new RegExp(`[${Qc}"<>{}]`,"g");let tl=function(t){return t.ttlKeyBufferKey="ttl_key_buffer",t.deviceLogKey="bolt_device_log_timestamp",t.refUrlKey="bolt_ref_url",t.merchantClientDeviceKey="bolt_merchant_client_device_id",t.boltCheckoutFormData="_Bolt_Checkout_Form_Data",t.boltNewAccountIdentifiers="_Bolt_New_Account_Identifiers",t.boltBCCartEncoded="BOLT_BC_CART_ENCODED",t.originalCartLocalStorageKey="bolt-ppc-original-cart",t.currentCartLocalStorageKey="bolt-ppc-current-cart-id",t.boltRouteAdded="boltRouteAdded",t.boltActiveSession="boltActiveSession",t.storageLoginKey="_Bolt_Login",t.isFirstVisitKey="is-first-onboarding-visit",t.debugLocalStorageKey="bolt_debug_event",t.clientDeviceKey="bolt_device_id",t.trackEventsKey="track_events",t.recommendationEventsKey="recommendation_events",t.isShopperLoginDeviceTokenSetCookieKey="is_shopper_login_device_token_set",t.doNotTrackCookie="bolt_do_not_track",t.accessTokenCookieKey="accessToken",t.experimentOverrideCookieKey="bolt_experiments_override",t.boltLoggingConfigCookie="bolt_logging",t.experimentOn="experiment_on",t.propagationOn="propagation_on",t.testLocalStorage="test-local-storage",t.skipAdminGoogleLogin="skip_admin_google_login",t.test="test",t.test2="test2",t.boltSession="bolt_session",t.hasDismissedAccountDashboardWelcome="account_dashboard_welcome_dismissed",t.arrivedFromRegistration="arrived-from-registration",t.selfServiceTrackingKey="self-service-tracking",t.prefetchUser="prefetch_user",t.prefetchOrder="prefetch_order_{orderToken}",t.merchantShippingOptionsTemplate="merchant_shipping_options_response_{merchantToken}",t.merchantResponseKeyTemplate="merchant_response_{merchantToken}{referrer}",t.merchantResponseTimestampKeyTemplate="merchant_response_timestamp_{merchantToken}{referrer}",t.boltCheckoutMerchantAnalyticsTemplate="Bolt_Checkout_Merchant_Analytics_{merchantToken}{referrer}",t.clientDeviceKeyTemplate="bolt_{appKey}_client_device_id",t.clientDeviceIdCookieKeyTemplate="client_device_id_{env}",t.sessionKeyTemplate="bolt_{appKey}_session",t.isVerifiedDeviceSavedKeyTemplate="bolt_{appKey}_is_verified_device_saved",t.deviceKeyTemplate="bolt_{appKey}_device_id",t.isShopperLoginDeviceTokenSetForAppKeyTemplate="bolt_{appKey}_is_shopper_login_device_token_set",t.shopperLoginDeviceTokenKeyForAppTemplate="bolt_{appKey}_shopper_login_device_token",t.isShopperLoginDeviceTokenSetKey="bolt_is_shopper_login_device_token_set",t.shopperLoginDeviceTokenKey="bolt_shopper_login_device_token",t.authenticatedShopperSessionTokenKey="bolt_authenticated_shopper_session_token",t.checkoutSessionKeyTemplate="bolt_{appKey}_checkout_session",t.paymentMethodsSessionToken="payment_methods_session_token",t.BoltShopperAssistantClosedKey="bolt_shopper_assistant_closed",t.BoltShopperAssistantMetadata="bolt_shopper_assistant_metadata",t.sharedClientDeviceKeyTemplate="bolt_client_device_id",t.checkoutPageIdKey="bolt_checkout_page_id",t.isDeviceRecognizedForNoLoginExperiment="is_device_recognized_for_no_login_experiment",t.boltVisitIDKey="bolt_visit_id_{site}",t.boltAnalyticsRules="bolt_analytics_rules",t.boltReferralCode="bolt_referral_code",t}({});function el(t,e){var n;let r;return void 0!==e&&(r=function(t,e){return t.replace(/\{(\w+)}/g,((t,n)=>e[n]||t))}(t,e)),null!=(n=r)?n:t}function nl(t,e,n=-1,r,i){if("undefined"==typeof document)return;const o=el(t,i),a="https:"===document.location.protocol;document.cookie=function(t,e,n,r=-1,i){let o="",a="",s="",u="";if(r>-1){const t=new Date;t.setTime(t.getTime()+60*r*1e3),o="; expires="+t.toUTCString()}return n&&(a="; SameSite=None",s="; Secure"),null!=i&&(u="; domain="+i),encodeURIComponent(t)+"="+encodeURIComponent(null!=e?e:"")+o+a+s+u+"; path=/"}(o,e,a,n,r)}function rl(t,e){if("undefined"==typeof document)return"";const n=el(t,e),r=encodeURIComponent(n)+"=",i=document.cookie.split(";");for(let t of i)if(t=ls()(t).call(t),t.startsWith(r))return decodeURIComponent(t.substring(r.length,t.length));return""}const il={},ol=function(t,...e){var n;const r=t instanceof Error?t:new Error(t);null==(n=il.error)||n.call(il,r,...e)};const al=(()=>{try{return window.localStorage}catch(t){}})(),sl=new class{constructor(){this.localStorageAvailable=void 0,this.localStorageAvailable=function(){if(null==al)return!1;try{return al.setItem(tl.testLocalStorage,"success"),al.removeItem(tl.testLocalStorage),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==al.length}}()}avail(){return this.localStorageAvailable}set(t,e,n){const r=el(t,n);this.localStorageAvailable&&al.setItem(r,e)}clear(t,e){const n=el(t,e);this.localStorageAvailable&&al.removeItem(n)}get(t,e){const n=el(t,e);return this.localStorageAvailable?al.getItem(n):void 0}key(t){return this.localStorageAvailable?al.key(t):null}clearAll(){this.localStorageAvailable&&al.clear()}getLength(){return this.localStorageAvailable?al.length:0}},ul="bolt"+(Math.random()+1).toString(36).substring(7),cl=(()=>{try{return window.sessionStorage}catch(t){}})(),ll=new class{constructor(){this.sessionStorageAvailable=void 0,this.sessionStorageAvailable=function(){if(null==cl)return!1;try{return cl.setItem(ul,"true"),cl.removeItem(ul),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==cl.length}}()}avail(){return this.sessionStorageAvailable}set(t,e,n){const r=el(t,n);this.sessionStorageAvailable&&cl.setItem(r,e)}clear(t,e){const n=el(t,e);this.sessionStorageAvailable&&cl.removeItem(n)}get(t,e){const n=el(t,e);return this.sessionStorageAvailable?cl.getItem(n):void 0}key(t){return this.sessionStorageAvailable?cl.key(t):null}clearAll(){this.sessionStorageAvailable&&cl.clear()}getLength(){return this.sessionStorageAvailable?cl.length:0}},fl=new class{constructor(){this.cookie=void 0,this.local=void 0,this.session=void 0,this.transient={},this.usingTransientStorage=!1,this.local=sl.avail(),this.cookie="undefined"!=typeof navigator&&navigator.cookieEnabled,this.session=ll.avail(),this.usingTransientStorage=!1,this.clearExpiredValues()}setTransientStorage(t){this.usingTransientStorage=t}set(t,e,n){const r=el(t,n);this.usingTransientStorage?this.transient[r]=e:this.local?sl.set(t,e,n):this.cookie?nl(t,e,525600,void 0,n):this.session&&ll.set(t,e,n)}setWithTTL(t,e,n,r){const i={value:e,ttl:(new Date).getTime()+1e3*n};this.set(t,JSON.stringify(i),r),this.trackKey(t,r)}clear(t,e){const n=el(t,e);this.transient[n]&&delete this.transient[n],this.local&&sl.clear(t,e),this.cookie&&function(t,e){nl(t,null,-1,void 0,e)}(t,e),this.session&&ll.clear(t,e)}get(t,e){const n=el(t,e);let r="";return this.usingTransientStorage?r=this.transient[n]:this.local?r=sl.get(t,e):this.cookie?r=rl(t,e):this.session&&(r=ll.get(t,e)),r=this.checkTTL(r,t,e),r}checkTTL(t,e,n){var r;if(null==t||""===t)return t;let i;try{i=JSON.parse(t)}catch{return t}return null!=(r=i)&&r.ttl?this.checkIfExpiredValue(i,e,n)?null:i.value:t}clearExpiredValues(){const t=this.ttlKeyBuffer.filter((t=>null!=this.get(t)));this.ttlKeyBuffer=t}checkIfExpiredValue(t,e,n){return(new Date).getTime()>t.ttl&&(this.untrackKey(e,n),this.clear(e,n),!0)}trackKey(t,e){this.ttlKeyBuffer=[el(t,e),...this.ttlKeyBuffer]}untrackKey(t,e){this.ttlKeyBuffer=this.ttlKeyBuffer.filter((n=>n===el(t,e)))}get ttlKeyBuffer(){let t;const e=this.get(tl.ttlKeyBufferKey);if(null==e||""===e)return[];try{t=JSON.parse(e)}catch{return[]}return t}set ttlKeyBuffer(t){this.set(tl.ttlKeyBufferKey,JSON.stringify(t))}},dl=Yc.storage_key,hl=$c();function pl(){if(Wc.clientDeviceID)return Wc.clientDeviceID;let t=rl(tl.clientDeviceIdCookieKeyTemplate,{env:hl});var e,n;return t||(t=fl.get(tl.sharedClientDeviceKeyTemplate)||""),t||(t=fl.get(tl.clientDeviceKeyTemplate,{appKey:dl})||""),t||(t=function(){const t=function(t){if("undefined"==typeof window)return new Error("No window in getRandomBytes");const e=new Uint8Array(16);return window.crypto.getRandomValues(e),e}();return t instanceof Error?(ol(t),(0,Jc.Z)()):t.reduce(((t,e)=>t+("00"+e.toString(16)).slice(-2)),"")}()),e=t,Wc.clientDeviceID=e,nl(tl.clientDeviceIdCookieKeyTemplate,e,525600,(n="staging",Zc.indexOf($c())>=Zc.indexOf(n)?"bolt.com":"bolt.me"),{env:hl}),fl.set(tl.sharedClientDeviceKeyTemplate,e),Wc.clientDeviceID=t,t}const vl="undefined"!=typeof DEFINE_EMBED_TARGET&&"core"===DEFINE_EMBED_TARGET;function gl(){let t;try{const e=window.location.pathname.split("/");e.length>1&&/^\d+$/.test(e[1])&&(t=e[1])}catch(t){console.error("Datadog Logs: Error accessing version:",t)}return t}const ml={public:{app:{name:"track",url:"https://connect.bolt.com",storage_key:"checkout"},api:{url:"https://api.bolt.com",version:"v1"},bugsnag:{api_key:"e4390328cf76b3974d02a45465db4a02"}}};function yl(t){const e=_l(t);return 3!==e.length?null:e[0]}function bl(t){const e=_l(t);return 3!==e.length?null:e[1]}function _l(t){return null==t||""===t?[]:t.split(".")}const wl={"*":"warn"},El=function(){const t=rl(tl.boltLoggingConfigCookie);if(!t)return wl;try{return{...wl,...JSON.parse(t)}}catch(t){return console.error("can't parse logging configuration",t),wl}}(),Sl=["trace","debug","info","warn","error"],Cl="undefined"!=typeof navigator&&navigator.webdriver;class kl{constructor(t){this.name=void 0,this.level=void 0,this.levelPriority=void 0,this.name=t,this.level=function(t){return El[t]||El["*"]}(t),this.levelPriority=Sl.indexOf(this.level)}trace(t,...e){this.log("trace",t,...e)}debug(t,...e){this.log("debug",t,...e)}info(t,...e){this.log("info",t,...e)}warn(t,...e){this.log("warn",t,...e)}error(t,...e){this.log("error",t,...e)}log(t,e,...n){if(Sl.indexOf(t)<this.levelPriority)return;let r=`${Date.now()} [${this.name}] ${e}`;switch(Cl&&(r=[r,...n.map(Il)].join(" "),n=[]),t){case"trace":case"debug":Cl?console.log(r,...n):console.debug(r,...n);break;case"info":console.info(r,...n);break;case"warn":console.warn(r,...n);break;case"error":console.error(r,...n)}}}function Il(t){return"string"==typeof t?t:JSON.stringify(t)}function xl(t){return new kl(t)}function Tl(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return"UNKNOWN"}}var Ol=n(3064),Al=n.n(Ol);n(7282);const Ll="";var Rl=n(4227),Dl=n.n(Rl);let Nl=function(t){return t.EXPERIMENT="Experiment",t.FEATURE_GATE="FeatureGate",t.LAYER="Layer",t}({}),Pl=function(t){return t.CLIENT_DEVICE_ID="clientDeviceId",t.APP_SESSION_ID="appSessionId",t.MERCHANT_CLIENT_ID="merchantClientId",t.REQUEST_ID="requestId",t}({}),Ml=function(t){return t.MERCHANT_PUBLIC_ID="merchantPublicId",t.DIVISION_PUBLIC_ID="divisionPublicId",t.LOCALE="locale",t}({});function Ul(t){const e={};return null!=t.merchantPublicId&&(e[Ml.MERCHANT_PUBLIC_ID]=t.merchantPublicId),null!=t.divisionPublicId&&(e[Ml.DIVISION_PUBLIC_ID]=t.divisionPublicId),null!=t.locale&&(e[Ml.LOCALE]=t.locale),{...e,...t.customAttributes}}function Bl(t){const e={};return null!=t.clientDeviceId&&(e[Pl.CLIENT_DEVICE_ID]=t.clientDeviceId),null!=t.merchantClientId&&(e[Pl.MERCHANT_CLIENT_ID]=t.merchantClientId),null!=t.appSessionId&&(e[Pl.APP_SESSION_ID]=t.appSessionId),e[Pl.REQUEST_ID]=t.requestId,e}const jl=new class{constructor(){this.user=void 0,this.options=void 0,this.sdkKey=void 0,this.valueCallback=void 0}async initialize(t,e,n,r,i,o){Dl().initializeCalled()||(this.sdkKey=t,this.user=function(t){return{userID:t.userId,customIDs:Bl(t),custom:Ul(t)}}(e),this.options={environment:{tier:n,name:n},loggingIntervalMillis:1e3,initCompletionCallback:o,disableErrorLogging:!0,disableAutoMetricsLogging:!0,disableCurrentPageLogging:!0,disableDiagnosticsLogging:!0,initRequestRetries:0},this.options.localMode=r,this.valueCallback=i,await Dl().initialize(this.sdkKey,this.user,this.options))}checkGate(t,e=!1){if(!Dl().initializeCalled())return!1;const n=Dl().getFeatureGate(t,{disableExposureLogging:e});return null!=this.valueCallback&&this.valueCallback({name:t,type:Nl.FEATURE_GATE,value:n.value,fallbackValue:!1,userId:this.user.userID,hashAttributes:JSON.stringify(this.user.customIDs),attributes:JSON.stringify(this.user.custom),ruleId:n.getRuleID(),groupName:n.getGroupName(),evaluationDetails:JSON.stringify(n.getEvaluationDetails())}),n.value}getExperimentValue(t,e,n){if(!Dl().initializeCalled())return n;const r=Dl().getExperiment(t),i=r.get(e,n);return null!=this.valueCallback&&this.valueCallback({name:t,type:Nl.EXPERIMENT,value:String(i),fallbackValue:n,userId:this.user.userID,hashAttributes:JSON.stringify(this.user.customIDs),attributes:JSON.stringify(this.user.custom),ruleId:r.getRuleID(),groupName:r.getGroupName(),evaluationDetails:JSON.stringify(r.getEvaluationDetails())}),i}getValueFromExperiment(t,e,n){const r=t.get(e,n);return null!=this.valueCallback&&this.valueCallback({name:t.getName(),type:Nl.EXPERIMENT,value:String(r),fallbackValue:n,userId:this.user.userID,hashAttributes:JSON.stringify(this.user.customIDs),attributes:JSON.stringify(this.user.custom),ruleId:t.getRuleID(),groupName:t.getGroupName(),evaluationDetails:JSON.stringify(t.getEvaluationDetails())}),r}getExperiment(t){if(Dl().initializeCalled())return Dl().getExperiment(t)}getExperimentWithExposureLoggingDisabled(t){if(Dl().initializeCalled())return Dl().getExperimentWithExposureLoggingDisabled(t)}getLayerValue(t,e,n){if(!Dl().initializeCalled())return n;const r=Dl().getLayer(t),i=r.get(e,n);return null!=this.valueCallback&&this.valueCallback({name:t,type:Nl.LAYER,value:String(i),fallbackValue:n,userId:this.user.userID,hashAttributes:JSON.stringify(this.user.customIDs),attributes:JSON.stringify(this.user.custom),ruleId:r.getRuleID(),groupName:r.getGroupName(),evaluationDetails:JSON.stringify(r.getEvaluationDetails())}),i}getLayer(t){if(Dl().initializeCalled())return Dl().getLayer(t)}getLayerWithExposureLoggingDisabled(t){if(Dl().initializeCalled())return Dl().getLayerWithExposureLoggingDisabled(t)}getValueFromLayer(t,e,n){const r=t.get(e,n);return null!=this.valueCallback&&this.valueCallback({name:t.getName(),type:Nl.LAYER,value:String(r),fallbackValue:n,userId:this.user.userID,hashAttributes:JSON.stringify(this.user.customIDs),attributes:JSON.stringify(this.user.custom),ruleId:t.getRuleID(),groupName:t.getGroupName(),evaluationDetails:JSON.stringify(t.getEvaluationDetails())}),r}logEvent(t,e,n){Dl().initializeCalled()&&Dl().logEvent(t,e,n)}async setCustomAttributes(t){return!!Dl().initializeCalled()&&(this.user.custom=null!=this.user.custom?{...this.user.custom,...t}:t,Dl().updateUser(this.user))}async setUserId(t){return!!Dl().initializeCalled()&&(this.user.userID=t,Dl().updateUser(this.user))}},Fl=new Map;class Vl{constructor(){this.experiment=void 0,this.layer=void 0,this.isStatsigLogDisabled=!1}static create(){return new Vl}static clearCache(){Fl.clear()}checkGate(t,e=!1){if(!e&&Fl.has(t))return Fl.get(t)||!1;const n=jl.checkGate(t,this.isStatsigLogDisabled);return Fl.set(t,n||!1),n}getExperiment(t){return this.experiment=new zl(t,this.isStatsigLogDisabled),this.experiment}getLayer(t){return this.layer=new Kl(t,this.isStatsigLogDisabled),this.layer}withStatsigLogDisabled(){return this.isStatsigLogDisabled=!0,this}async setCustomAttributes(t){return jl.setCustomAttributes(t)}}class zl{constructor(t,e){this.dynamicConfig=void 0,this.dynamicConfig=e?jl.getExperimentWithExposureLoggingDisabled(t):jl.getExperiment(t)}get(t,e){return this.dynamicConfig?jl.getValueFromExperiment(this.dynamicConfig,t,e):e}}class Kl{constructor(t,e){this.layer=void 0,this.layer=e?jl.getLayerWithExposureLoggingDisabled(t):jl.getLayer(t)}get(t,e){return this.layer?jl.getValueFromLayer(this.layer,t,e):e}}const Gl="undefined"!=typeof DEFINE_EMBED_TARGET&&"core"===DEFINE_EMBED_TARGET,ql=()=>Vl.create().checkGate("disable_bugsnag");const Hl=function(t,...e){const{err:n,errMessage:r}=function(t){if(t instanceof Error)return{err:t,errMessage:t.message};if("string"==typeof t)return{err:new Error(t),errMessage:t};const e=`${t.name}: ${t.message}`;return{err:new Error(e),errMessage:e}}(t);var i;(ql()||a.notify(n,...e),Gl)||(Kc.addError(n,...e),null==(i=lr.logger)||i.error(r,{error:{message:r,kind:n.name,stack:n.stack},...e}))},Wl=function(t,e){ql()||a.addMetadata(t,e),lr.setGlobalContextProperty(t,e),Kc.setGlobalContextProperty(t,e)};Kc.addError;function Jl(t){let e=0;for(let n=0;n<t.length;n++)e=Math.imul(31,e)+t.charCodeAt(n)|0;return e}class Yl{constructor(t,e){this.treatment=t,this.version=e}}class Xl{constructor(){this.overrides=function(){const t=rl(tl.experimentOverrideCookieKey);return t?JSON.parse(t):{}}(),this._config={tier1DivisionPublicIds:[],tier1MerchantPublicIds:[],experiments:{}}}set config(t){this._config=t}async assign(t,e,n){const r=await this.assignOfConfig(t,e,n);return this.applyCookieOverride(t,r)}isMerchantInABTest(t,e){const n=this._config.experiments;return Object.values(n).some((n=>"MerchantSite"===n.experimentType&&n.treatments.some((n=>this.matchMerchant(n,t,e)))))}applyCookieOverride(t,e){return t in this.overrides?{treatment:this.overrides[t],version:e.version}:e}async assignOfConfig(t,e,n){if(!(t in this._config.experiments))return new Yl(Ll,0);const r=this._config.experiments[t];if("On"!==r.experimentStatus)return new Yl(Ll,r.version);const i=await this.getTreatment(t,r,e,n);return new Yl(i?i.name:Ll,r.version)}async getTreatment(t,e,n,r){if("ClientDeviceId"!==e.primaryKeyType)return;const i=function(t,e){let n;switch(t){case"ClientDeviceId":n=e.clientDeviceId;break;case"ServerDeviceId":throw new Error(`Unsupported key type ${t}.`)}if(!n)throw new Error(`Invalid experiment configuration. Empty primary key for type ${t}.`);return n}(e.primaryKeyType,n),o=await async function(t,e,n){const r=n([t,e].join(":"));return Math.abs(r)%100}(t,i,r);for(const r of e.treatments)if(this.matchTreatment(t,r,n,o))return r}matchTreatment(t,e,n,r){return!!this.withinInterval(e.randomInterval,r)&&this.matchCondition(t,e,n)}matchCondition(t,e,n){let r=!1;if(n.merchantPublicId||n.merchantDivisionPublicId)r=this.matchMerchant(e,n.merchantPublicId,n.merchantDivisionPublicId);else{var i,o,a,s;if((!e.includeTier1Merchants||null!=(null==e||null==(i=e.condition)?void 0:i.merchantPublicIds)||null!=(null==e||null==(o=e.condition)?void 0:o.merchantDivisionPublicIds)||null!=(null==e||null==(a=e.condition)?void 0:a.excludesDivisionPublicIds)||null!=(null==e||null==(s=e.condition)?void 0:s.excludesMerchantPublicIds))&&n.allowMerchantTargeting)return Hl(new Error(`Cannot evaluate experiment: ${t}. Request does not have merchant public ID and division public ID`)),!1;r=!0}return r&&this.matchLocale(e,n.locale)}matchMerchant(t,e,n){const r=null==t?void 0:t.condition;if(!t.includeTier1Merchants){var i,o;if(null!=(i=this._config.tier1DivisionPublicIds)&&i.includes(n))return!1;if(null!=(o=this._config.tier1MerchantPublicIds)&&o.includes(e))return!1}if(null!=r){var a,s,u,c;if(null!=(null==r?void 0:r.merchantDivisionPublicIds)||null!=(null==r?void 0:r.merchantPublicIds))return!(null==(null==r?void 0:r.merchantDivisionPublicIds)||null==r||null==(a=r.merchantDivisionPublicIds)||!a.includes(n))||!(null==(null==r?void 0:r.merchantPublicIds)||null==r||null==(s=r.merchantPublicIds)||!s.includes(e));if(null!=(null==r?void 0:r.excludesDivisionPublicIds)||null!=(null==r?void 0:r.excludesMerchantPublicIds))return!(null!=(null==r?void 0:r.excludesDivisionPublicIds)&&null!=r&&null!=(u=r.excludesDivisionPublicIds)&&u.includes(n)||null!=(null==r?void 0:r.excludesMerchantPublicIds)&&null!=r&&null!=(c=r.excludesMerchantPublicIds)&&c.includes(e))}return!0}matchLocale(t,e){const n=null==t?void 0:t.condition;return null==n||(null!=(null==n?void 0:n.allowedLocales)&&null==e?(Hl(new Error("[Experiments] Cannot target locale if it is not set in the request")),!1):null==n.allowedLocales||null==e||n.allowedLocales.includes(e))}withinInterval(t,e){return 0!==t.length&&(this.isInterval(t)?this.withinOneInterval(t,e):this.withinIntervals(t,e))}isInterval(t){return"number"==typeof t[0]}withinIntervals(t,e){return t.some((t=>this.withinOneInterval(t,e)))}withinOneInterval(t,e){return e>=t[0]&&e<=t[1]}}const Zl=xl("bolt.experiment");async function $l(t){return Zl.info("loads.ts loadConfig"),async function(t){Zl.info("load.ts loadFromCloud.");const e=t?`${t}/experiments/config.json`:"/experiments/config.json",n=await async function(t){try{return await t}catch(t){return t instanceof Error?t:new Error(`Unknown error: ${t}`)}}(async function(t,n){return async function(t,e){let n=0;for(;;){const r=await t(n);if(e(r,n))return r;n++}}((()=>async function(t,e={}){return(await w(t,e)).json()}(e)),((t,e)=>!(t instanceof Error)||3===e))}());if(n instanceof Error)throw Hl(new Error("ExperimentLoadingError"),{info:{config:n}}),n;return n}(t)}const Ql=Date.now();const tf=function(t,e){!function(t,e){const n=n=>{(function(t,e){return"*"===e||t.origin===e})(n,e)&&t(function(t){const e=t.data;return"string"==typeof e&&e.startsWith("{")?JSON.parse(e):e}(n),n)};window.addEventListener("message",n)}(t,e)},ef=function(t,e){const n=e.contentWindow;n&&n.postMessage(function(t){return JSON.stringify(t)}(t),"https://connect.bolt.com")};class nf extends class{constructor(t,e){this.iframeLink=void 0,this.iframe=void 0,this.iframeId=void 0,this.iframeLink=t,this.iframeId=e,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{this.initialize()})):this.initialize()}initialize(){var t;const e=this.iframeLink;this.iframe=document.createElement("iframe"),this.iframe.setAttribute("id",null!=(t=this.iframeId)?t:"bolt-tracking-frame"),this.iframe.setAttribute("src",e),this.iframe.style.setProperty("display","none"),document.body.appendChild(this.iframe)}}{sendMessage(t,e){if(!this.iframe)return;ef({type:t,properties:e},this.iframe)}}class rf extends Error{}function of(t,e){try{if(e<0||e>100)return Hl(new Error(`isElementInViewPort: Allowed threshold value range is 1 to 100. Given value: ${e}`)),null;const n=af(),r=sf(),i=t.offsetHeight,o=t.offsetWidth,a=i*(1-e/100),s=o*(1-e/100),u=n+i*(e/100),c=r+o*(e/100),l=t.getBoundingClientRect();return l.top>=-a&&l.left>=-s&&l.bottom<=u&&l.right<=c}catch(t){return Hl(t,{info:{message:"Unable to determine if element is in view port"}}),null}}function af(){return window.innerHeight||document.documentElement.clientHeight}function sf(){return window.innerWidth||document.documentElement.clientWidth}const uf="https://connect.bolt.com",cf=xl("bolt.track");function lf(){let t={};const e=document.getElementsByTagName("meta");for(const n of e){const e=n.getAttribute("property"),r=n.getAttribute("content");e&&e.startsWith("og:")&&r&&(t={[e.toLowerCase()]:r,...t})}return t}function ff(){const t=document.querySelector("link[rel='canonical']");return(null==t?void 0:t.getAttribute("href"))||null}const df=null!=ml.public.bugsnag?function(t){const{env:n,version:r,reportUnhandledErrors:o=!0,...a}=t;return e().createClient({maxBreadcrumbs:40,redactedKeys:["ccn","cvv","exp","ccPostal","credit_card","creditcard","password","pwd"],releaseStage:n,appVersion:r,enabledBreadcrumbTypes:["error","log","request"],trackInlineScripts:!1,onError:t.onError||i,autoDetectErrors:o,...a})}({apiKey:ml.public.bugsnag.api_key,env:"production",version:"4549309-fce765252f8",reportUnhandledErrors:!1}):void 0;null!=df&&function(t){a=t}(new class{constructor(t){this.client=void 0,this.client=t,o=(t,e)=>this.notify(t,{info:{context:e}})}setContext(t){this.client.setContext(t)}resetEventCount(){}notify(t,e){this.client.notify(t,(t=>{var n;t.severity=null!=(n=null==e?void 0:e.severity)?n:"error",null!=(null==e?void 0:e.info)&&t.addMetadata("custom",e.info)})),function(t,e){const n={name:"bugsnag.notify",properties:{...e,clientTimestamp:String(Date.now())}};S({events:[n],counters:[{...n,delta:1}]})}(0,{error:t.message,name:t.name})}leaveBreadcrumb(t,e,n){this.client.leaveBreadcrumb(t,e,n)}addMetadata(t,e){this.client.addMetadata(t,e)}setUser(t,e,n){this.client.setUser(null!=t?t:void 0,null!=e?e:void 0,null!=n?n:void 0)}}(df)),ml.datadog&&function(t,e,n){if(!vl){lr.init({clientToken:t,service:"track",env:$c(),sessionSampleRate:100,forwardErrorsToLogs:!0,allowFallbackToLocalStorage:!0,usePartitionedCrossSiteSessionCookie:!0,telemetrySampleRate:0,version:gl()}),lr.setGlobalContextProperty("client_device_id",pl()),qc.on("visit_id_observed",(t=>{lr.setGlobalContextProperty("visit_id",t)}),{replayLast:!0}),Hc.on("trace_id_observed",(t=>{lr.setGlobalContextProperty("trace_id",t)}),{replayLast:!0});const e=lr.logger.error;lr.logger.error=function(t,r={},i){var o,a;return r.trace_id=Wc.traceID,r.merchant_name=null!=(o=null!=(a=r.merchant_name)?a:n)?o:"No match",e.call(lr.logger,t,r,i)}}}(ml.datadog.client_token),window.BoltTrack||(window.BoltTrack=new class{constructor(){var t;this.clientDeviceIDTimeout=2e3,this.frameManager=void 0,this.merchantKey=function(t){const e=document.getElementById("bolt-track");if(!e)throw new Error("scriptElem is null");const n=e.getAttribute("data-publishable-key");if(null!=n&&""!==n)return n;const r=e.getAttribute("data-merchant-key");if(null!=r&&""!==r)return r;throw new Error("merchant key not found")}(),this.commonEventProps={},this.initBarrier=function(){let t;return{promise:new Promise((e=>{t=e})),resolve:e=>t(e)}}(),this.merchantClientID=void 0,this.handleToHostMessage=t=>{"loadDone"===t.type&&(cf.info(`Client Device ID received from track iframe : ${t.clientDeviceID}`),this.setClientDeviceID(t.clientDeviceID),this.initBarrier.resolve(void 0),c(this.recordEvent("pageVisit",{referrerURL:document.referrer,url:encodeURI(decodeURI(window.location.href)),canonical_url:ff(),...lf()}),"recordEvent"))},this.getClientDeviceID=()=>sl.get(tl.clientDeviceKey)||void 0,this.setClientDeviceID=t=>{sl.set(tl.clientDeviceKey,t)},this.getBaseEventProps=()=>({url:window.location.href,referrerURL:document.referrer,merchantPublicID:yl(this.merchantKey)||"",userAgent:navigator.userAgent,app:Yc.name,time_zone:Tl(),merchantClientID:this.merchantClientID});const e=Date.now();this.merchantClientID=function(){let t=fl.get(tl.merchantClientDeviceKey);return null!=t&&"undefined"!==t&&"null"!==t||(t=(0,Jc.Z)(),fl.set(tl.merchantClientDeviceKey,t)),t}(),tf(this.handleToHostMessage,"*"),this.frameManager=new nf(function(t){const e=(n=t,new(Al())(Object.entries(n)).toString());var n;if("development",Zc.indexOf($c())<=Zc.indexOf("development"))return`${uf}/build/track_iframe.html?${e}`;const r=Xc.version.split("-")[0];return`${uf}/${r}/build/track_iframe.html?${e}`}({merchant_key:this.merchantKey,merchant_client_id:this.merchantClientID})),window.addEventListener("beforeunload",(()=>{c(this.recordEvent("pageClose",{url:encodeURI(decodeURI(window.location.href))}),"recordEvent")}),{passive:!0}),this.commonEventProps=this.getBaseEventProps(),Object.entries(this.commonEventProps).forEach((t=>Wl(t[0],t[1])));const n=Date.now();var r;window.addEventListener("load",(()=>{c(this.setupViewTrackingExperiment(),"setupViewTrackingExperiment")}),{passive:!0}),r={source:"default",app:Yc.name,client_build:null!=(t=Xc.build)?t:"",merchantClientID:this.merchantClientID,userAgent:navigator.userAgent},l={...l,...r},S({samples:[{name:"Track.Initialize.Start",value:e-Ql},{name:"Track.Initialize.End",value:n-Ql},{name:"Track.Initialize.Latency",value:n-e}]});const i=document.createElement("script");i.src=`${Yc.url}/bolt.js?publishable_key=${this.merchantKey}`,i.async=!0,document.head.appendChild(i)}version(){return""}async getAssignment(t,e){S({counters:[{name:"Track.GetAssignment.Invoke",delta:1}]});const n=null!=e?e:await async function(t,e=1e3,n=10){return await async function(t,e,n=1e3,r=10){return new Promise((i=>{let o=n;const a=setInterval((()=>{if(o<0)return clearInterval(a),void i(new y(`Timed out while waiting for ${t} (${n}ms)`));const s=t();if(e(s))return clearInterval(a),void i(s);o-=r}),r)}))}(t,Boolean,e,n)}(this.getClientDeviceID,this.clientDeviceIDTimeout);if(n instanceof Error)return Hl(new Error("Did not receive client Device ID from track iframe before timeout"),{info:{timeout:this.clientDeviceIDTimeout,merchantClientID:e,clientDeviceID:this.getClientDeviceID()}}),S({counters:[{name:"Track.GetAssignmentError.MissingClientID",delta:1}]}),Ll;const r=await this.loadConfigAndGetAssignment(t,n);return this.commonEventProps[`experiment_${t}`]=r,r}async loadConfigAndGetAssignment(t,e){try{const n=await async function(t,e){try{const n=await $l(Yc.url),r=new Xl;r.config=n;for(const i of Object.keys(n.experiments))if(i===t)return(await r.assign(i,e,Jl)).treatment}catch(e){const n=e instanceof Error?e:new Error(`Unable to get assignment for ${t}: ${e}`);Hl(n)}return Ll}(t,{merchantPublicId:yl(this.merchantKey),merchantDivisionPublicId:bl(this.merchantKey),clientDeviceId:e});return S({counters:[{name:"Track.GetAssignmentSuccess",delta:1}]}),n}catch(e){const n=e instanceof Error?e:new Error(`Unable to loadConfigAndGetAssignment: ${e}`);Hl(n,{info:{message:`Track JS: Unable to get assignment for experiment ${t}`}}),S({counters:[{name:"Track.GetAssignmentError.Assignment",delta:1}]})}return Ll}async recordEvent(t,e){try{await this.initBarrier.promise,localStorage&&localStorage.getItem(tl.debugLocalStorageKey)&&console.log(`${t} event with param: ${JSON.stringify(e)}`)}catch(t){Hl(t)}this.frameManager.sendMessage(t,{clientTimestamp:Date.now(),...this.commonEventProps,...e})}async setupViewTrackingExperiment(){const t=await this.getAssignment("product_view_tracking",this.merchantClientID);if(!t||!t.startsWith("enabled"))return;const e="enabled_with_no_sampling"===t?1:.25,n=function(t,e,n){const r=function(t){if(!("IntersectionObserver"in window))return new rf("IntersectionObserver API not supported.");const e=new IntersectionObserver(t.callback,{threshold:t.threshold}),n=document.querySelectorAll(t.domSelectors);return n.forEach((t=>e.observe(t))),{observer:e,observedItemCount:n.length}}({threshold:.7,callback:(r,i)=>{r.forEach((r=>{e&&i.unobserve(r.target);const o=r.target;(function(t){const e=af()*sf();return 0===e?-1:t.clientHeight*t.clientWidth/e*100})(o)<5||Math.random()<=t&&n("image_view",{image_url:o.src,height:o.height,width:o.width,client_height:o.clientHeight,client_width:o.clientWidth,sizes:o.sizes,alt:o.alt,title:o.title,viewport_height:Math.max(window.innerHeight||0,document.documentElement.clientHeight||0),viewport_width:Math.max(window.innerWidth||0,document.documentElement.clientWidth||0),is_intersecting:r.isIntersecting,is_in_viewport:of(o,70),intersection_threshold:.7,sampling_rate:t})}))},domSelectors:"img"});return r instanceof Error||function(t){"MutationObserver"in window?(new MutationObserver((e=>{let n=0;e.forEach((e=>{e.addedNodes.forEach((e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;const r=e.querySelectorAll("img");r.forEach((e=>t.observe(e))),n+=r.length}))})),S({counters:[{name:"Track.MutationObserver.NewObservables",delta:n}]})})).observe(document.body,{subtree:!0,childList:!0}),S({counters:[{name:"Track.MutationObserver.Supported",delta:1}]})):S({counters:[{name:"Track.MutationObserver.Unsupported",delta:1}]})}(r.observer),r}(e,!1,((t,e)=>{c(this.recordEvent(t,e),"recordEvent")}));n instanceof Error&&Hl(new Error("Unable to setup product image tracking experiment"),{info:{merchantClientID:this.merchantClientID,clientDeviceID:this.getClientDeviceID(),merchantKey:this.merchantKey}}),S({events:[{name:"view_tracking_setup",properties:{result:n instanceof Error?"failure":"success",observedItemCount:n instanceof Error?0:n.observedItemCount,samplingRate:e,merchantClientID:this.merchantClientID,merchantKey:this.merchantKey,clientDeviceID:this.getClientDeviceID()}}],counters:[{name:"view_tracking_observables",delta:n instanceof Error?0:n.observedItemCount,properties:{merchantKey:this.merchantKey,samplingRate:e}}]})}}),window.BoltTrack})()})();
//# bolt_internal_sourceMappingURL=https://internal.bolt.me/sourcemaps/production/track/4549309/track.js.map.gz